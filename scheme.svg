<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="613px" preserveAspectRatio="none" style="width:926px;height:613px;background:#FFFFFF;" version="1.1" viewBox="0 0 926 613" width="926px" zoomAndPan="magnify"><defs/><g><!--MD5=[89e6d60e5876151f740048b4df9ee345]
cluster geo--><g id="cluster_geo"><path d="M670.7688,514 L775.7688,514 A3.75,3.75 0 0 1 778.2688,516.5 L785.2688,536.2969 L916.7688,536.2969 A2.5,2.5 0 0 1 919.2688,538.7969 L919.2688,603.5 A2.5,2.5 0 0 1 916.7688,606 L670.7688,606 A2.5,2.5 0 0 1 668.2688,603.5 L668.2688,516.5 A2.5,2.5 0 0 1 670.7688,514 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="668.2688" x2="785.2688" y1="536.2969" y2="536.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="104" x="672.2688" y="528.9951">GeoIP Server</text></g><!--MD5=[5d33c6afe21d64e051f4958eaaefa78f]
cluster rabbit--><g id="cluster_rabbit"><path d="M80.7688,6 L155.7688,6 A3.75,3.75 0 0 1 158.2688,8.5 L165.2688,28.2969 L407.7688,28.2969 A2.5,2.5 0 0 1 410.2688,30.7969 L410.2688,115.5 A2.5,2.5 0 0 1 407.7688,118 L80.7688,118 A2.5,2.5 0 0 1 78.2688,115.5 L78.2688,8.5 A2.5,2.5 0 0 1 80.7688,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="78.2688" x2="165.2688" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="74" x="82.2688" y="20.9951">RabbitMQ</text></g><!--MD5=[2af96f7f65f84c32f13caa729cd2c4db]
cluster redis--><g id="cluster_redis"><path d="M8.7688,324 L52.7688,324 A3.75,3.75 0 0 1 55.2688,326.5 L62.2688,346.2969 L218.7688,346.2969 A2.5,2.5 0 0 1 221.2688,348.7969 L221.2688,413.5 A2.5,2.5 0 0 1 218.7688,416 L8.7688,416 A2.5,2.5 0 0 1 6.2688,413.5 L6.2688,326.5 A2.5,2.5 0 0 1 8.7688,324 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6.2688" x2="62.2688" y1="346.2969" y2="346.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="43" x="10.2688" y="338.9951">Redis</text></g><!--MD5=[e80b2a2e2b06ce4648c08fd86acf756b]
cluster s3--><g id="cluster_s3"><path d="M263.7688,290 L351.7688,290 A3.75,3.75 0 0 1 354.2688,292.5 L361.2688,312.2969 L407.7688,312.2969 A2.5,2.5 0 0 1 410.2688,314.7969 L410.2688,447.5 A2.5,2.5 0 0 1 407.7688,450 L263.7688,450 A2.5,2.5 0 0 1 261.2688,447.5 L261.2688,292.5 A2.5,2.5 0 0 1 263.7688,290 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="261.2688" x2="361.2688" y1="312.2969" y2="312.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="265.2688" y="304.9951">S3 Servers</text></g><!--MD5=[d07dc2620885ac2c5dccad6379311fe1]
cluster worker--><g id="cluster_worker"><path d="M80.7688,158 L171.7688,158 A3.75,3.75 0 0 1 174.2688,160.5 L181.2688,180.2969 L300.7688,180.2969 A2.5,2.5 0 0 1 303.2688,182.7969 L303.2688,247.5 A2.5,2.5 0 0 1 300.7688,250 L80.7688,250 A2.5,2.5 0 0 1 78.2688,247.5 L78.2688,160.5 A2.5,2.5 0 0 1 80.7688,158 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="78.2688" x2="181.2688" y1="180.2969" y2="180.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="82.2688" y="172.9951">File Worker</text></g><path d="M484.2688,187 L524.2688,187 A3.75,3.75 0 0 1 526.7688,189.5 L533.7688,209.2969 L538.2688,209.2969 A2.5,2.5 0 0 1 540.7688,211.7969 L540.7688,237.0938 A2.5,2.5 0 0 1 538.2688,239.5938 L484.2688,239.5938 A2.5,2.5 0 0 1 481.7688,237.0938 L481.7688,189.5 A2.5,2.5 0 0 1 484.2688,187 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="481.7688" x2="533.7688" y1="209.2969" y2="209.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="485.7688" y="201.9951">Client</text><path d="M461.2688,353 L547.2688,353 A3.75,3.75 0 0 1 549.7688,355.5 L556.7688,375.2969 L561.2688,375.2969 A2.5,2.5 0 0 1 563.7688,377.7969 L563.7688,403.0938 A2.5,2.5 0 0 1 561.2688,405.5938 L461.2688,405.5938 A2.5,2.5 0 0 1 458.7688,403.0938 L458.7688,355.5 A2.5,2.5 0 0 1 461.2688,353 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="458.7688" x2="556.7688" y1="375.2969" y2="375.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="462.7688" y="367.9951">Admin Panel</text><path d="M542.2688,543 L624.2688,543 A3.75,3.75 0 0 1 626.7688,545.5 L633.7688,565.2969 L638.2688,565.2969 A2.5,2.5 0 0 1 640.7688,567.7969 L640.7688,593.0938 A2.5,2.5 0 0 1 638.2688,595.5938 L542.2688,595.5938 A2.5,2.5 0 0 1 539.7688,593.0938 L539.7688,545.5 A2.5,2.5 0 0 1 542.2688,543 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="539.7688" x2="633.7688" y1="565.2969" y2="565.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="543.7688" y="557.9951">PostgreSQL</text><path d="M601.7688,353 L650.7688,353 A3.75,3.75 0 0 1 653.2688,355.5 L660.2688,375.2969 L664.7688,375.2969 A2.5,2.5 0 0 1 667.2688,377.7969 L667.2688,403.0938 A2.5,2.5 0 0 1 664.7688,405.5938 L601.7688,405.5938 A2.5,2.5 0 0 1 599.2688,403.0938 L599.2688,355.5 A2.5,2.5 0 0 1 601.7688,353 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="599.2688" x2="660.2688" y1="375.2969" y2="375.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="603.2688" y="367.9951">File API</text><path d="M400.7688,543 L487.7688,543 A3.75,3.75 0 0 1 490.2688,545.5 L497.2688,565.2969 L501.7688,565.2969 A2.5,2.5 0 0 1 504.2688,567.7969 L504.2688,593.0938 A2.5,2.5 0 0 1 501.7688,595.5938 L400.7688,595.5938 A2.5,2.5 0 0 1 398.2688,593.0938 L398.2688,545.5 A2.5,2.5 0 0 1 400.7688,543 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="398.2688" x2="497.2688" y1="565.2969" y2="565.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="402.2688" y="557.9951">Auth Service</text><g id="elem_N2"><path d="M711.7688,557 L711.7688,582.1328 L894.7688,582.1328 L894.7688,567 L884.7688,557 L711.7688,557 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M884.7688,557 L884.7688,567 L894.7688,567 L884.7688,557 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="717.7688" y="574.0669">Получение данных по IP</text></g><g id="elem_rabbit.Exchange"><rect fill="#F1F1F1" height="44.5938" style="stroke:#181818;stroke-width:0.5;" width="125" x="260.7688" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="267.7688" y="63.9951">rabbit.Exchange</text><line style="stroke:#181818;stroke-width:0.5;" x1="261.7688" x2="384.7688" y1="69.2969" y2="69.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="266.7688" y="86.292">FILES</text></g><g id="elem_rabbit.Queue"><rect fill="#F1F1F1" height="44.5938" style="stroke:#181818;stroke-width:0.5;" width="104" x="121.2688" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="128.2688" y="63.9951">rabbit.Queue</text><line style="stroke:#181818;stroke-width:0.5;" x1="122.2688" x2="224.2688" y1="69.2969" y2="69.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="127.2688" y="86.292">COPY_FILE</text></g><g id="elem_N3"><path d="M49.2688,367 L49.2688,392.1328 L197.2688,392.1328 L197.2688,377 L187.2688,367 L49.2688,367 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M187.2688,367 L187.2688,377 L197.2688,377 L187.2688,367 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="55.2688" y="384.0669">Идемпотентность</text></g><g id="elem_s3.Server"><rect fill="#F1F1F1" height="93.4844" style="stroke:#181818;stroke-width:0.5;" width="81" x="304.7688" y="333"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="312.7688" y="347.9951">s3.Server</text><line style="stroke:#181818;stroke-width:0.5;" x1="305.7688" x2="384.7688" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="310.7688" y="370.292">Server1_1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="310.7688" y="386.5889">Server1_2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="310.7688" y="402.8857">Server2_1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="310.7688" y="419.1826">Server2_2</text></g><g id="elem_N1"><path d="M121.7688,201 L121.7688,226.1328 L278.7688,226.1328 L278.7688,211 L268.7688,201 L121.7688,201 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M268.7688,201 L268.7688,211 L278.7688,211 L268.7688,201 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="127.7688" y="218.0669">Репликация файлов</text></g><!--MD5=[d4ad1d5275391ca8d3acb292d4b26dc5]
link client to api--><g id="link_client_api"><path d="M540.9488,235.35 C554.4288,245.85 569.8688,259.43 581.2688,274 C598.9188,296.55 612.9288,326.05 621.9388,347.95 " fill="none" id="client-to-api" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="623.8988,352.78,624.2075,342.936,622.0123,348.1495,616.7987,345.9544,623.8988,352.78" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[36b4c9669aa20fb9a1874c2eb93ee017]
link client to admin--><g id="link_client_admin"><path d="M511.2688,240.12 C511.2688,269.16 511.2688,316.49 511.2688,347.56 " fill="none" id="client-to-admin" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="511.2688,352.78,515.2688,343.78,511.2688,347.78,507.2688,343.78,511.2688,352.78" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1e7832c5d475e274364559735f0c55be]
link client to s3--><g id="link_client_s3"><path d="M481.7388,218.43 C427.3288,226.29 314.4188,245.65 288.2688,274 C284.3313,278.27 281.075,283.0714 278.392,288.2088 C278.2243,288.5299 278.0589,288.8523 277.8956,289.1759 C277.814,289.3378 277.7329,289.4999 277.6524,289.6624 " fill="none" id="client-to-s3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="277.6524,289.6624,285.233,283.3747,279.8727,285.1824,278.065,279.8222,277.6524,289.6624" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ab50e0dbee1692bc18212bd7db4cf92f]
link admin to db--><g id="link_admin_db"><path d="M524.0988,411.03 C538.7688,445.94 562.6488,502.77 577.3488,537.76 " fill="none" id="admin-db" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="579.4588,542.76,579.6787,532.9136,577.5306,538.1467,572.2975,535.9986,579.4588,542.76" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="522.0888,406.25,521.8688,416.0964,524.0169,410.8633,529.25,413.0114,522.0888,406.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1b9dbcfdb69d97b7ce5f2d963fc4ed75]
link api to db--><g id="link_api_db"><path d="M626.1788,411.48 C618.1888,446.43 605.2688,502.94 597.2988,537.78 " fill="none" id="api-db" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="596.1588,542.76,602.0649,534.8785,597.2737,537.8859,594.2663,533.0947,596.1588,542.76" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="627.3788,406.25,621.4727,414.1315,626.2639,411.1241,629.2712,415.9153,627.3788,406.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9923a99d7f49efa686b284b0f97ba819]
reverse link api to geo--><g id="link_api_geo"><path d="M640.2788,411.16 C646.2738,437.375 655.0813,475.875 662.4825,508.2288 C664.3328,516.3172 666.0953,524.0215 667.7039,531.0537 C667.8044,531.4932 667.9043,531.93 668.0037,532.3642 C668.0533,532.5813 668.1028,532.7978 668.1522,533.0135 " fill="none" id="api-backto-geo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="639.1588,406.25,637.2663,415.9153,640.2737,411.1241,645.0649,414.1315,639.1588,406.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b777313161c7c4da7debb7f1eb77133d]
link s3 to api--><g id="link_s3_api"><path d="M277.4182,289.5703 C277.7376,288.9398 278.0654,288.3143 278.4021,287.694 C281.0953,282.7316 284.35,278.1063 288.2688,274 C293.7788,268.23 297.8388,270.89 305.7688,270 C334.2588,266.79 535.2788,266.79 563.7688,270 C571.6988,270.89 575.0088,269.05 581.2688,274 C604.5988,292.44 618.2188,324.04 625.6188,347.87 " fill="none" id="s3-to-api" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="627.1088,352.82,628.3486,343.0495,625.6694,348.0317,620.6873,345.3525,627.1088,352.82" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d7f20e19fb8b493f4c42552f0a3e27f1]
link admin to auth--><g id="link_admin_auth"><path d="M501.5288,411.03 C490.3888,445.94 472.2488,502.77 461.0788,537.76 " fill="none" id="admin-auth" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="459.4788,542.76,466.0202,535.3973,460.9954,537.9956,458.3971,532.9707,459.4788,542.76" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="503.0488,406.25,496.5073,413.6127,501.5322,411.0144,504.1304,416.0393,503.0488,406.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[18f4a736a579fdc10a764eedadb63d0d]
link api to rabbit--><g id="link_api_rabbit"><path d="M633.9888,352.78 C633.8288,302.58 625.4288,192.08 558.2688,142 C538.0888,126.95 125.3888,149.12 105.2688,134 C102.4988,131.9188 100.121,129.4397 98.081,126.6897 C97.061,125.3147 96.1255,123.872 95.2676,122.3773 C94.8387,121.63 94.4291,120.8698 94.0382,120.0985 C93.8427,119.7129 93.6519,119.3245 93.4656,118.9336 C93.3724,118.7382 93.2804,118.5421 93.1895,118.3455 C93.1441,118.2471 93.0989,118.1487 93.054,118.05 " fill="none" id="api-to-rabbit" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="93.054,118.05,93.1418,127.8985,95.1254,122.6008,100.4231,124.5843,93.054,118.05" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[97e6d131b0d022fd9a8e6a5379105b1a]
link rabbit to worker--><g id="link_rabbit_worker"><path d="M86.2688,118.3322 C86.2688,118.5826 86.2688,118.8334 86.2688,119.0848 C86.2688,119.5874 86.2688,120.0919 86.2688,120.598 C86.2688,121.6104 86.2688,122.6295 86.2688,123.6544 C86.2688,125.7043 86.2688,127.7775 86.2688,129.8662 C86.2688,134.0436 86.2688,138.2831 86.2688,142.5225 C86.2688,146.7619 86.2688,151.0011 86.2688,155.1781 C86.2688,155.7002 86.2688,156.2213 86.2688,156.7414 C86.2688,157.0014 86.2688,157.2612 86.2688,157.5206 C86.2688,157.6504 86.2688,157.78 86.2688,157.9096 " fill="none" id="rabbit-to-worker" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="86.2688,157.9096,90.2688,148.9096,86.2688,152.9096,82.2688,148.9096,86.2688,157.9096" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d9f205d40b09166e953ea85a07a8d14c]
link worker to s3--><g id="link_worker_s3"><path d="M93.2599,250.0092 C93.2978,250.094 93.3359,250.1787 93.3742,250.2634 C93.6806,250.9405 94.0002,251.6121 94.3336,252.2764 C97.0006,257.5912 100.5488,262.445 105.2688,266 C124.4888,280.48 193.0888,260.88 213.2688,274 C235.0138,288.135 248.9188,313.67 257.4338,335.9587 C258.4981,338.7448 259.4783,341.4802 260.379,344.1363 C260.6042,344.8003 260.8244,345.4593 261.0397,346.113 C261.0936,346.2764 261.1471,346.4395 261.2003,346.6022 " fill="none" id="worker-s3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="261.2003,346.6022,262.2045,336.8046,259.6461,341.8499,254.6008,339.2915,261.2003,346.6022" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="93.2599,250.0092,93.2789,259.858,95.2994,254.5743,100.5831,256.5948,93.2599,250.0092" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[02b7018ef42244acca7279cb01943986]
link worker to redis--><g id="link_worker_redis"><path d="M78.1439,221.0053 C78.0802,221.0589 78.0163,221.1128 77.952,221.167 C77.8235,221.2754 77.6938,221.385 77.563,221.4958 C77.0399,221.9389 76.4989,222.4009 75.9418,222.881 C74.8276,223.8412 73.6488,224.874 72.4185,225.9743 C69.9579,228.1749 67.2916,230.6453 64.525,233.3438 C53.4588,244.1375 40.7888,258.58 33.2688,274 C28.1763,284.4425 24.4394,296.0744 21.6994,307.6777 C21.0144,310.5785 20.3917,313.4775 19.8257,316.3557 C19.5427,317.7948 19.2739,319.2287 19.0185,320.6551 C18.8909,321.3682 18.7666,322.0795 18.6455,322.7886 C18.585,323.1431 18.5253,323.4971 18.4664,323.8505 " fill="none" id="worker-redis" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="18.4664,323.8505,23.8912,315.6303,19.2882,318.9185,16,314.3155,18.4664,323.8505" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="78.1439,221.0053,68.6826,223.7408,74.3187,224.2251,73.8343,229.8612,78.1439,221.0053" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[04479b29f7fafb138ceeabc0c01db4da]
@startuml
package "Client" as client {}
package "Admin Panel" as admin {}
package "PostgreSQL" as db {}
package "File API" as api {}

package "Auth Service" as auth {}
package "GeoIP Server" as geo {
  note "Получение данных по IP" as N2
}

together {
package "RabbitMQ" as rabbit {
  object rabbit.Exchange
  rabbit.Exchange : FILES

  object rabbit.Queue
  rabbit.Queue : COPY_FILE
}

package "Redis" as redis {
    note "Идемпотентность" as N3
}

package "S3 Servers" as s3 {
    object s3.Server
    s3.Server : Server1_1
    s3.Server : Server1_2
    s3.Server : Server2_1
    s3.Server : Server2_2
}
  package "File Worker" as worker {
  note "Репликация файлов" as N1
}
  }

client - -> api
client - -> admin
client - -> s3
admin <- -> db
api <- -> db
api <- - geo
s3 - -> api
admin <- -> auth
api - -> rabbit
rabbit - -> worker
worker <- -> s3
worker <- -> redis
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>