{"version":3,"file":"js/app.76654284.js","mappings":"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","sources":["webpack://vue_project/./src/App.vue","webpack://vue_project/./src/views/BasePage.vue","webpack://vue_project/./src/components/navigation/NavigationComponent.vue","webpack://vue_project/./src/logic/adapters/base_repository.js","webpack://vue_project/./src/logic/adapters/flat_repository.js","webpack://vue_project/./src/logic/adapters/mixins/current.js","webpack://vue_project/./src/logic/adapters/user_repository.js","webpack://vue_project/./src/logic/adapters/token_repository.js","webpack://vue_project/./src/logic/adapters/file_flat_repository.js","webpack://vue_project/./src/logic/domain/dataclass.js","webpack://vue_project/./src/logic/adapters/api_responses/models/tokens.js","webpack://vue_project/./src/logic/adapters/api_responses/models/user.js","webpack://vue_project/./src/logic/adapters/api_responses/models/cdn_server.js","webpack://vue_project/./src/logic/adapters/api_responses/models/file.js","webpack://vue_project/./src/logic/adapters/api_responses/models/link.js","webpack://vue_project/./src/logic/adapters/api_responses/models/user_action.js","webpack://vue_project/./src/logic/adapters/api_responses/models/file_share_link.js","webpack://vue_project/./src/logic/adapters/api.js","webpack://vue_project/./src/logic/adapters/api_http.js","webpack://vue_project/./src/logic/adapters/api_provider.js","webpack://vue_project/./src/logic/adapters/notificator.js","webpack://vue_project/./src/logic/adapters/timer.js","webpack://vue_project/./src/logic/adapters/mixins/count.js","webpack://vue_project/./src/logic/adapters/countable_flat_repository.js","webpack://vue_project/./src/logic/service_layer/uow.js","webpack://vue_project/./src/components/navigation/NavigationComponent.vue?1434","webpack://vue_project/./src/views/BasePage.vue?a8b8","webpack://vue_project/./src/App.vue?7ccd","webpack://vue_project/./src/views/LoginPage.vue","webpack://vue_project/./src/logic/domain/command.js","webpack://vue_project/./src/logic/domain/event.js","webpack://vue_project/./src/logic/service_layer/command_handlers/common_handlers.js","webpack://vue_project/./src/logic/domain/model.js","webpack://vue_project/./src/logic/service_layer/command_handlers/user_handlers.js","webpack://vue_project/./src/logic/service_layer/command_handlers/cdn_server_handlers.js","webpack://vue_project/./src/logic/service_layer/utils/filename.js","webpack://vue_project/./src/logic/service_layer/utils/file_download.js","webpack://vue_project/./src/logic/service_layer/command_handlers/file_handlers.js","webpack://vue_project/./src/logic/service_layer/event_handlers.js","webpack://vue_project/./src/logic/service_layer/message_bus.js","webpack://vue_project/./src/components/buttons/BtnComponent.vue","webpack://vue_project/./src/components/buttons/BtnComponent.vue?3d80","webpack://vue_project/./src/components/HeadingComponent.vue","webpack://vue_project/./src/components/HeadingComponent.vue?fb86","webpack://vue_project/./src/components/fields/FormTextInput.vue","webpack://vue_project/./src/components/fields/FormTextInput.vue?cd20","webpack://vue_project/./src/views/LoginPage.vue?fce3","webpack://vue_project/./src/views/MainPage.vue","webpack://vue_project/./src/components/document/DocumentPaginationRow.vue","webpack://vue_project/./src/components/buttons/TextButton.vue","webpack://vue_project/./src/components/buttons/TextButton.vue?2665","webpack://vue_project/./src/components/document/DocumentPaginationRow.vue?2669","webpack://vue_project/./src/components/file/FileDropZone.vue","webpack://vue_project/./src/components/file/FileDropZone.vue?4a60","webpack://vue_project/./src/components/file/FileBlock.vue","webpack://vue_project/./src/components/buttons/ToggleTextButton.vue","webpack://vue_project/./src/components/buttons/ToggleTextButton.vue?7a9c","webpack://vue_project/./src/components/file/FileBlock.vue?e3ec","webpack://vue_project/./src/components/file/FileList.vue","webpack://vue_project/./src/components/file/FileList.vue?1d44","webpack://vue_project/./src/components/forms/BaseForm.vue","webpack://vue_project/./src/components/fields/FormTextField.vue","webpack://vue_project/./src/components/fields/FormTextField.vue?8ba2","webpack://vue_project/./src/components/fields/FormBooleanInput.vue","webpack://vue_project/./src/components/fields/FormBooleanInput.vue?b978","webpack://vue_project/./src/components/forms/BaseForm.vue?93a1","webpack://vue_project/./src/logic/service_layer/use_modules.js","webpack://vue_project/./src/views/MainPage.vue?5494","webpack://vue_project/./src/views/ServersPage.vue","webpack://vue_project/./src/components/SearchComponent.vue","webpack://vue_project/./src/components/document/DocumentPageSearchRow.vue","webpack://vue_project/./src/components/SizedDiv.vue","webpack://vue_project/./src/components/SizedDiv.vue?f107","webpack://vue_project/./src/components/fields/FormSelectInput.vue","webpack://vue_project/./src/components/fields/FormSelectInput.vue?f7b0","webpack://vue_project/./src/components/fields/FormFilteredSelectInput.vue","webpack://vue_project/./src/components/fields/FormFilteredSelectInput.vue?5112","webpack://vue_project/./src/components/document/TuningItem.vue","webpack://vue_project/./src/components/buttons/IconButton.vue","webpack://vue_project/./src/components/buttons/IconButton.vue?929d","webpack://vue_project/./src/components/document/TuningItem.vue?ad77","webpack://vue_project/./src/components/document/DocumentPageSearchRow.vue?9ce3","webpack://vue_project/./src/components/document/DocumentAttributeRow.vue","webpack://vue_project/./src/components/fields/FormDateInput.vue","webpack://vue_project/./src/components/fields/FormDateInput.vue?fc74","webpack://vue_project/./src/components/document/DocumentAttributeRow.vue?0dac","webpack://vue_project/./src/components/document/DocumentPageSortRow.vue","webpack://vue_project/./src/components/buttons/ArrowSwitch.vue","webpack://vue_project/./src/components/buttons/ArrowSwitch.vue?3deb","webpack://vue_project/./src/components/document/DocumentPageSortRow.vue?0147","webpack://vue_project/./src/components/document/DocumentSearchStatusRow.vue","webpack://vue_project/./src/components/document/DocumentSearchStatusRow.vue?3de7","webpack://vue_project/./src/components/document/DocumentFilesRow.vue","webpack://vue_project/./src/components/document/DocumentFilesRow.vue?91a5","webpack://vue_project/./src/components/SearchComponent.vue?c49b","webpack://vue_project/./src/views/ServersPage.vue?5145","webpack://vue_project/./src/views/service/MessagePage.vue","webpack://vue_project/./src/views/service/MessagePage.vue?3696","webpack://vue_project/./src/views/download/DownloadFilePage.vue","webpack://vue_project/./src/components/document/DocumentPageDownloadProgressRow.vue","webpack://vue_project/./src/components/document/DocumentPageDownloadProgressRow.vue?ef8b","webpack://vue_project/./src/views/download/DownloadFilePage.vue?7238","webpack://vue_project/./src/router/index.js","webpack://vue_project/./src/main.js","webpack://vue_project/webpack/bootstrap","webpack://vue_project/webpack/runtime/chunk loaded","webpack://vue_project/webpack/runtime/compat get default export","webpack://vue_project/webpack/runtime/define property getters","webpack://vue_project/webpack/runtime/global","webpack://vue_project/webpack/runtime/hasOwnProperty shorthand","webpack://vue_project/webpack/runtime/jsonp chunk loading","webpack://vue_project/webpack/startup"],"sourcesContent":["<template>\r\n  <base-page />\r\n</template>\r\n\r\n<script>\r\nimport { provide } from \"vue\";\r\nimport BasePage from \"./views/BasePage.vue\";\r\n\r\nexport default {\r\n  components: { BasePage },\r\n  name: \"App\",\r\n  setup() {\r\n    provide(\"download_progress\", {});\r\n    provide(\"users\", {});\r\n    provide(\"tokens\", {});\r\n\r\n    provide(\"cdn_servers\", {});\r\n    provide(\"user_actions\", {});\r\n    provide(\"files\", {});\r\n    provide(\"file_share_links\", {});\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"container\">\r\n    <navigation-component :links=\"navigation_links\" />\r\n    <router-view v-slot=\"{ Component, route }\">\r\n      <transition :name=\"route.meta.transitionName\">\r\n        <component :is=\"Component\" :key=\"route.path\" />\r\n      </transition>\r\n    </router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavigationComponent from \"../components/navigation/NavigationComponent.vue\";\r\n\r\nexport default {\r\n  components: { NavigationComponent },\r\n  name: \"BasePage\",\r\n\r\n  setup() {\r\n    const navigation_links = [\r\n      { route_name: \"LoginPage\", title: \"Вход\" },\r\n      { route_name: \"MainPage\", title: \"Главная\" },\r\n      { route_name: \"ServersPage\", title: \"CDN\" },\r\n    ];\r\n\r\n    return {\r\n      navigation_links,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Указываем box sizing */\r\n*,\r\n*::before,\r\n*::after {\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Убираем внутренние отступы */\r\nul[class],\r\nol[class] {\r\n  padding: 0;\r\n}\r\n\r\n/* Убираем внешние отступы */\r\nbody,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\np,\r\nul[class],\r\nol[class],\r\nli,\r\nfigure,\r\nfigcaption,\r\nblockquote,\r\ndl,\r\ndd {\r\n  margin: 0;\r\n}\r\n\r\nhtml {\r\n  height: 100%;\r\n}\r\n\r\n/* Выставляем основные настройки по-умолчанию для body */\r\nbody {\r\n  min-height: 100vh;\r\n  scroll-behavior: smooth;\r\n  text-rendering: optimizeSpeed;\r\n  height: 100%;\r\n}\r\n\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* Удаляем стандартную стилизацию для всех ul и il, у которых есть атрибут class*/\r\nul[class],\r\nol[class] {\r\n  list-style: none;\r\n}\r\n\r\n/* Элементы a, у которых нет класса, сбрасываем до дефолтных стилей */\r\na:not([class]) {\r\n  text-decoration-skip-ink: auto;\r\n}\r\n\r\n/* Упрощаем работу с изображениями */\r\nimg {\r\n  max-width: 100%;\r\n  display: block;\r\n}\r\n\r\n/* Указываем понятную периодичность в потоке данных у article*/\r\narticle > * + * {\r\n  margin-top: 1em;\r\n}\r\n\r\n/* Наследуем шрифты для инпутов и кнопок */\r\ninput,\r\nbutton,\r\ntextarea,\r\nselect {\r\n  font: inherit;\r\n}\r\n\r\n/* Удаляем все анимации и переходы для людей, которые предпочитай их не использовать */\r\n@media (prefers-reduced-motion: reduce) {\r\n  * {\r\n    animation-duration: 0.01ms !important;\r\n    animation-iteration-count: 1 !important;\r\n    transition-duration: 0.01ms !important;\r\n    scroll-behavior: auto !important;\r\n  }\r\n}\r\n\r\n/* Стили приложения */\r\n\r\n.app {\r\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\r\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\r\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\r\n  font-size: 16px;\r\n  height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"nav\">\r\n    <div v-for=\"item in links\" v-bind:key=\"item.route_name\" class=\"nav__links\">\r\n      <router-link class=\"nav__item\" :to=\"{ name: item.route_name }\">{{\r\n        item.title\r\n      }}</router-link>\r\n    </div>\r\n\r\n    <div class=\"nav__empty\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { VueUnitOfWork } from \"../../logic/service_layer/uow\";\r\n\r\nexport default {\r\n  name: \"NavigationComponent\",\r\n  props: {\r\n    links: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  setup() {\r\n    const uow = new VueUnitOfWork();\r\n    const user = uow.user_repository.get_current(); // Ref\r\n    return { user };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.nav {\r\n  display: flex;\r\n  justify-content: right;\r\n  align-items: center;\r\n  background-color: #f8f9fa;\r\n  border-bottom-width: 1px;\r\n  border-bottom-style: solid;\r\n  border-bottom-color: rgb(222, 226, 230);\r\n}\r\n\r\n.nav__empty {\r\n  flex-grow: 1;\r\n}\r\n\r\n.nav__item {\r\n  display: block;\r\n  box-sizing: border-box;\r\n  text-decoration: none;\r\n  border: solid transparent;\r\n  border-width: 1px 1px 0 1px;\r\n  border-top-left-radius: 0.25rem;\r\n  border-top-right-radius: 0.25rem;\r\n  padding: 10px;\r\n  text-align: left;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  color: #007bff;\r\n}\r\n\r\n.nav__item:link,\r\n.nav__item:visited {\r\n  color: #007bff;\r\n}\r\n\r\n.nav__item:focus,\r\n.nav__item:hover {\r\n  color: darkblue;\r\n  border-color: rgb(222, 226, 230);\r\n}\r\n</style>","import { inject, isRef, ref } from \"vue\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass AbstractBaseRepository {\r\n  _deep_copy(obj) {\r\n    return JSON.parse(JSON.stringify(obj));\r\n  }\r\n\r\n  _create_name(name) {\r\n    const _name = Array.isArray(name) ? name.join() : name;\r\n    return _name;\r\n  }\r\n\r\n  _set() {\r\n    throw new NotImplementedError('\"set\" method has not been implemented');\r\n  }\r\n\r\n  _get() {\r\n    throw new NotImplementedError('\"get\" method has not been implemented');\r\n  }\r\n\r\n  _delete() {\r\n    throw new NotImplementedError('\"delete\" method has not been implemented');\r\n  }\r\n\r\n  _add_key() {\r\n    throw new NotImplementedError('\"add_key\" method has not been implemented');\r\n  }\r\n\r\n  _remove_key() {\r\n    throw new NotImplementedError(\r\n      '\"remove_key\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _keys() {\r\n    throw new NotImplementedError('\"keys\" method has not been implemented');\r\n  }\r\n\r\n  _values() {\r\n    throw new NotImplementedError('\"values\" method has not been implemented');\r\n  }\r\n\r\n  _pure_keys() {\r\n    throw new NotImplementedError(\r\n      '\"pure keys\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _keys_box() {\r\n    throw new NotImplementedError('\"keys box\" method has not been implemented');\r\n  }\r\n\r\n  _values_box() {\r\n    throw new NotImplementedError(\r\n      '\"values box\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _pure_keys_box() {\r\n    throw new NotImplementedError(\r\n      '\"pure keys box\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _set_box() {\r\n    throw new NotImplementedError('\"set_box\" method has not been implemented');\r\n  }\r\n\r\n  _get_box() {\r\n    throw new NotImplementedError('\"get_box\" method has not been implemented');\r\n  }\r\n\r\n  _delete_box() {\r\n    throw new NotImplementedError(\r\n      '\"delete_box\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _add_box_key() {\r\n    throw new NotImplementedError(\r\n      '\"add_box_key\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _remove_box_key() {\r\n    throw new NotImplementedError(\r\n      '\"remove_box_key\" method has not been implemented'\r\n    );\r\n  }\r\n}\r\n\r\nclass VueBaseRepository extends AbstractBaseRepository {\r\n  constructor(name) {\r\n    super();\r\n    this._properties = inject(name);\r\n  }\r\n\r\n  _reset() {\r\n    Object.keys(this._properties).forEach((key) => {\r\n      delete this._properties[key];\r\n    });\r\n  }\r\n\r\n  _set(name, value, add_key = true) {\r\n    const _name = name.toString();\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, _name)) {\r\n      this._properties[_name] = ref(value);\r\n    } else {\r\n      this._properties[_name].value = value;\r\n    }\r\n    if (add_key) this._add_key(_name);\r\n  }\r\n\r\n  _get(name, empty = null) {\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, name)) {\r\n      this._set(name, this._deep_copy(empty), false);\r\n    }\r\n    return this._properties[name];\r\n  }\r\n\r\n  _delete(name) {\r\n    const _name = name.toString();\r\n    this._set(_name, null);\r\n    this._remove_key(_name);\r\n  }\r\n\r\n  _add_key(name) {\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, \"__KEYS__\")) {\r\n      this._properties[\"__KEYS__\"] = ref([]);\r\n    }\r\n\r\n    const keys = this._get(\"__KEYS__\");\r\n    if (keys.value.indexOf(name) === -1) {\r\n      keys.value.push(name);\r\n    }\r\n  }\r\n\r\n  _remove_key(name) {\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, \"__KEYS__\"))\r\n      return;\r\n\r\n    this._properties[\"__KEYS__\"].value = this._properties[\r\n      \"__KEYS__\"\r\n    ].value.filter((e) => e !== name);\r\n  }\r\n\r\n  _keys() {\r\n    return this._get(\"__KEYS__\", []);\r\n  }\r\n\r\n  _pure_keys() {\r\n    const keys = this._keys();\r\n    return isRef(keys) ? keys.value : keys;\r\n  }\r\n\r\n  _values() {\r\n    return this._keys().value.map((key) => this._get(key));\r\n  }\r\n\r\n  _keys_box(box_id) {\r\n    const _name = this._create_name([\"BOX\", box_id, \"__KEYS__\"]);\r\n    return this._get(_name, []);\r\n  }\r\n\r\n  _pure_keys_box(box_id) {\r\n    const keys = this._keys_box(box_id);\r\n    return isRef(keys) ? keys.value : keys;\r\n  }\r\n\r\n  _values_box(box_id) {\r\n    return this._keys_box(box_id).value.map((key) =>\r\n      this._get_box(box_id, key)\r\n    );\r\n  }\r\n\r\n  _set_box(box_id, name, value) {\r\n    const _name = this._create_name([\"BOX\", box_id, name]);\r\n    this._set(_name, value, false);\r\n    this._add_box_key(box_id, name.toString());\r\n  }\r\n\r\n  _get_box(box_id, name, empty = null) {\r\n    const _name = this._create_name([\"BOX\", box_id, name]);\r\n    return this._get(_name, empty);\r\n  }\r\n\r\n  _delete_box(box_id, name) {\r\n    const _name = this._create_name([\"BOX\", box_id, name]);\r\n    this._delete(_name);\r\n    this._remove_box_key(box_id, name.toString());\r\n  }\r\n\r\n  _add_box_key(box_id, name) {\r\n    const _keys_name = this._create_name([\"BOX\", box_id, \"__KEYS__\"]);\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, _keys_name)) {\r\n      this._properties[_keys_name] = ref([]);\r\n    }\r\n\r\n    const keys = this._get(_keys_name);\r\n    if (keys.value.indexOf(name) === -1) {\r\n      keys.value.push(name);\r\n    }\r\n  }\r\n\r\n  _remove_box_key(box_id, name) {\r\n    const _keys_name = this._create_name([\"BOX\", box_id, \"__KEYS__\"]);\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, _keys_name))\r\n      return;\r\n\r\n    this._properties[_keys_name].value = this._properties[\r\n      _keys_name\r\n    ].value.filter((e) => e !== name);\r\n  }\r\n}\r\n\r\nexport { VueBaseRepository };\r\n","import { VueBaseRepository } from \"./base_repository\";\r\n\r\nconst FlatMixin = {\r\n  reset() {\r\n    this._reset();\r\n  },\r\n\r\n  reset_keeping_refs() {\r\n    this.keys().value.forEach((key) => this.delete(key));\r\n  },\r\n\r\n  get(name) {\r\n    return this._get(name);\r\n  },\r\n\r\n  set(name, value) {\r\n    // console.log(name, value)\r\n    return this._set(name, value);\r\n  },\r\n\r\n  delete(name) {\r\n    return this._delete(name);\r\n  },\r\n\r\n  keys() {\r\n    return this._keys();\r\n  },\r\n\r\n  pure_keys() {\r\n    return this._pure_keys();\r\n  },\r\n\r\n  values() {\r\n    return this._values();\r\n  },\r\n};\r\n\r\nclass VueFlatRepository extends VueBaseRepository {}\r\nObject.assign(VueBaseRepository.prototype, FlatMixin);\r\n\r\nexport { VueFlatRepository };\r\n","const CurrentMixin = {\r\n  set_current(obj) {\r\n    this._set_box(\"__CURRENT__\", \"__CURRENT__\", obj);\r\n  },\r\n\r\n  get_current() {\r\n    return this._get_box(\"__CURRENT__\", \"__CURRENT__\");\r\n  },\r\n\r\n  is_current_settled() {\r\n    return this._get_box(\"__CURRENT__\", \"__CURRENT__\").value !== null;\r\n  },\r\n};\r\n\r\nexport { CurrentMixin };\r\n","import { VueFlatRepository } from \"./flat_repository\";\r\nimport { CurrentMixin } from \"./mixins/current\";\r\n\r\nconst AuthenticatedMixin = {\r\n  is_authenticated() {\r\n    return this.is_current_settled();\r\n  },\r\n};\r\n\r\n\r\nclass VueUserRepository extends VueFlatRepository {}\r\nObject.assign(\r\n  VueUserRepository.prototype,\r\n  CurrentMixin,\r\n  AuthenticatedMixin,\r\n);\r\n\r\nexport { VueUserRepository };\r\n","/* eslint-disable */\r\n\r\nimport { VueBaseRepository } from \"./base_repository\";\r\n\r\nfunction parseJwt(token) {\r\n  var base64Url = token.split('.')[1];\r\n  var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n  var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function (c) {\r\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n  }).join(''));\r\n\r\n  return JSON.parse(jsonPayload);\r\n}\r\n\r\nconst get_exp_time_from_token = (encoded_token) => {\r\n  const payload = parseJwt(encoded_token)\r\n  return payload['exp']\r\n}\r\n\r\nfunction getCookie(name) {\r\n  let matches = document.cookie.match(new RegExp(\r\n    \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n  ));\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nfunction deleteCookie(name) {\r\n  setCookie(name, \"\", {\r\n    'max-age': -1\r\n  })\r\n}\r\n\r\nfunction setCookie(name, value, options = {}) {\r\n\r\n  options = {\r\n    path: '/',\r\n    // при необходимости добавьте другие значения по умолчанию\r\n    ...options\r\n  };\r\n\r\n  if (options.expires instanceof Date) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n  for (let optionKey in options) {\r\n    updatedCookie += \"; \" + optionKey;\r\n    let optionValue = options[optionKey];\r\n    if (optionValue !== true) {\r\n      updatedCookie += \"=\" + optionValue;\r\n    }\r\n  }\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\n\r\n\r\nconst VueTokenMixin = {\r\n  get_access_token() {\r\n    return getCookie('access_token')\r\n  },\r\n\r\n  get_refresh_token() {\r\n    return getCookie('refresh_token')\r\n  },\r\n\r\n  _set_token(name, token) {\r\n    const exp = get_exp_time_from_token(token)\r\n    const date = new Date(exp * 1000);\r\n    setCookie(name, token, {sameSite: 'strict', 'expires': date});\r\n  },\r\n\r\n  set_access_token(token) {\r\n    this._set_token(\"access_token\", token);\r\n  },\r\n\r\n  set_refresh_token(token) {\r\n    this._set_token(\"refresh_token\", token);\r\n  },\r\n};\r\n\r\nconst VueResetMixin = {\r\n  reset() {\r\n    deleteCookie('access_token');\r\n    deleteCookie('refresh_token');\r\n  },\r\n};\r\n\r\nclass VueTokenRepository extends VueBaseRepository {}\r\nObject.assign(VueTokenRepository.prototype, VueTokenMixin, VueResetMixin);\r\n\r\nexport { VueTokenRepository };\r\n","import { VueFlatRepository } from \"./flat_repository\";\r\n\r\nconst VueFileMixin = {\r\n  reset() {\r\n    this.keys().value.forEach((key) => this.delete(key));\r\n  },\r\n\r\n  set_size(file_id, size) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.set_size(size);\r\n  },\r\n\r\n  set_total_size(file_id, size) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.set_total_size(size);\r\n  },\r\n\r\n  set_size_complete(file_id) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.set_size_complete();\r\n  },\r\n\r\n  get_file(file_id) {\r\n    return this.get(file_id).value;\r\n  },\r\n\r\n  get_name(file_id) {\r\n    const file = this.get(file_id).value;\r\n    return file.name;\r\n  },\r\n\r\n  set_servers(file_id, servers) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.servers = servers;\r\n  },\r\n};\r\n\r\nclass VueFileFlatRepository extends VueFlatRepository {}\r\nObject.assign(VueFileFlatRepository.prototype, VueFileMixin);\r\n\r\nexport { VueFileFlatRepository };\r\n","import Ajv from \"ajv\";\r\nimport AjvErrors from \"ajv-errors\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass DataClass {\r\n  constructor(obj) {\r\n    this._data = undefined;\r\n\r\n    // Если объекта нет, то не валидируем\r\n    if (obj === undefined) return;\r\n\r\n    this._validate_using_schema(obj, this.schema);\r\n  }\r\n\r\n  get data() {\r\n    if (this._data === undefined) {\r\n      throw new NotImplementedError(\"DataClass.data has not been assigned\");\r\n    }\r\n\r\n    return this._data;\r\n  }\r\n\r\n  get schema() {\r\n    throw new NotImplementedError(\"Json schema is not defined\");\r\n  }\r\n\r\n  _validate_using_schema(obj, schema) {\r\n    this.ajv = new Ajv({ allErrors: true, allowUnionTypes: true});\r\n    AjvErrors(this.ajv);\r\n\r\n    const validate = this.ajv.compile(schema); // Ref\r\n    validate(obj);\r\n    // console.log(schema)\r\n    // console.log(obj)\r\n\r\n    if (validate.errors !== null) {\r\n      validate.errors.forEach((err) => console.log(err));\r\n      throw new NotImplementedError(\r\n        \"Object \" + obj.constructor.name + \" does not correspond to json schema\"\r\n      );\r\n    }\r\n\r\n    this._data = obj;\r\n  }\r\n\r\n}\r\n\r\nexport { DataClass };\r\n","const Tokens = {\r\n  type: \"object\",\r\n  properties: {\r\n    access_token: {\r\n      type: \"string\",\r\n    },\r\n    refresh_token: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\"access_token\", \"refresh_token\"],\r\n  additionalProperties: false,\r\n};\r\n\r\nexport { Tokens };","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    username: {\r\n      type: \"string\",\r\n    },\r\n    email: {\r\n      type: \"string\"\r\n    },\r\n    first_name: {\r\n      type: \"string\",\r\n    },\r\n    last_name: {\r\n      type: \"string\",\r\n    },\r\n    is_superuser: {\r\n      type: \"boolean\",\r\n    },\r\n    permissions: {\r\n      type: \"array\",\r\n      items: { type: \"string\" }\r\n    },\r\n  },\r\n  required: [\r\n    \"username\",\r\n    \"email\",\r\n    \"first_name\",\r\n    \"last_name\",\r\n    \"is_superuser\",\r\n    \"permissions\",\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\n\r\nexport { Single };\r\n","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    id: {\r\n      type: \"string\",\r\n    },\r\n    name: {\r\n      type: \"string\",\r\n    },\r\n    host: {\r\n      type: \"string\",\r\n    },\r\n    port: {\r\n      type: \"integer\",\r\n    },\r\n    location: {\r\n      type: \"string\"\r\n    },\r\n    zone: {\r\n      type: \"string\"\r\n    },\r\n    latitude: {\r\n      type: \"number\",\r\n    },\r\n    longitude: {\r\n      type: \"number\",\r\n    },\r\n    is_on: {\r\n      type: \"boolean\",\r\n    },\r\n    is_active: {\r\n      type: \"boolean\",\r\n    },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n    updated: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\r\n    \"id\",\r\n    \"name\",\r\n    \"host\",\r\n    \"port\",\r\n    \"location\",\r\n    \"zone\",\r\n    \"latitude\",\r\n    \"longitude\",\r\n    \"is_on\",\r\n    \"is_active\",\r\n    \"created\",\r\n    \"updated\",\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\nexport { Single, List };\r\n","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    id: {\r\n      type: \"string\",\r\n    },\r\n    name: {\r\n      type: \"string\",\r\n    },\r\n    size: {\r\n      type: \"number\",\r\n    },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n    updated: {\r\n      type: \"string\",\r\n    }\r\n  },\r\n  required: [\"id\", \"name\", \"size\", \"created\", \"updated\"],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\nexport { Single, List };","import { Single as FileSingle } from \"./file\";\r\n\r\nconst Single = {\r\n\r\n  type: \"object\",\r\n  properties: {\r\n    file: FileSingle,\r\n    link: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\r\n    \"file\", \"link\",\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\n\r\nexport { Single };\r\n","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    id: {\r\n      type: \"string\",\r\n    },\r\n    event: {\r\n      type: \"string\",\r\n    },\r\n    data: {\r\n      type: \"object\",\r\n    },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\"id\", \"event\", \"data\", \"created\"],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\nexport { Single, List };","import { Single as FileSingle } from \"./file\";\r\n\r\nconst Single = {\r\n\r\n  type: \"object\",\r\n  properties: {\r\n    id: { type: \"string\" },\r\n    file: FileSingle,\r\n    is_secured: { type: \"boolean\" },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n    expire_at: {\r\n      type: [\"null\", \"string\"],\r\n    }\r\n  },\r\n  required: [\r\n    \"id\", \"file\", \"is_secured\", \"expire_at\", \"created\"\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\n\r\nexport { Single, List };\r\n","import { DataClass } from \"../domain/dataclass\";\r\nimport { Tokens } from \"./api_responses/models/tokens\";\r\nimport {\r\n  Single as UserSingle\r\n} from \"./api_responses/models/user\";\r\nimport {\r\n  Single as CdnServerSingle,\r\n  List as CdnServerList,\r\n} from \"./api_responses/models/cdn_server\";\r\nimport {\r\n  Single as FileSingle,\r\n  List as FileList,\r\n} from \"./api_responses/models/file\";\r\nimport {\r\n  Single as LinkSingle\r\n} from \"./api_responses/models/link\";\r\nimport {\r\n  List as UserActionList\r\n} from \"./api_responses/models/user_action\";\r\nimport {\r\n  Single as ShareLinkSingle,\r\n  List as ShareLinkList\r\n} from \"./api_responses/models/file_share_link\";\r\n\r\nclass NotImplementedError extends Error { }\r\n\r\nclass Request extends DataClass {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {},\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass Response extends DataClass { }\r\n\r\nclass NegativeResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        code: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass EmptyPositiveResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {},\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass PositiveFileResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file: { type: \"object\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass LoginCredentialsRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        username: { type: \"string\" },\r\n        password: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass LoginCredentialsResponse extends Response {\r\n  get schema() {\r\n    return Tokens;\r\n  }\r\n}\r\n\r\nclass LogoutRequest extends Request { }\r\nclass LogoutResponse extends EmptyPositiveResponse { }\r\n\r\nclass MyCredentialsRequest extends Request { }\r\nclass MyCredentialsResponse extends Response {\r\n  get schema() {\r\n    return UserSingle;\r\n  }\r\n}\r\n\r\nclass RefreshTokensRequest extends Request { }\r\nclass RefreshTokensResponse extends Response {\r\n  get schema() {\r\n    return Tokens;\r\n  }\r\n}\r\n\r\nclass GetFilesRequest extends Request { }\r\nclass GetFilesResponse extends Response {\r\n  get schema() {\r\n    return FileList;\r\n  }\r\n}\r\n\r\nclass GetFileServersRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetFileServersResponse extends Response {\r\n  get schema() {\r\n    return CdnServerList;\r\n  }\r\n}\r\n\r\n\r\nclass DeleteFileRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass DeleteFileResponse extends EmptyPositiveResponse { }\r\n\r\nclass RenameFileRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n        name: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass RenameFileResponse extends Response {\r\n  get schema() {\r\n    return FileSingle;\r\n  }\r\n}\r\n\r\nclass GetCdnServersRequest extends Request { }\r\nclass GetCdnServersResponse extends Response {\r\n  get schema() {\r\n    return CdnServerList;\r\n  }\r\n}\r\n\r\nclass AddCdnServerRequest extends Request { \r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        name: { type: \"string\" },\r\n        host: { type: \"string\" },\r\n        port: { type: \"integer\" },\r\n        location: { type: \"string\" },\r\n        zone: { type: \"string\" },\r\n        latitude: { type: \"number\" },\r\n        longitude: { type: \"number\" },\r\n        is_on: { type: \"boolean\" },\r\n        is_active: { type: \"boolean\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass AddCdnServerResponse extends Response {\r\n  get schema() {\r\n    return CdnServerSingle;\r\n  }\r\n}\r\n\r\nclass UpdateCdnServerRequest extends Request { \r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n        name: { type: \"string\" },\r\n        host: { type: \"string\" },\r\n        port: { type: \"integer\" },\r\n        location: { type: \"string\" },\r\n        zone: { type: \"string\" },\r\n        latitude: { type: \"number\" },\r\n        longitude: { type: \"number\" },\r\n        is_on: { type: \"boolean\" },\r\n        is_active: { type: \"boolean\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass UpdateCdnServerResponse extends Response {\r\n  get schema() {\r\n    return CdnServerSingle;\r\n  }\r\n}\r\n\r\nclass DeleteCdnServerRequest extends Request { \r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass DeleteCdnServerResponse extends EmptyPositiveResponse {}\r\n\r\nclass GetUploadLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        name: { type: \"string\" },\r\n        size: { type: \"integer\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetUploadLinkResponse extends Response {\r\n  get schema() {\r\n    return LinkSingle;\r\n  }\r\n}\r\n\r\nclass GetDownloadLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetDownloadLinkResponse extends Response {\r\n  get schema() {\r\n    return LinkSingle;\r\n  }\r\n}\r\n\r\nclass GetUserActionsRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        page_num: { type: \"integer\" },\r\n        page_size: { type: \"integer\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetUserActionsResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        count: { type: \"integer\" },\r\n        data: UserActionList\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass UploadFileRequest extends Request {\r\n  // file = https://developer.mozilla.org/ru/docs/Web/API/File\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        link: { type: \"string\" },\r\n        original_file: { type: \"object\" },\r\n      },\r\n      additionalProperties: true, // progress_method\r\n    };\r\n  }\r\n}\r\nclass UploadFileResponse extends EmptyPositiveResponse { }\r\n\r\nclass DownloadFileRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        link: { type: \"string\" },\r\n      },\r\n      additionalProperties: true, // set_size_method\r\n    };\r\n  }\r\n}\r\nclass DownloadFileResponse extends PositiveFileResponse {}\r\n\r\nclass AddFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n        lifetime: { type: [\"null\", \"integer\"] },\r\n        password: { type: [\"null\", \"string\"] },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass AddFileShareLinkResponse extends Response {\r\n  get schema() {\r\n    return ShareLinkSingle;\r\n  }\r\n}\r\n\r\nclass GetFileShareLinksRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetFileShareLinksResponse extends Response {\r\n  get schema() {\r\n    return ShareLinkList;\r\n  }\r\n}\r\n\r\nclass GetFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n        link_id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetFileShareLinkResponse extends Response {\r\n  get schema() {\r\n    return ShareLinkSingle;\r\n  }\r\n}\r\n\r\nclass DeleteFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n        link_id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass DeleteFileShareLinkResponse extends EmptyPositiveResponse {}\r\n\r\nclass GetDownloadLinkByFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n        link_id: { type: \"string\" },\r\n        password: { type: [\"null\", \"string\"] },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetDownloadLinkByFileShareLinkResponse extends Response {\r\n  get schema() {\r\n    return LinkSingle;\r\n  }\r\n}\r\n\r\nclass AbstractApi {\r\n  constructor() {\r\n    this._auth_token = null;\r\n  }\r\n\r\n  get_auth_token() {\r\n    return this._auth_token;\r\n  }\r\n\r\n  set_auth_token(token) {\r\n    this._auth_token = token;\r\n  }\r\n\r\n  call = (request) => {\r\n    if (\r\n      !Object.prototype.hasOwnProperty.call(\r\n        this.REQUEST_HANDLERS,\r\n        request.constructor.name\r\n      )\r\n    ) {\r\n      throw new NotImplementedError(\r\n        \"API request does not have handler for \" + request.constructor.name\r\n      );\r\n    }\r\n\r\n    const func = this.REQUEST_HANDLERS[request.constructor.name];\r\n    return func(request);\r\n  };\r\n\r\n  login_with_credentials = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  my_credentials = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  refresh_tokens = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  logout = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_cdn_servers = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  add_cdn_server = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  update_cdn_server = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  delete_cdn_server = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_user_actions = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_files = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_file_servers = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  delete_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  rename_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_upload_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  upload_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_download_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  download_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  add_file_share_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_file_share_links = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  delete_file_share_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_download_link_by_file_share_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n}\r\n\r\nexport {\r\n  AbstractApi,\r\n  NegativeResponse,\r\n\r\n  // USER\r\n  LoginCredentialsRequest,\r\n  LoginCredentialsResponse,\r\n  LogoutRequest,\r\n  LogoutResponse,\r\n  MyCredentialsRequest,\r\n  MyCredentialsResponse,\r\n  RefreshTokensRequest,\r\n  RefreshTokensResponse,\r\n  GetUserActionsRequest,\r\n  GetUserActionsResponse,\r\n\r\n  // CDN SERVER\r\n  GetCdnServersRequest,\r\n  GetCdnServersResponse,\r\n  AddCdnServerRequest,\r\n  AddCdnServerResponse,\r\n  UpdateCdnServerRequest,\r\n  UpdateCdnServerResponse,\r\n  DeleteCdnServerRequest,\r\n  DeleteCdnServerResponse,\r\n\r\n  // FILE\r\n  GetFilesRequest,\r\n  GetFilesResponse,\r\n  GetFileServersRequest,\r\n  GetFileServersResponse,\r\n  DeleteFileRequest,\r\n  DeleteFileResponse,\r\n  GetUploadLinkRequest,\r\n  GetUploadLinkResponse,\r\n  GetDownloadLinkRequest,\r\n  GetDownloadLinkResponse,\r\n  UploadFileRequest,\r\n  UploadFileResponse,\r\n  DownloadFileRequest,\r\n  DownloadFileResponse,\r\n  RenameFileRequest,\r\n  RenameFileResponse,\r\n\r\n  // SHARE LINK\r\n  AddFileShareLinkRequest,\r\n  AddFileShareLinkResponse,\r\n  GetFileShareLinksRequest,\r\n  GetFileShareLinksResponse,\r\n  GetFileShareLinkRequest,\r\n  GetFileShareLinkResponse,\r\n  DeleteFileShareLinkRequest,\r\n  DeleteFileShareLinkResponse,\r\n  GetDownloadLinkByFileShareLinkRequest,\r\n  GetDownloadLinkByFileShareLinkResponse,\r\n};\r\n","/*eslint no-useless-escape: \"error\"*/\r\n\r\nimport libmime from \"libmime\";\r\n\r\nimport {\r\n  AbstractApi,\r\n  NegativeResponse,\r\n\r\n  // USER\r\n  LoginCredentialsResponse,\r\n  MyCredentialsResponse,\r\n  RefreshTokensResponse,\r\n  LogoutResponse,\r\n  GetUserActionsResponse,\r\n\r\n  // CDN SERVER\r\n  GetCdnServersResponse,\r\n  AddCdnServerResponse,\r\n  UpdateCdnServerResponse,\r\n  DeleteCdnServerResponse,\r\n\r\n  // FILE\r\n  GetFilesResponse,\r\n  GetFileServersResponse,\r\n  DeleteFileResponse,\r\n  RenameFileResponse,\r\n  GetUploadLinkResponse,\r\n  UploadFileResponse,\r\n  GetDownloadLinkResponse,\r\n  DownloadFileResponse,\r\n\r\n  // SHARE LINK\r\n  AddFileShareLinkResponse,\r\n  GetFileShareLinksResponse,\r\n  GetFileShareLinkResponse,\r\n  DeleteFileShareLinkResponse,\r\n  GetDownloadLinkByFileShareLinkResponse\r\n} from \"./api\";\r\n\r\nclass HttpApiError extends Error { }\r\n\r\nclass HttpApi extends AbstractApi {\r\n  constructor(api_url) {\r\n    super();\r\n    this.api_url = api_url;\r\n\r\n    this.REQUEST_HANDLERS = {\r\n\r\n      // USER\r\n      LoginCredentialsRequest: this.login_with_credentials,\r\n      LogoutRequest: this.logout,\r\n      MyCredentialsRequest: this.my_credentials,\r\n      RefreshTokensRequest: this.refresh_tokens,\r\n      GetUserActionsRequest: this.get_user_actions,\r\n\r\n      // CDN SERVER\r\n      GetCdnServersRequest: this.get_cdn_servers,\r\n      AddCdnServerRequest: this.add_cdn_server,\r\n      UpdateCdnServerRequest: this.update_cdn_server,\r\n      DeleteCdnServerRequest: this.delete_cdn_server,\r\n\r\n      // FILE\r\n      GetFilesRequest: this.get_files,\r\n      GetFileServersRequest: this.get_file_servers,\r\n      DeleteFileRequest: this.delete_file,\r\n      RenameFileRequest: this.rename_file,\r\n      GetUploadLinkRequest: this.get_upload_link,\r\n      UploadFileRequest: this.upload_file,\r\n      GetDownloadLinkRequest: this.get_download_link,\r\n      DownloadFileRequest: this.download_file,\r\n\r\n\r\n      // SHARE LINK\r\n      AddFileShareLinkRequest: this.add_file_share_link,\r\n      GetFileShareLinksRequest: this.get_file_share_links,\r\n      GetFileShareLinkRequest: this.get_file_share_link,\r\n      DeleteFileShareLinkRequest: this.delete_file_share_link,\r\n      GetDownloadLinkByFileShareLinkRequest: this.get_download_link_by_file_share_link,\r\n    };\r\n  }\r\n\r\n  async perform_request(\r\n    positive_response_class,\r\n    path,\r\n    {\r\n      method = \"get\",\r\n      data = null,\r\n      parameters = {},\r\n      content_type = \"application/json\",\r\n      response_type = \"text\",\r\n      set_upload_size_method = null,\r\n      set_download_size_method = null,\r\n      headers = {},\r\n    } = {}\r\n  ) {\r\n    try {\r\n      const result = await this.http_call(\r\n        path,\r\n        method,\r\n        content_type,\r\n        data,\r\n        parameters,\r\n        response_type,\r\n        set_upload_size_method,\r\n        set_download_size_method,\r\n        headers\r\n      );\r\n      return new positive_response_class(result);\r\n    } catch (e) {\r\n      console.log(e.message);\r\n      if (e instanceof HttpApiError) {\r\n        return new NegativeResponse({ code: e.message });\r\n      }\r\n\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  async http_call(\r\n    path,\r\n    method,\r\n    content_type,\r\n    data,\r\n    parameters,\r\n    response_type,\r\n    set_upload_size_method,\r\n    set_download_size_method,\r\n    headers\r\n  ) {\r\n\r\n\r\n    const operation_by_link = path.startsWith('http')\r\n\r\n    let url = null\r\n    if (operation_by_link) {\r\n      url = new URL(`${path}`)\r\n    } else {\r\n      url = new URL(`${this.api_url}${path}`);\r\n      url.search = new URLSearchParams(parameters).toString();\r\n    }\r\n\r\n    let response = null;\r\n    response = await new Promise((resolve, reject) => {\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(method, url);\r\n      xhr.responseType = response_type;\r\n\r\n      if (content_type !== null) {\r\n        xhr.setRequestHeader(\"Content-Type\", content_type);\r\n      }\r\n\r\n      // Устанавливаем заголовки, в том числе для отслеживания прогресса закачки на сервере\r\n      if (Object.keys(headers).length !== 0) {\r\n        Object.keys(headers).forEach((key) => {\r\n          xhr.setRequestHeader(key, headers[key]);\r\n        });\r\n      }\r\n\r\n      // Устанавливаем авторизационный токен\r\n      if (this._auth_token && this._auth_token !== null && !operation_by_link) {\r\n        xhr.setRequestHeader(\"Authorization\", \"Bearer \" + this._auth_token);\r\n      }\r\n\r\n      if (set_download_size_method !== null)\r\n        xhr.onprogress = (event) => set_download_size_method(event.loaded);\r\n\r\n      if (set_upload_size_method !== null)\r\n        xhr.upload.onprogress = (event) => set_upload_size_method(event.loaded);\r\n\r\n      // Если сервер недоступен\r\n      xhr.onerror = function () {\r\n        console.log(\"Server unavailable\");\r\n        reject(new HttpApiError(\"Api.Server.Unavailable\"));\r\n      };\r\n\r\n      xhr.onload = function () {\r\n        const content_type = xhr.getResponseHeader(\"Content-Type\");\r\n        const content_length = Number.parseInt(\r\n          xhr.getResponseHeader(\"Content-Length\")\r\n        );\r\n        const content_disposition =\r\n          content_type === \"application/octet-stream\"\r\n            ? libmime.decodeWords(xhr.getResponseHeader(\"Content-Disposition\"))\r\n            : null;\r\n\r\n        resolve({\r\n          status_code: xhr.status,\r\n          content_type: content_type,\r\n          content_length: content_length,\r\n          content_disposition: content_disposition,\r\n          data: xhr.response,\r\n        });\r\n      };\r\n\r\n      // Отсылаем запрос\r\n      data === null ? xhr.send() : xhr.send(data);\r\n    });\r\n\r\n    // Если получен файл для скачивания\r\n\r\n    if (operation_by_link && response.content_length > 0) {\r\n      return {\r\n        file: response.data,\r\n      };\r\n    }\r\n\r\n\r\n    // Если это не файл, то должен быть формат JSON\r\n    let json_data = {};\r\n    try {\r\n      // Если JSON в формате Blob, то конвертируем в текст\r\n      if (\r\n        response.data instanceof Blob &&\r\n        response.data.type === \"application/json\"\r\n      ) {\r\n        json_data = JSON.parse(await response.data.text());\r\n      } else {\r\n        // Если JSON в формате Текст, то читаем без конвертации\r\n        json_data = JSON.parse(response.data);\r\n      }\r\n\r\n      // Если код ответа нормальный, но формат ответа не JSON\r\n    } catch (err) {\r\n      if (!operation_by_link && response.status_code != 204)\r\n        throw new HttpApiError(\"Api.Error.NotJson\");\r\n    }\r\n\r\n    // Если код ответа не OK\r\n    if (response.status_code < 200 || response.status_code >= 300) {\r\n      throw new HttpApiError(json_data.error);\r\n    }\r\n\r\n    // Если код ответа нормальный, формат JSON, запрос успешен\r\n    return json_data;\r\n  }\r\n\r\n  login_with_credentials = async (request) => {\r\n    return await this.perform_request(\r\n      LoginCredentialsResponse,\r\n      `/users/api/v1/auth/login/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          username: request.data.username,\r\n          password: request.data.password,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  logout = async () => {\r\n    return await this.perform_request(\r\n      LogoutResponse,\r\n      `/users/api/v1/auth/logout/`,\r\n      {\r\n        method: \"post\",\r\n      }\r\n    );\r\n  };\r\n\r\n  my_credentials = async () => {\r\n    return await this.perform_request(MyCredentialsResponse, `/users/api/v1/users/me/`);\r\n  };\r\n\r\n  refresh_tokens = async () => {\r\n    return await this.perform_request(\r\n      RefreshTokensResponse,\r\n      `/users/api/v1/auth/token/refresh/`,\r\n      {\r\n        method: \"post\",\r\n      }\r\n    );\r\n  };\r\n\r\n  get_cdn_servers = async () => {\r\n    return await this.perform_request(\r\n      GetCdnServersResponse,\r\n      `/storage/api/v1/servers/`\r\n    );\r\n  };\r\n\r\n  add_cdn_server = async (request) => {\r\n    return await this.perform_request(\r\n      AddCdnServerResponse,\r\n      `/storage/api/v1/servers/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n          host: request.data.host,\r\n          port: request.data.port,\r\n          location: request.data.location,\r\n          zone: request.data.zone,\r\n          latitude: request.data.latitude,\r\n          longitude: request.data.longitude,\r\n          is_on: request.data.is_on,\r\n          is_active: request.data.is_active,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  update_cdn_server = async (request) => {\r\n    return await this.perform_request(\r\n      UpdateCdnServerResponse,\r\n      `/storage/api/v1/servers/${request.data.id}/`,\r\n      {\r\n        method: \"put\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n          host: request.data.host,\r\n          port: request.data.port,\r\n          location: request.data.location,\r\n          zone: request.data.zone,\r\n          latitude: request.data.latitude,\r\n          longitude: request.data.longitude,\r\n          is_on: request.data.is_on,\r\n          is_active: request.data.is_active,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  delete_cdn_server = async (request) => {\r\n    return await this.perform_request(\r\n      DeleteCdnServerResponse,\r\n      `/storage/api/v1/servers/${request.data.id}/`,\r\n      {\r\n        method: \"delete\",\r\n      }\r\n    );\r\n  };\r\n\r\n  get_user_actions = async (request) => {\r\n    return await this.perform_request(\r\n      GetUserActionsResponse,\r\n      `/storage/api/v1/actions/`,\r\n      {\r\n        method: \"get\",\r\n        parameters: {\r\n          page_num: request.data.page_num,\r\n          page_size: request.data.page_size,\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  get_files = async () => {\r\n    return await this.perform_request(\r\n      GetFilesResponse,\r\n      `/storage/api/v1/files/`\r\n    );\r\n  };\r\n\r\n  get_file_servers = async (request) => {\r\n    return await this.perform_request(\r\n      GetFileServersResponse,\r\n      `/storage/api/v1/files/${request.data.id}/servers/`,\r\n    );\r\n  };\r\n\r\n  delete_file = async (request) => {\r\n    return await this.perform_request(\r\n      DeleteFileResponse,\r\n      `/storage/api/v1/files/${request.data.id}/`,\r\n      {\r\n        method: \"delete\",\r\n      }\r\n    );\r\n  };\r\n\r\n  rename_file = async (request) => {\r\n    return await this.perform_request(\r\n      RenameFileResponse,\r\n      `/storage/api/v1/files/${request.data.id}/`,\r\n      {\r\n        method: \"put\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  get_upload_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetUploadLinkResponse,\r\n      `/storage/api/v1/files/upload/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n          size: request.data.size,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  get_download_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetDownloadLinkResponse,\r\n      `/storage/api/v1/files/${request.data.id}/`\r\n    );\r\n  };\r\n\r\n  upload_file = async (request) => {\r\n    return await this.perform_request(\r\n      UploadFileResponse,\r\n      request.data.link,\r\n      {\r\n        method: \"put\",\r\n        content_type: null,\r\n        data: request.data.original_file,\r\n        set_upload_size_method: request.data.on_progress\r\n      }\r\n    );\r\n  };\r\n\r\n  download_file = async (request) => {\r\n    return await this.perform_request(\r\n      DownloadFileResponse,\r\n      request.data.link,\r\n      {\r\n        response_type: \"blob\",\r\n        set_download_size_method: request.data.set_size_method,\r\n      }\r\n    );\r\n  };\r\n\r\n  add_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      AddFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.id}/links/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          lifetime: request.data.lifetime,\r\n          password: request.data.password,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  get_file_share_links = async (request) => {\r\n    return await this.perform_request(\r\n      GetFileShareLinksResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/`\r\n    );\r\n  };\r\n\r\n  get_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/${request.data.link_id}/`,\r\n    );\r\n  };\r\n\r\n  delete_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      DeleteFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/${request.data.link_id}/`,\r\n      {\r\n        method: \"delete\",\r\n      }\r\n    );\r\n  };\r\n\r\n  get_download_link_by_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetDownloadLinkByFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/${request.data.link_id}/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          password: request.data.password,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n}\r\n\r\nexport { HttpApi };\r\n","import { HttpApi } from \"./api_http\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass AbstractApiProvider {\r\n  get = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n}\r\n\r\nclass HttpApiProvider extends AbstractApiProvider {\r\n  get = () => {\r\n    return new HttpApi(\r\n      process.env.NODE_ENV === \"production\"\r\n        ? window.location.origin\r\n        : \"http://localhost\"\r\n        // : \"http://10.95.27.163\"\r\n    );\r\n  };\r\n}\r\n\r\nexport { HttpApiProvider };\r\n","import Noty from \"noty\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass AbstractNotificator {\r\n  success = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  info = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  warning = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  error = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n}\r\n\r\nclass ConsoleNotificator extends AbstractNotificator {\r\n  success = (message) => {\r\n    console.log(\"[SUCCESS]: \" + message);\r\n  };\r\n\r\n  info = (message) => {\r\n    console.log(\"[INFO]: \" + message);\r\n  };\r\n\r\n  warning = (message) => {\r\n    console.log(\"[WARNING]: \" + message);\r\n  };\r\n\r\n  error = (message) => {\r\n    console.log(\"[ERROR]: \" + message);\r\n  };\r\n}\r\n\r\nclass NotyNotificator extends AbstractNotificator {\r\n  constructor () {\r\n    super();\r\n    this.default = {\r\n      layout: \"topRight\",\r\n      theme: \"relax\",\r\n      timeout: \"3000\",\r\n      progressBar: false\r\n    }\r\n  }\r\n\r\n  do = (type, text) => {\r\n    new Noty(Object.assign(this.default, {\r\n      type: type,\r\n      text: text,\r\n    })).show();\r\n  }\r\n\r\n  success = (message) => {\r\n    this.do('success', message);\r\n  };\r\n\r\n  info = (message) => {\r\n    this.do('info', message);\r\n  };\r\n\r\n  warning = (message) => {\r\n    this.do('warning', message);\r\n  };\r\n\r\n  error = (message) => {\r\n    this.do('error', message);\r\n  };\r\n}\r\n\r\nexport { ConsoleNotificator, NotyNotificator };\r\n","import { reactive } from \"vue\";\r\n\r\nclass NotImplementedError extends Error { }\r\n\r\nclass AbstractTimer {\r\n  constructor(period) {\r\n    this._callback = () => {\r\n      throw new NotImplementedError();\r\n    };\r\n    this._period = period;\r\n    this._timer = null;\r\n  }\r\n\r\n  set_callback = (f) => {\r\n    this._callback = f;\r\n  };\r\n\r\n  start = () => {\r\n    if (!this._timer) {\r\n      this._timer = setInterval(this._callback, this._period);\r\n      // console.log('START TIMER', this._timer, this._period)\r\n    }\r\n  };\r\n\r\n  stop = () => {\r\n    // console.log('STOP TIMER', this._timer, this._period)\r\n    clearInterval(this._timer);\r\n    this._timer = null;\r\n  };\r\n}\r\n\r\nclass UploadProgressTimer extends AbstractTimer {\r\n  constructor(period) {\r\n    super(period);\r\n    this._folder_id = null;\r\n    this._ids = [];\r\n  }\r\n\r\n  start = () => {\r\n    if (this._ids.length !== 0)\r\n      this._timer = setInterval(this._callback, this._period);\r\n  };\r\n\r\n  add = (id) => {\r\n    if (!this._ids.includes(id)) {\r\n      this._ids.push(id);\r\n    }\r\n    if (this._timer === null) this.start();\r\n  };\r\n\r\n  remove = (id) => {\r\n    this._ids = this._ids.filter((x) => x !== id);\r\n    if (this._ids.length === 0) this.stop();\r\n  };\r\n}\r\n\r\nclass WaitSecondsTimer {\r\n  constructor(period = 1000) {\r\n    this._timer = null;\r\n    this._period = period;\r\n    this._seconds = reactive({});\r\n\r\n    this._decrease_seconds = () => {\r\n      Object.keys(this._seconds).forEach((key) => {\r\n        if (this._seconds[key] > 0) this._seconds[key]--;\r\n      });\r\n\r\n      if (Object.values(this._seconds).reduce((s, x) => s + x, 0) === 0)\r\n        this.stop();\r\n    };\r\n  }\r\n\r\n  start = () => {\r\n    this._timer = setInterval(this._decrease_seconds, this._period);\r\n  };\r\n\r\n  stop = () => {\r\n    clearInterval(this._timer);\r\n    this._timer = null;\r\n  };\r\n\r\n  get = (id) => this._seconds[id] || 0;\r\n\r\n  set = (id, count) => {\r\n    this._seconds[id] = count;\r\n    if (this._timer === null) this.start();\r\n  };\r\n}\r\n\r\nexport { AbstractTimer, UploadProgressTimer, WaitSecondsTimer };\r\n","const CountMixin = {\r\n  set_count(obj) {\r\n    this._set_box(\"__COUNT__\", \"__COUNT__\", obj);\r\n  },\r\n\r\n  get_count() {\r\n    return this._get_box(\"__COUNT__\", \"__COUNT__\");\r\n  },\r\n\r\n  is_count_settled() {\r\n    return this._get_box(\"__COUNT__\", \"__COUNT__\").value !== null;\r\n  },\r\n};\r\n\r\nexport { CountMixin };\r\n","import { VueFlatRepository } from \"./flat_repository\";\r\nimport { CountMixin } from \"./mixins/count\";\r\n\r\n\r\nclass VueCountableFlatRepository extends VueFlatRepository {}\r\nObject.assign(VueFlatRepository.prototype, CountMixin);\r\n\r\nexport { VueCountableFlatRepository };\r\n","import { VueFlatRepository } from \"../adapters/flat_repository\";\r\nimport { VueUserRepository } from \"../adapters/user_repository\";\r\nimport { VueTokenRepository } from \"../adapters/token_repository\";\r\nimport { VueFileFlatRepository } from \"../adapters/file_flat_repository\";\r\nimport { HttpApiProvider } from \"../adapters/api_provider\";\r\nimport { NotyNotificator } from \"../adapters/notificator\";\r\nimport { AbstractTimer } from \"../adapters/timer\";\r\nimport { VueCountableFlatRepository } from \"../adapters/countable_flat_repository\";\r\n\r\nconst token_timer = new AbstractTimer(5000);\r\nconst get_files_timer = new AbstractTimer(5000);\r\n\r\nclass AbstractUnitOfWork {\r\n  constructor() {\r\n    this.messages = [];\r\n  }\r\n\r\n  collect_new_messages = () => {\r\n    const messages = [...this.messages];\r\n    this.messages = [];\r\n\r\n    return messages;\r\n  };\r\n\r\n  push_message = (message) => {\r\n    this.messages.push(message);\r\n  };\r\n}\r\n\r\nclass VueUnitOfWork extends AbstractUnitOfWork {\r\n  constructor() {\r\n    super();\r\n    this.api = new HttpApiProvider().get();\r\n    this.notificator = new NotyNotificator();\r\n    this.token_timer = token_timer\r\n    this.get_files_timer = get_files_timer\r\n\r\n    this.user_repository = new VueUserRepository(\"users\");\r\n    this.action_repository = new VueCountableFlatRepository(\"user_actions\");\r\n    this.action_repository.set_count(0)\r\n    this.cdn_server_repository = new VueFlatRepository(\"cdn_servers\");\r\n    this.token_repository = new VueTokenRepository(\"tokens\")\r\n    this.link_repository = new VueFlatRepository(\"file_share_links\")\r\n\r\n    this.file_repository = new VueFileFlatRepository(\"files\");\r\n    this.download_progress = new VueFileFlatRepository(\"download_progress\");\r\n\r\n    this.api.set_auth_token(this.token_repository.get_access_token());\r\n  }\r\n}\r\n\r\nexport { VueUnitOfWork };\r\n","import { render } from \"./NavigationComponent.vue?vue&type=template&id=4379e5f5\"\nimport script from \"./NavigationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationComponent.vue?vue&type=script&lang=js\"\n\nimport \"./NavigationComponent.vue?vue&type=style&index=0&id=4379e5f5&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BasePage.vue?vue&type=template&id=a72634be\"\nimport script from \"./BasePage.vue?vue&type=script&lang=js\"\nexport * from \"./BasePage.vue?vue&type=script&lang=js\"\n\nimport \"./BasePage.vue?vue&type=style&index=0&id=a72634be&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=f683d534\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"page\">\r\n    <heading-component class=\"page__heading\" text=\"Вход\" size=\"middle\" />\r\n    <form class=\"page__input-block\">\r\n      <form-text-input\r\n        class=\"page__input\"\r\n        :value=\"credentials.username\"\r\n        @update=\"credentials.username = $event\"\r\n        @keyup.enter=\"login_action\"\r\n        :parameters=\"{ placeholder: 'Логин' }\"\r\n        autocomplete=\"username\"\r\n      />\r\n      <form-text-input\r\n        class=\"page__input\"\r\n        :value=\"credentials.password\"\r\n        @update=\"credentials.password = $event\"\r\n        @keyup.enter=\"login_action\"\r\n        :parameters=\"{ placeholder: 'Пароль', secure: true }\"\r\n        autocomplete=\"current-password\"\r\n      />\r\n    </form>\r\n\r\n    <div class=\"page__button-block\">\r\n      <btn-component\r\n        class=\"page__button\"\r\n        @click=\"login_action\"\r\n        caption=\"Войти\"\r\n        type=\"primary\"\r\n      />\r\n      <btn-component\r\n        v-if=\"is_authenticated\"\r\n        class=\"page__button\"\r\n        @click=\"logout_action\"\r\n        caption=\"Выйти\"\r\n        type=\"secondary\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { LoginWithCredentials, Logout } from \"../logic/domain/command\";\r\nimport { MessageBus } from \"../logic/service_layer/message_bus\";\r\nimport { VueUnitOfWork } from \"../logic/service_layer/uow\";\r\nimport BtnComponent from \"../components/buttons/BtnComponent.vue\";\r\nimport HeadingComponent from \"../components/HeadingComponent.vue\";\r\nimport FormTextInput from \"../components/fields/FormTextInput.vue\";\r\n\r\nexport default {\r\n  components: { BtnComponent, HeadingComponent, FormTextInput },\r\n  name: \"LoginPage\",\r\n\r\n  setup() {\r\n    const credentials = reactive({\r\n      username: \"\",\r\n      password: \"\",\r\n    });\r\n\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    const uow = new VueUnitOfWork();\r\n    const user = uow.user_repository.get_current();\r\n\r\n    const is_authenticated = uow.user_repository.is_authenticated();\r\n\r\n    const login_action = async () => {\r\n      const message = new LoginWithCredentials(\r\n        credentials.username,\r\n        credentials.password\r\n      );\r\n\r\n      await MessageBus.handle(message, uow);\r\n      if (uow.token_repository.get_access_token())\r\n        router.push({\r\n          path:\r\n            route.query.url === undefined\r\n              ? \"/\"\r\n              : decodeURIComponent(route.query.url),\r\n        });\r\n    };\r\n\r\n    const logout_action = async () => {\r\n      const message = new Logout();\r\n      await MessageBus.handle(message, uow);\r\n    };\r\n\r\n    uow.token_timer.stop();\r\n    uow.get_files_timer.stop()\r\n\r\n    return {\r\n      is_authenticated,\r\n      user,\r\n      credentials,\r\n      login_action,\r\n      logout_action,\r\n      uow,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.page {\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  align-items: stretch;\r\n}\r\n\r\n.page__heading {\r\n  padding-top: 60px;\r\n  padding-bottom: 15px;\r\n  color: white;\r\n}\r\n\r\n.page__input-block {\r\n  padding-bottom: 15px;\r\n  width: 300px;\r\n}\r\n.page__input {\r\n  margin-right: 10px;\r\n  border-color: white;\r\n}\r\n.page__button {\r\n  margin-right: 20px;\r\n}\r\n</style>\r\n","class Command { }\r\n\r\nclass Notify extends Command {\r\n  constructor(level, text) {\r\n    super();\r\n    this.level = level;\r\n    this.text = text;\r\n  }\r\n}\r\n\r\nclass NotifyApiError extends Command {\r\n  constructor(code) {\r\n    super();\r\n    this.code = code;\r\n  }\r\n}\r\n\r\nclass LoginWithCredentials extends Command {\r\n  constructor(username, password) {\r\n    super();\r\n    this.username = username;\r\n    this.password = password;\r\n  }\r\n}\r\n\r\nclass Logout extends Command { }\r\n\r\nclass MyCredentials extends Command { }\r\nclass RefreshTokens extends Command { }\r\n\r\nclass GetCdnServers extends Command { }\r\n\r\nclass AddCdnServer extends Command {\r\n  constructor(name, host, port, location, zone, latitude, longitude, is_on, is_active) {\r\n    super();\r\n    this.name = name;\r\n    this.host = host;\r\n    this.port = port;\r\n    this.location = location;\r\n    this.zone = zone;\r\n    this.latitude = latitude;\r\n    this.longitude = longitude;\r\n    this.is_on = is_on;\r\n    this.is_active = is_active;\r\n  }\r\n}\r\n\r\nclass UpdateCdnServer extends Command {\r\n  constructor(id, name, host, port, location, zone, latitude, longitude, is_on, is_active) {\r\n    super();\r\n    this.id = id;\r\n    this.name = name;\r\n    this.host = host;\r\n    this.port = port;\r\n    this.location = location;\r\n    this.zone = zone;\r\n    this.latitude = latitude;\r\n    this.longitude = longitude;\r\n    this.is_on = is_on;\r\n    this.is_active = is_active;\r\n  }\r\n}\r\n\r\nclass DeleteCdnServer extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\n\r\nclass GetUserActions extends Command {\r\n  constructor(page_num, page_size) {\r\n    super();\r\n    this.page_num = page_num;\r\n    this.page_size = page_size;\r\n  }\r\n}\r\n\r\nclass GetFiles extends Command { }\r\nclass GetFileServers extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\nclass DeleteFile extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\nclass RenameFile extends Command {\r\n  constructor(id, name) {\r\n    super();\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n}\r\n\r\nclass DownloadFile extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\nclass UploadFile extends Command {\r\n  constructor(file) {\r\n    super();\r\n    this.file = file; //https://developer.mozilla.org/ru/docs/Web/API/File\r\n  }\r\n}\r\n\r\nclass UploadFileByLink extends Command {\r\n  constructor(id, link, file) {\r\n    super();\r\n    this.id = id;\r\n    this.link = link;\r\n    this.file = file; //https://developer.mozilla.org/ru/docs/Web/API/File\r\n  }\r\n}\r\n\r\nclass DownloadFileByLink extends Command {\r\n  constructor(link, name, size) {\r\n    super();\r\n    this.link = link;\r\n    this.name = name;\r\n    this.size = size;\r\n  }\r\n}\r\n\r\nclass AddFileShareLink extends Command {\r\n  constructor(id, lifetime, password) {\r\n    super();\r\n    this.id = id;\r\n    this.lifetime = lifetime;\r\n    this.password = password;\r\n  }\r\n}\r\n\r\nclass GetFileShareLinks extends Command {\r\n  constructor(file_id) {\r\n    super();\r\n    this.file_id = file_id;\r\n  }\r\n}\r\n\r\nclass FlushFileShareLinks extends Command { }\r\n\r\nclass GetFileShareLink extends Command {\r\n  constructor(file_id, link_id) {\r\n    super();\r\n    this.file_id = file_id;\r\n    this.link_id = link_id;\r\n  }\r\n}\r\n\r\nclass DeleteFileShareLink extends Command {\r\n  constructor(file_id, link_id) {\r\n    super();\r\n    this.file_id = file_id;\r\n    this.link_id = link_id;\r\n  }\r\n}\r\n\r\nclass DownloadFileByFileShareLink extends Command {\r\n  constructor(file_id, link_id, password) {\r\n    super();\r\n    this.file_id = file_id;\r\n    this.link_id = link_id;\r\n    this.password = password;\r\n  }\r\n}\r\n\r\nexport {\r\n  Command,\r\n  Notify,\r\n  NotifyApiError,\r\n  // USER\r\n  LoginWithCredentials,\r\n  MyCredentials,\r\n  RefreshTokens,\r\n  Logout,\r\n  GetUserActions,\r\n  // CDN SERVERS\r\n  GetCdnServers,\r\n  AddCdnServer,\r\n  UpdateCdnServer,\r\n  DeleteCdnServer,\r\n  // FILE\r\n  GetFiles,\r\n  GetFileServers,\r\n  DeleteFile,\r\n  RenameFile,\r\n  UploadFile,\r\n  UploadFileByLink,\r\n  DownloadFile,\r\n  DownloadFileByLink,\r\n  // LINK\r\n  AddFileShareLink,\r\n  DeleteFileShareLink,\r\n  GetFileShareLinks,\r\n  FlushFileShareLinks,\r\n  GetFileShareLink,\r\n  DownloadFileByFileShareLink,\r\n};\r\n","class Event { }\r\n\r\nclass ApiError extends Event {\r\n  constructor(code) {\r\n    super();\r\n    this.code = code;\r\n  }\r\n}\r\n\r\nclass UserLoginSuccess extends Event { }\r\nclass AccessTokenOutdated extends Event { }\r\nclass RefreshTokenOutdated extends Event { }\r\nclass UserLogoutSuccess extends Event { }\r\n\r\nclass UploadFileError extends Event {\r\n  constructor(filename) {\r\n    super();\r\n    this.filename = filename;\r\n  }\r\n}\r\n\r\nclass UploadEmptyFileError extends UploadFileError { }\r\nclass UploadFileTooBigError extends UploadFileError { }\r\nclass UploadFileSuccess extends Event { }\r\nclass DownloadFileSuccess extends Event { }\r\nclass RenameFileSuccess extends Event { }\r\nclass DeleteFileSuccess extends Event { }\r\n\r\nclass FileShareLinkCopied extends Event { }\r\nclass FileShareLinkDeleted extends Event { }\r\n\r\nclass CdnServerAdded extends Event { }\r\nclass CdnServerUpdated extends Event { }\r\nclass CdnServerDeleted extends Event { }\r\n\r\nexport {\r\n  Event,\r\n  ApiError,\r\n\r\n  // LOGIN\r\n  UserLoginSuccess,\r\n  AccessTokenOutdated,\r\n  RefreshTokenOutdated,\r\n  UserLogoutSuccess,\r\n\r\n  // FILE\r\n  UploadFileError,\r\n  UploadEmptyFileError,\r\n  UploadFileTooBigError,\r\n  UploadFileSuccess,\r\n  DownloadFileSuccess,\r\n  RenameFileSuccess,\r\n  DeleteFileSuccess,\r\n\r\n  // LINK\r\n  FileShareLinkCopied,\r\n  FileShareLinkDeleted,\r\n\r\n  // CDN SERVER\r\n  CdnServerAdded,\r\n  CdnServerUpdated,\r\n  CdnServerDeleted,\r\n};\r\n","import { Notify } from \"../../domain/command\";\r\n\r\nclass WrongErrorType extends Error { }\r\n\r\nconst notify = (event, uow) => {\r\n  const actions = {\r\n    success: uow.notificator.success,\r\n    warning: uow.notificator.warning,\r\n    info: uow.notificator.info,\r\n    error: uow.notificator.error,\r\n  };\r\n\r\n  if (!Object.prototype.hasOwnProperty.call(actions, event.level)) {\r\n    throw new WrongErrorType('Wrong error type \"' + event.level + '\"');\r\n  }\r\n\r\n  actions[event.level](event.text);\r\n};\r\n\r\nconst notify_api_error = (event, uow) => {\r\n  const errors = {\r\n    \"User.DoesNotExist\": [\"error\", \"Неверные учетные данные\"],\r\n    \"File.DoesNotExist\": [\"error\", \"Файл не существует\"],\r\n    \"File.AlreadyExists\": [\"error\", \"Файл с таким именем уже существует\"],\r\n    \"FileShareLink.DoesNotExist\": [\"error\", \"Ссылка на файл не существует либо ее срок действия истек\"],\r\n    \"CdnServer.ConnectionError\": [\"error\", \"CDN сервер не отвечает\"],\r\n    \"CdnServer.AlreadyExists\": [\"error\", \"Сервер уже существует\"],\r\n    \"CdnServer.DoesNotExist\": [\"error\", \"Сервер не найден\"],\r\n    \"Auth.Error.TokenMissed\": [\"error\", null],\r\n    \"Auth.Error.TokenOutdated\": [\"error\", null],\r\n    \"Auth.Error.WrongTokenPayload\": [\"error\", null],\r\n    \"Auth.Error.NoPermission\": [\"error\", \"Недостаточно прав\"],\r\n    \"Database.Error\": [\"error\", \"Ошибка базы данных\"],\r\n    \"Request.Error.Validation\": [\"error\", \"Неверный запрос\"],\r\n    \"Api.Server.Unavailable\": [\"error\", \"Сервер недоступен\"],\r\n    \"Api.Server.InternalError\": [\"error\", \"Ошибка сервера\"],\r\n  };\r\n\r\n  if (!Object.prototype.hasOwnProperty.call(errors, event.code)) {\r\n    console.log('Неизвестный код ответа API \"' + event.code + '\"');\r\n    uow.push_message(new Notify(\"error\", \"Неизвестная ошибка\"));\r\n    return;\r\n  }\r\n  const [level, text] = errors[event.code];\r\n  if (text)\r\n    uow.push_message(new Notify(level, text));\r\n};\r\n\r\n\r\nexport {\r\n  notify,\r\n  notify_api_error,\r\n};\r\n","class User {\r\n  constructor(\r\n    username,\r\n    email,\r\n    first_name,\r\n    last_name,\r\n    is_superuser,\r\n    permissions\r\n  ) {\r\n    this._username = username;\r\n    this._email = email;\r\n    this._first_name = first_name;\r\n    this._last_name = last_name;\r\n    this._is_superuser = is_superuser;\r\n    this._permissions = permissions;\r\n  }\r\n\r\n  reset() {\r\n    this._username = \"\";\r\n    this._email = \"\";\r\n    this._first_name = \"\";\r\n    this._last_name = \"\";\r\n    this._is_superuser = false\r\n    this._permissions = []\r\n  }\r\n\r\n\r\n  get username() {\r\n    return this._username;\r\n  }\r\n\r\n  get email() {\r\n    return this._email;\r\n  }\r\n\r\n  get first_name() {\r\n    return this._first_name;\r\n  }\r\n\r\n  get last_name() {\r\n    return this._last_name;\r\n  }\r\n\r\n  get is_superuser() {\r\n    return this._is_superuser;\r\n  }\r\n\r\n  get permissions() {\r\n    return this._permissions;\r\n  }\r\n}\r\n\r\nclass CdnServer {\r\n  constructor(\r\n    id,\r\n    name,\r\n    host,\r\n    port,\r\n    location,\r\n    zone,\r\n    latitude,\r\n    longitude,\r\n    is_on,\r\n    is_active,\r\n    created,\r\n    updated\r\n  ) {\r\n    this._id = id;\r\n    this._name = name;\r\n    this._host = host;\r\n    this._port = port;\r\n    this._location = location;\r\n    this._zone = zone;\r\n    this._latitude = latitude;\r\n    this._longitude = longitude;\r\n    this._is_on = is_on;\r\n    this._is_active = is_active;\r\n    this._created = created;\r\n    this._updated = updated;\r\n  }\r\n\r\n  get to_dict() {\r\n    return {\r\n      id: this._id,\r\n      name: this._name,\r\n      host: this._host,\r\n      port: this._port,\r\n      location: this._location,\r\n      zone: this._zone,\r\n      latitude: this._latitude,\r\n      longitude: this._longitude,\r\n      is_on: this._is_on,\r\n      is_active: this._is_active,\r\n      created: this._created,\r\n      updated: this._updated,\r\n    };\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  get host() {\r\n    return this._host;\r\n  }\r\n\r\n  get port() {\r\n    return this._port;\r\n  }\r\n\r\n  get location() {\r\n    return this._location;\r\n  }\r\n\r\n  get zone() {\r\n    return this._zone;\r\n  }\r\n\r\n  get latitude() {\r\n    return this._latitude;\r\n  }\r\n\r\n  get longitude() {\r\n    return this._longitude;\r\n  }\r\n\r\n  get is_on() {\r\n    return this._is_on;\r\n  }\r\n\r\n  get is_active() {\r\n    return this._is_active;\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get updated() {\r\n    return this._updated;\r\n  }\r\n\r\n}\r\n\r\nclass UserAction {\r\n  constructor(\r\n    id,\r\n    event,\r\n    data,\r\n    created,\r\n  ) {\r\n    this._id = id;\r\n    this._event = event;\r\n    this._data = data;\r\n    this._created = created;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get text() {\r\n    if (this._event === 'FILE.UPLOADED') return this._file_uploaded_text;\r\n    if (this._event === 'FILE.DOWNLOADED') return this._file_downloaded_text;\r\n    if (this._event === 'FILE.RENAMED') return this._file_renamed_text;\r\n    if (this._event === 'FILE.DELETED') return this._file_deleted_text;\r\n\r\n    if (this._event === 'FILE_SHARE_LINK.CREATED') return this._file_share_link_created_text;\r\n    if (this._event === 'FILE_SHARE_LINK.DELETED') return this._file_share_link_deleted_text;\r\n\r\n    if (this._event === 'CDN_SERVER.CREATED') return this._cdn_server_created_text;\r\n    if (this._event === 'CDN_SERVER.UPDATED') return this._cdn_server_updated_text;\r\n    if (this._event === 'CDN_SERVER.DELETED') return this._cdn_server_deleted_text;\r\n\r\n    return `Wrong event ${this._event}`;\r\n  }\r\n\r\n  get _file_uploaded_text() {\r\n    return `Файл \"${this._data['name']}\" был добавлен`;\r\n  }\r\n\r\n  get _file_downloaded_text() {\r\n    return `Файл \"${this._data['name']}\" был скачан`;\r\n  }\r\n\r\n  get _file_renamed_text() {\r\n    return `Файл \"${this._data['old_name']}\" был переименован в \"${this._data['new_name']}\"`\r\n  }\r\n\r\n  get _file_deleted_text() {\r\n    return `Файл \"${this._data['name']}\" был удален`;\r\n  }\r\n\r\n  get _file_share_link_created_text() {\r\n    return `Создана общедоступная ссылка на файл \"${this._data['name']}\"`;\r\n  }\r\n\r\n  get _file_share_link_deleted_text() {\r\n    return `Общедоступная ссылка на файл \"${this._data['name']}\", созданная ${new Date(this._data['created']).toLocaleString(\"ru-RU\", {timeZone: \"Europe/Moscow\"})}, была удалена`;\r\n  }\r\n\r\n  get _cdn_server_created_text() {\r\n    return `Добавлен сервер ${this._data['name']}, расположенный в ${this._data['location']} (${this._data['zone']})`;\r\n  }\r\n\r\n  get _cdn_server_updated_text() {\r\n    return `Обновлен сервер ${this._data['name']}, расположенный в ${this._data['location']} (${this._data['zone']})`;\r\n  }\r\n\r\n  get _cdn_server_deleted_text() {\r\n    return `Удален сервер ${this._data['name']}, расположенный в ${this._data['location']} (${this._data['zone']})`;\r\n  }\r\n\r\n}\r\n\r\nclass ShareLink {\r\n  constructor(\r\n    id,\r\n    file,\r\n    is_secured,\r\n    expire_at,\r\n    created,\r\n  ) {\r\n    this._id = id;\r\n    this._file = file;\r\n    this._is_secured = is_secured;\r\n    this._expire_at = expire_at;\r\n    this._created = created;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get file() {\r\n    return this._file;\r\n  }\r\n\r\n  get is_secured() {\r\n    return this._is_secured;\r\n  }\r\n\r\n  get expire_at() {\r\n    return this._expire_at;\r\n  }\r\n\r\n  get is_expired() {\r\n    if (this._expire_at === null || this._expire_at > Date.now()) return false;\r\n    return true;\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get text() {\r\n    const expire_text = this._expire_at ? 'до ' + this._expire_at.toLocaleString(\"ru-RU\", {timeZone: \"Europe/Moscow\"}) : 'бессрочно';\r\n    return `${this._is_secured ? ', защищенная паролем' : ' без пароля'}. Действует ${expire_text}.`;\r\n  }\r\n}\r\n\r\n\r\nclass File {\r\n  constructor(id, name, total_size, created, updated) {\r\n    this._id = id;\r\n    this._name = name;\r\n    this._total_size = total_size;\r\n    this._servers = [];\r\n    this._created = created;\r\n    this._updated = updated;\r\n    this._uploaded_size = 0;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  get size() {\r\n    return this._total_size;\r\n  }\r\n\r\n  get servers() {\r\n    return this._servers;\r\n  }\r\n\r\n  get names_of_servers() {\r\n    return this._servers.map(x => x.name)\r\n  }\r\n\r\n  set servers(new_servers) {\r\n    this._servers = new_servers\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get updated() {\r\n    return this._updated;\r\n  }\r\n\r\n  set_total_size(size) {\r\n    this._total_size = size;\r\n  }\r\n\r\n  _formatBytes(bytes, decimals) {\r\n    if (bytes == 0) return \"0 Bytes\";\r\n    var k = 1024,\r\n      dm = decimals || 2,\r\n      sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"],\r\n      i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  }\r\n\r\n  formatted_size(decimals) {\r\n    return this._formatBytes(this._total_size, decimals);\r\n  }\r\n\r\n  get progress() {\r\n    return Math.floor((this._uploaded_size / this._total_size) * 100);\r\n  }\r\n\r\n  get uploaded() {\r\n    return this._uploaded_size >= this._total_size;\r\n  }\r\n\r\n  set_size_complete() {\r\n    this._uploaded_size = this._total_size;\r\n  }\r\n\r\n  set_size(size) {\r\n    if (size < 0) {\r\n      this._uploaded_size = 0;\r\n      return;\r\n    }\r\n    if (size > this._total_size) {\r\n      this._uploaded_size = this._total_size;\r\n      return;\r\n    }\r\n\r\n    if (size > this._uploaded_size) this._uploaded_size = size;\r\n  }\r\n}\r\n\r\nexport {\r\n  User,\r\n  CdnServer,\r\n  File,\r\n  ShareLink,\r\n  UserAction\r\n};\r\n","import {\r\n  NegativeResponse,\r\n  LoginCredentialsRequest,\r\n  LoginCredentialsResponse,\r\n  LogoutRequest,\r\n  LogoutResponse,\r\n  MyCredentialsRequest,\r\n  MyCredentialsResponse,\r\n  RefreshTokensRequest,\r\n  RefreshTokensResponse,\r\n  GetUserActionsRequest,\r\n  GetUserActionsResponse,\r\n} from \"../../adapters/api\";\r\n\r\nimport {\r\n  ApiError,\r\n  UserLoginSuccess,\r\n  RefreshTokenOutdated,\r\n  UserLogoutSuccess,\r\n} from \"../../domain/event\";\r\n\r\nimport { User, UserAction } from \"../../domain/model\";\r\n\r\nclass WrongResponseError extends Error { }\r\n\r\nconst convert_user_response_obj_to_model = (obj) => {\r\n  const user = new User(\r\n    obj.username,\r\n    obj.email,\r\n    obj.first_name,\r\n    obj.last_name,\r\n    obj.is_superuser,\r\n    obj.permissions\r\n  );\r\n\r\n  return user;\r\n};\r\n\r\nconst login_with_credentials = async (event, uow) => {\r\n  uow.user_repository.reset_keeping_refs();\r\n  uow.token_repository.reset();\r\n\r\n  const request = new LoginCredentialsRequest({\r\n    username: event.username,\r\n    password: event.password,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof LoginCredentialsResponse) {\r\n    uow.token_repository.set_access_token(response.data.access_token);\r\n    uow.token_repository.set_refresh_token(response.data.refresh_token);\r\n    uow.api.set_auth_token(response.data.access_token);\r\n    uow.push_message(new UserLoginSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst my_credentials = async (event, uow) => {\r\n  const request = new MyCredentialsRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof MyCredentialsResponse) {\r\n    uow.user_repository.set_current(\r\n      convert_user_response_obj_to_model(response.data)\r\n    );\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst refresh_tokens = async (event, uow) => {\r\n  const access_token = uow.token_repository.get_access_token()\r\n  const refresh_token = uow.token_repository.get_refresh_token()\r\n\r\n  console.log('Проверка refresh токена');\r\n\r\n  if (!refresh_token) {\r\n    uow.push_message(new RefreshTokenOutdated());\r\n    return;\r\n  }\r\n\r\n  if (access_token) {\r\n    return;\r\n  }\r\n\r\n  uow.api.set_auth_token(refresh_token);\r\n  // console.log('SET AUTH TOKEN - REFRESH')\r\n\r\n  const request = new RefreshTokensRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    if (response.data.code === 'Auth.Error.TokenOutdated') {\r\n      uow.push_message(new RefreshTokenOutdated());\r\n    }\r\n    else\r\n      uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof RefreshTokensResponse) {\r\n    console.log('Новый refresh токен', response.data.refresh_token);\r\n    uow.token_repository.set_access_token(response.data.access_token);\r\n    uow.token_repository.set_refresh_token(response.data.refresh_token);\r\n    uow.api.set_auth_token(response.data.access_token);\r\n    uow.token_timer.start()\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst logout = async (event, uow) => {\r\n  const request = new LogoutRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof LogoutResponse) {\r\n    uow.user_repository.reset();\r\n    uow.token_repository.reset();\r\n    uow.push_message(new UserLogoutSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst convert_user_action_response_obj_to_model = (obj) => {\r\n  const user = new UserAction(\r\n    obj.id,\r\n    obj.event,\r\n    obj.data,\r\n    new Date(obj.created),\r\n  );\r\n\r\n  return user;\r\n};\r\n\r\n\r\nconst get_user_actions = async (event, uow) => {\r\n  uow.action_repository.reset_keeping_refs();\r\n\r\n  const request = new GetUserActionsRequest({\r\n    page_num: event.page_num,\r\n    page_size: event.page_size,\r\n  });\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetUserActionsResponse) {\r\n    uow.action_repository.set_count(response.data.count)\r\n    response.data.data.forEach((obj) =>\r\n      uow.action_repository.set(obj.id,\r\n        convert_user_action_response_obj_to_model(obj)\r\n      ))\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nexport {\r\n  login_with_credentials,\r\n  my_credentials,\r\n  refresh_tokens,\r\n  logout,\r\n  get_user_actions,\r\n};\r\n","import {\r\n  NegativeResponse,\r\n  GetCdnServersRequest,\r\n  GetCdnServersResponse,\r\n  AddCdnServerRequest,\r\n  AddCdnServerResponse,\r\n  UpdateCdnServerRequest,\r\n  UpdateCdnServerResponse,\r\n  DeleteCdnServerRequest,\r\n  DeleteCdnServerResponse,\r\n  GetFileServersRequest,\r\n  GetFileServersResponse,\r\n} from \"../../adapters/api\";\r\n\r\nimport {\r\n  ApiError, CdnServerAdded, CdnServerDeleted, CdnServerUpdated,\r\n} from \"../../domain/event\";\r\n\r\nimport { CdnServer } from \"../../domain/model\";\r\n\r\nclass WrongResponseError extends Error { }\r\n\r\nconst convert_cdn_server_response_obj_to_model = (obj) => {\r\n  const user = new CdnServer(\r\n    obj.id,\r\n    obj.name,\r\n    obj.host,\r\n    obj.port,\r\n    obj.location,\r\n    obj.zone,\r\n    obj.latitude,\r\n    obj.longitude,\r\n    obj.is_on,\r\n    obj.is_active,\r\n    obj.created,\r\n    obj.updated\r\n  );\r\n\r\n  return user;\r\n};\r\n\r\nconst get_cdn_servers = async (event, uow) => {\r\n  const request = new GetCdnServersRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetCdnServersResponse) {\r\n    response.data.forEach((obj) =>\r\n      uow.cdn_server_repository.set(obj.id,\r\n        convert_cdn_server_response_obj_to_model(obj)\r\n      ))\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst add_cdn_server = async (event, uow) => {\r\n  const request = new AddCdnServerRequest({\r\n    name: event.name,\r\n    host: event.host,\r\n    port: event.port,\r\n    location: event.location,\r\n    zone: event.zone,\r\n    latitude: event.latitude,\r\n    longitude: event.longitude,\r\n    is_on: event.is_on,\r\n    is_active: event.is_active,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof AddCdnServerResponse) {\r\n    const obj = response.data;\r\n    uow.cdn_server_repository.set(obj.id,\r\n      convert_cdn_server_response_obj_to_model(obj)\r\n    )\r\n    uow.push_message(new CdnServerAdded());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst update_cdn_server = async (event, uow) => {\r\n  const request = new UpdateCdnServerRequest({\r\n    id: event.id,\r\n    name: event.name,\r\n    host: event.host,\r\n    port: event.port,\r\n    location: event.location,\r\n    zone: event.zone,\r\n    latitude: event.latitude,\r\n    longitude: event.longitude,\r\n    is_on: event.is_on,\r\n    is_active: event.is_active,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof UpdateCdnServerResponse) {\r\n    const obj = response.data;\r\n    uow.cdn_server_repository.set(obj.id,\r\n      convert_cdn_server_response_obj_to_model(obj)\r\n    )\r\n    uow.push_message(new CdnServerUpdated());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst delete_cdn_server = async (event, uow) => {\r\n  const request = new DeleteCdnServerRequest({\r\n    id: event.id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DeleteCdnServerResponse) {\r\n    uow.cdn_server_repository.delete(event.id)\r\n    uow.push_message(new CdnServerDeleted());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst get_file_servers = async (event, uow) => {\r\n  const request = new GetFileServersRequest({ id: event.id, });\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFileServersResponse) {\r\n    const servers = response.data.map((obj) =>\r\n      convert_cdn_server_response_obj_to_model(obj))\r\n\r\n    uow.file_repository.set_servers(event.id, servers)\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nexport {\r\n  get_file_servers,\r\n  get_cdn_servers,\r\n  add_cdn_server,\r\n  update_cdn_server,\r\n  delete_cdn_server,\r\n};\r\n","const get_extension_of_file = (filename) => {\r\n  return filename.split('.').pop() || \"\";\r\n}\r\n\r\nexport { get_extension_of_file };\r\n","import { get_extension_of_file } from \"./filename\";\r\n\r\nconst js_download_file = ({ data, filename, mime, bom, inline = false }) => {\r\n  console.log(filename)\r\n  const is_pdf =\r\n    mime === \"application/pdf\" ||\r\n    get_extension_of_file(filename).toLowerCase() == \"pdf\";\r\n\r\n  const is_html =\r\n    mime === \"text/html\" ||\r\n    get_extension_of_file(filename).toLowerCase() === \"html\";\r\n\r\n  const blobData = typeof bom !== \"undefined\" ? [bom, data] : [data];\r\n\r\n  if (!mime && is_pdf) mime = \"application/pdf\";\r\n  if (!mime && is_html) mime = \"text/html\";\r\n\r\n  const blob = new Blob(blobData, { type: mime });\r\n\r\n  if (typeof window.navigator.msSaveBlob !== \"undefined\") {\r\n    // IE workaround for \"HTML7007: One or more blob URLs were\r\n    // revoked by closing the blob for which they were created.\r\n    // These URLs will no longer resolve as the data backing\r\n    // the URL has been freed.\"\r\n    window.navigator.msSaveBlob(blob, filename);\r\n  } else {\r\n    var blobURL =\r\n      window.URL && window.URL.createObjectURL\r\n        ? window.URL.createObjectURL(blob)\r\n        : window.webkitURL.createObjectURL(blob);\r\n\r\n    const tempLink = document.createElement(\"a\");\r\n    tempLink.style.display = \"none\";\r\n    tempLink.href = blobURL;\r\n\r\n    const title = document.createElement(\"title\");\r\n    title.innerText = filename;\r\n\r\n    // Safari thinks _blank anchor are pop ups. We only want to set _blank\r\n    // target if the browser does not support the HTML5 download attribute.\r\n    // This allows you to download files in desktop safari if pop up blocking\r\n    // is enabled.\r\n    if (typeof tempLink.download === \"undefined\") {\r\n      tempLink.setAttribute(\"target\", \"_blank\");\r\n    }\r\n    if (inline === true && (is_pdf || is_html))\r\n      tempLink.addEventListener(\"click\", function (event) {\r\n        event.preventDefault();\r\n        let new_window = window.open(blobURL, \"_blank\");\r\n        new_window.onload = () => new_window.document.head.appendChild(title);\r\n      });\r\n    else tempLink.setAttribute(\"download\", filename);\r\n\r\n    document.body.appendChild(tempLink);\r\n    tempLink.click();\r\n\r\n    // Fixes \"webkit blob resource error 1\"\r\n    setTimeout(function () {\r\n      document.body.removeChild(tempLink);\r\n      window.URL.revokeObjectURL(blobURL);\r\n    }, 5000);\r\n  }\r\n};\r\n\r\nexport { js_download_file };\r\n","import {\r\n  NegativeResponse,\r\n  GetFilesRequest,\r\n  GetFilesResponse,\r\n  DeleteFileRequest,\r\n  DeleteFileResponse,\r\n  RenameFileRequest,\r\n  RenameFileResponse,\r\n  UploadFileRequest,\r\n  UploadFileResponse,\r\n  GetUploadLinkRequest,\r\n  GetUploadLinkResponse,\r\n  GetDownloadLinkRequest,\r\n  GetDownloadLinkResponse,\r\n  DownloadFileRequest,\r\n  DownloadFileResponse,\r\n  AddFileShareLinkRequest,\r\n  AddFileShareLinkResponse,\r\n  GetFileShareLinksRequest,\r\n  GetFileShareLinksResponse,\r\n  GetFileShareLinkRequest,\r\n  GetFileShareLinkResponse,\r\n  DeleteFileShareLinkRequest,\r\n  DeleteFileShareLinkResponse,\r\n  GetDownloadLinkByFileShareLinkRequest,\r\n  GetDownloadLinkByFileShareLinkResponse,\r\n} from \"../../adapters/api\";\r\n\r\nimport {\r\n  UploadFileByLink,\r\n  DownloadFileByLink\r\n} from \"../../domain/command\";\r\n\r\nimport {\r\n  ApiError,\r\n  UploadFileError,\r\n  UploadFileSuccess,\r\n  DownloadFileSuccess,\r\n  DeleteFileSuccess,\r\n  RenameFileSuccess,\r\n  FileShareLinkDeleted\r\n} from \"../../domain/event\";\r\n\r\nimport { File, ShareLink } from \"../../domain/model\";\r\nimport { js_download_file } from \"../utils/file_download\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nclass WrongResponseError extends Error { }\r\n\r\nconst convert_file_response_obj_to_model = (obj) => {\r\n  const f = new File(\r\n    obj.id,\r\n    obj.name,\r\n    obj.size,\r\n    new Date(obj.created),\r\n    new Date(obj.updated),\r\n  );\r\n\r\n  return f;\r\n};\r\n\r\nconst get_files = async (event, uow) => {\r\n  const request = new GetFilesRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFilesResponse) {\r\n    uow.file_repository.reset_keeping_refs();\r\n    response.data.forEach((obj) => {\r\n      const f = convert_file_response_obj_to_model(obj);\r\n      f.set_size_complete();\r\n      uow.file_repository.set(f.id, f);\r\n    })\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nconst delete_file = async (event, uow) => {\r\n  const request = new DeleteFileRequest({\r\n    id: event.id,\r\n  });\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DeleteFileResponse) {\r\n    uow.file_repository.delete(event.id);\r\n    uow.push_message(new DeleteFileSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst rename_file = async (event, uow) => {\r\n  const request = new RenameFileRequest({\r\n    id: event.id,\r\n    name: event.name,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof RenameFileResponse) {\r\n    const f = convert_file_response_obj_to_model(response.data);\r\n    f.set_size_complete();\r\n    uow.file_repository.set(f.id, f);\r\n    uow.push_message(new RenameFileSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nconst upload_file = async (event, uow) => {\r\n  // Получаем ссылку на загрузку файла\r\n  const request = new GetUploadLinkRequest({\r\n    name: event.file.name,\r\n    size: event.file.size,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n  if (response instanceof GetUploadLinkResponse) {\r\n    const f = convert_file_response_obj_to_model(response.data.file)\r\n    uow.file_repository.set(f.id, f)\r\n\r\n    uow.push_message(new UploadFileByLink(f.id, response.data.link, event.file));\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst upload_file_by_link = async (event, uow) => {\r\n  const file = uow.file_repository.get(event.id) //ref\r\n  const request = new UploadFileRequest({\r\n    link: event.link,\r\n    original_file: event.file,\r\n    on_progress: (x) => file.value.set_size(x)\r\n  });\r\n\r\n  let response = null;\r\n\r\n  try {\r\n    response = await uow.api.call(request);\r\n  } catch (error) {\r\n    uow.push_message(new UploadFileError(event.file.name));\r\n    console.log(error);\r\n  }\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.file_repository.delete(event.id);\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof UploadFileResponse) {\r\n    // Если запрос успешен, то устанавливаем прогресс 100%\r\n    uow.file_repository.set_size_complete(event.id);\r\n    uow.push_message(new UploadFileSuccess());\r\n    return;\r\n  }\r\n\r\n  uow.file_repository.delete(event.id);\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst download_file = async (event, uow) => {\r\n  // Получаем ссылку на скачаивание файла\r\n  const request = new GetDownloadLinkRequest({\r\n    id: event.id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n  if (response instanceof GetDownloadLinkResponse) {\r\n    uow.push_message(new DownloadFileByLink(\r\n      response.data.link, response.data.file.name, response.data.file.size));\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst download_file_by_link = async (event, uow) => {\r\n  const id = uuidv4();\r\n\r\n  const file = new File(id, event.name, event.size, new Date(), new Date());\r\n  console.log(file)\r\n  uow.download_progress.set(id, file);\r\n\r\n  const request = new DownloadFileRequest({\r\n    set_size_method: (size) => uow.download_progress.set_size(id, size),\r\n    link: event.link,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DownloadFileResponse) {\r\n    js_download_file({\r\n      data: response.data.file,\r\n      filename: event.name,\r\n    });\r\n    uow.push_message(new DownloadFileSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst convert_file_link_response_obj_to_model = (obj) => {\r\n  const f = convert_file_response_obj_to_model(obj.file)\r\n  const link = new ShareLink(\r\n    obj.id,\r\n    f,\r\n    obj.is_secured,\r\n    obj.expire_at ? new Date(obj.expire_at) : null,\r\n    new Date(obj.created),\r\n  );\r\n\r\n  return link;\r\n};\r\n\r\nconst add_file_share_link = async (event, uow) => {\r\n  const request = new AddFileShareLinkRequest({\r\n    id: event.id,\r\n    lifetime: event.lifetime,\r\n    password: event.password\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof AddFileShareLinkResponse) {\r\n    const obj = convert_file_link_response_obj_to_model(response.data);\r\n    uow.link_repository.set(obj.id, obj);\r\n    return obj;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst get_file_share_links = async (event, uow) => {\r\n  uow.link_repository.reset_keeping_refs();\r\n  const request = new GetFileShareLinksRequest({\r\n    file_id: event.file_id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFileShareLinksResponse) {\r\n    response.data.forEach((obj) => {\r\n      const f = convert_file_link_response_obj_to_model(obj);\r\n      uow.link_repository.set(f.id, f);\r\n    })\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst flush_file_share_links = async (event, uow) => {\r\n    uow.link_repository.reset_keeping_refs();\r\n};\r\n\r\nconst get_file_share_link = async (event, uow) => {\r\n  const request = new GetFileShareLinkRequest({\r\n    file_id: event.file_id,\r\n    link_id: event.link_id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFileShareLinkResponse) {\r\n    return convert_file_link_response_obj_to_model(response.data);\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst delete_file_share_link = async (event, uow) => {\r\n  const request = new DeleteFileShareLinkRequest({\r\n    file_id: event.file_id,\r\n    link_id: event.link_id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DeleteFileShareLinkResponse) {\r\n    console.log('LINK BEFORe', JSON.stringify(uow.link_repository.values().map(obj => obj.value.id)))\r\n    console.log('LINK BEFORe', JSON.stringify(uow.link_repository.pure_keys()))\r\n    console.log('DELETE LINK', event.link_id)\r\n    console.log('LINK AFTER', JSON.stringify(uow.link_repository.values().map(obj => obj.value.id)))\r\n    console.log('LINK AFTER', JSON.stringify(uow.link_repository.pure_keys()))\r\n    uow.link_repository.delete(event.link_id);\r\n    uow.push_message(new FileShareLinkDeleted());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst download_file_by_file_share_link = async (event, uow) => {\r\n  // Получаем ссылку на скачаивание файла\r\n  const request = new GetDownloadLinkByFileShareLinkRequest({\r\n    file_id: event.file_id,\r\n    link_id: event.link_id,\r\n    password: event.password,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n  if (response instanceof GetDownloadLinkByFileShareLinkResponse) {\r\n    uow.push_message(new DownloadFileByLink(\r\n      response.data.link, response.data.file.name, response.data.file.size));\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nexport {\r\n  upload_file,\r\n  upload_file_by_link,\r\n  get_files,\r\n  delete_file,\r\n  rename_file,\r\n  download_file,\r\n  download_file_by_link,\r\n  add_file_share_link,\r\n  get_file_share_links,\r\n  flush_file_share_links,\r\n  get_file_share_link,\r\n  delete_file_share_link,\r\n  download_file_by_file_share_link\r\n};\r\n","import {\r\n  Notify,\r\n  NotifyApiError,\r\n} from \"../domain/command\";\r\nimport router from \"../../router\";\r\n\r\nconst handle_api_error = (event, uow) => {\r\n  uow.push_message(new NotifyApiError(event.code));\r\n};\r\n\r\nconst user_login_success = async (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", \"Вы вошли в систему\"));\r\n};\r\n\r\nconst access_token_outdated = async (event, uow) => {\r\n  uow.push_message(new Notify(\"error\", \"Время жизни Access Token истекло\"));\r\n};\r\n\r\nconst refresh_token_outdated = async (event, uow) => {\r\n  uow.push_message(new Notify(\"error\", \"Время жизни Refresh Token истекло. Пожалуйста, войдите заново.\"));\r\n  router.push({\r\n    name: \"LoginPage\",\r\n  });\r\n};\r\n\r\nconst user_logout_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"info\", \"Вы вышли из системы\"));\r\n};\r\n\r\nconst upload_file_error = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"error\", `Ошибка загрузки файла ${event.filename}`)\r\n  );\r\n};\r\n\r\nconst upload_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", `Файл добавлен`));\r\n};\r\n\r\nconst download_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", `Файл скачан`));\r\n};\r\n\r\nconst rename_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", `Файл переименован`));\r\n};\r\n\r\nconst delete_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", `Файл удален`));\r\n};\r\n\r\nconst file_share_link_copied = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", `Ссылка на файл скопирована в буфер обмена`)\r\n  );\r\n};\r\n\r\nconst file_share_link_deleted = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", `Ссылка на файл удалена`)\r\n  );\r\n};\r\n\r\nconst cdn_server_added = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", `Сервер добавлен`)\r\n  );\r\n};\r\n\r\nconst cdn_server_updated = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", `Сервер обновлен`)\r\n  );\r\n};\r\n\r\nconst cdn_server_deleted = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", `Сервер удален`)\r\n  );\r\n};\r\n\r\nexport {\r\n  handle_api_error,\r\n  user_login_success,\r\n  access_token_outdated,\r\n  refresh_token_outdated,\r\n  user_logout_success,\r\n  upload_file_error,\r\n  upload_file_success,\r\n  download_file_success,\r\n  rename_file_success,\r\n  delete_file_success,\r\n  file_share_link_copied,\r\n  file_share_link_deleted,\r\n  cdn_server_added,\r\n  cdn_server_updated,\r\n  cdn_server_deleted\r\n};\r\n","/*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\r\n\r\nimport { Command } from \"../domain/command\";\r\nimport { Event } from \"../domain/event\";\r\n\r\nimport {\r\n  notify,\r\n  notify_api_error,\r\n} from \"./command_handlers/common_handlers\";\r\n\r\nimport {\r\n  login_with_credentials,\r\n  my_credentials,\r\n  refresh_tokens,\r\n  logout,\r\n  get_user_actions,\r\n} from \"./command_handlers/user_handlers\";\r\n\r\nimport {\r\n  get_cdn_servers,\r\n  add_cdn_server,\r\n  update_cdn_server,\r\n  delete_cdn_server,\r\n  get_file_servers,\r\n} from \"./command_handlers/cdn_server_handlers\";\r\n\r\nimport {\r\n  get_files,\r\n  delete_file,\r\n  rename_file,\r\n  upload_file,\r\n  upload_file_by_link,\r\n  download_file,\r\n  download_file_by_link,\r\n  add_file_share_link,\r\n  get_file_share_links,\r\n  flush_file_share_links,\r\n  get_file_share_link,\r\n  delete_file_share_link,\r\n  download_file_by_file_share_link,\r\n} from \"./command_handlers/file_handlers\";\r\n\r\n\r\nimport {\r\n  handle_api_error,\r\n  upload_file_error,\r\n  upload_file_success,\r\n  download_file_success,\r\n  rename_file_success,\r\n  delete_file_success,\r\n  user_login_success,\r\n  access_token_outdated,\r\n  refresh_token_outdated,\r\n  user_logout_success,\r\n  file_share_link_copied,\r\n  file_share_link_deleted,\r\n  cdn_server_added,\r\n  cdn_server_updated,\r\n  cdn_server_deleted\r\n} from \"./event_handlers\";\r\n\r\nconst COMMAND_HANDLERS = {\r\n  Notify: [notify],\r\n  NotifyApiError: [notify_api_error],\r\n\r\n  // USER\r\n  LoginWithCredentials: [login_with_credentials],\r\n  MyCredentials: [my_credentials],\r\n  RefreshTokens: [refresh_tokens],\r\n  Logout: [logout],\r\n  GetUserActions: [get_user_actions],\r\n\r\n  // CDN SERVERS\r\n  GetCdnServers: [get_cdn_servers],\r\n  AddCdnServer: [add_cdn_server],\r\n  UpdateCdnServer: [update_cdn_server],\r\n  DeleteCdnServer: [delete_cdn_server],\r\n\r\n  // FILE\r\n  GetFiles: [get_files],\r\n  GetFileServers: [get_file_servers],\r\n  DeleteFile: [delete_file],\r\n  RenameFile: [rename_file],\r\n  UploadFile: [upload_file],\r\n  UploadFileByLink: [upload_file_by_link],\r\n  DownloadFile: [download_file],\r\n  DownloadFileByLink: [download_file_by_link],\r\n\r\n  // SHARE LINK\r\n  AddFileShareLink: [add_file_share_link],\r\n  GetFileShareLinks: [get_file_share_links],\r\n  FlushFileShareLinks: [flush_file_share_links],\r\n  GetFileShareLink: [get_file_share_link],\r\n  DeleteFileShareLink: [delete_file_share_link],\r\n  DownloadFileByFileShareLink: [download_file_by_file_share_link],\r\n};\r\n\r\nconst EVENT_HANDLERS = {\r\n  ApiError: [handle_api_error],\r\n  UserLoginSuccess: [user_login_success],\r\n  AccessTokenOutdated: [access_token_outdated],\r\n  RefreshTokenOutdated: [refresh_token_outdated],\r\n  UserLogoutSuccess: [user_logout_success],\r\n  UploadFileError: [upload_file_error],\r\n  UploadFileSuccess: [upload_file_success],\r\n  DownloadFileSuccess: [download_file_success],\r\n  DeleteFileSuccess: [delete_file_success],\r\n  RenameFileSuccess: [rename_file_success],\r\n  FileShareLinkCopied: [file_share_link_copied],\r\n  FileShareLinkDeleted: [file_share_link_deleted],\r\n  CdnServerAdded: [cdn_server_added],\r\n  CdnServerUpdated: [cdn_server_updated],\r\n  CdnServerDeleted: [cdn_server_deleted],\r\n};\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass MessageBus {\r\n  static async handle(message, uow) {\r\n    let result = [];\r\n    let quenue = [message];\r\n    // console.log(\"Enter message bus for message \", message);\r\n\r\n    while (true) {\r\n      // console.log(\"QUENUE = \", quenue);\r\n      if (quenue.length === 0) break;\r\n\r\n      const handle_function = async (current_message) => {\r\n        // console.log(current_message);\r\n\r\n        if (current_message instanceof Command) {\r\n          const new_messages = await this.handle_command(\r\n            current_message,\r\n            uow,\r\n            result\r\n          );\r\n          // console.log(\"New command messages \", new_messages);\r\n          quenue = quenue.concat(new_messages);\r\n        }\r\n\r\n        if (current_message instanceof Event) {\r\n          const new_messages = await this.handle_event(current_message, uow);\r\n          // console.log(\"New event messages \", new_messages);\r\n          quenue = quenue.concat(new_messages);\r\n        }\r\n      };\r\n\r\n      // делаем \"map\" массива в промисы\r\n      // ждем когда всё промисы будут выполнены\r\n      const promises = quenue.map(handle_function);\r\n      quenue = [];\r\n      await Promise.all(promises);\r\n    }\r\n\r\n    // console.log(\"Leave message bus for message \", message);\r\n    return result;\r\n  }\r\n\r\n  static async handle_command(message, uow, result) {\r\n    let new_messages = [];\r\n\r\n    if (\r\n      !Object.prototype.hasOwnProperty.call(\r\n        COMMAND_HANDLERS,\r\n        message.constructor.name\r\n      )\r\n    ) {\r\n      throw new NotImplementedError(\r\n        'There is no handler for command \"' + message.constructor.name + '\"'\r\n      );\r\n    }\r\n\r\n    const handlers = COMMAND_HANDLERS[message.constructor.name];\r\n\r\n    const handle_function = async (handler) => {\r\n      try {\r\n        const command_result = await handler(message, uow);\r\n        result.push(command_result);\r\n\r\n        const events = uow.collect_new_messages();\r\n        new_messages = new_messages.concat(events);\r\n      } catch (e) {\r\n        console.log(\r\n          'Exception \"' +\r\n            e.toString() +\r\n            '\" handling command \"' +\r\n            message.constructor.name +\r\n            '\"'\r\n        );\r\n      }\r\n    };\r\n\r\n    // делаем \"map\" массива в промисы\r\n    // ждем когда всё промисы будут выполнены\r\n    const promises = handlers.map(handle_function);\r\n    await Promise.all(promises);\r\n\r\n    // console.log(\"Return command new messages\");\r\n\r\n    return new_messages;\r\n  }\r\n\r\n  static async handle_event(message, uow) {\r\n    let new_messages = [];\r\n\r\n    if (\r\n      !Object.prototype.hasOwnProperty.call(\r\n        EVENT_HANDLERS,\r\n        message.constructor.name\r\n      )\r\n    ) {\r\n      throw new NotImplementedError(\r\n        'There is no handler for event \"' + message.constructor.name + '\"'\r\n      );\r\n    }\r\n\r\n    const handlers = EVENT_HANDLERS[message.constructor.name];\r\n\r\n    const handle_function = async (handler) => {\r\n      try {\r\n        await handler(message, uow);\r\n        const events = uow.collect_new_messages();\r\n        new_messages = new_messages.concat(events);\r\n      } catch (e) {\r\n        console.log(\r\n          'Exception \"' +\r\n            e.toString() +\r\n            '\" handling event \"' +\r\n            message.constructor.name +\r\n            '\"'\r\n        );\r\n      }\r\n    };\r\n\r\n    // делаем \"map\" массива в промисы\r\n    // ждем когда всё промисы будут выполнены\r\n    const promises = handlers.map(handle_function);\r\n    await Promise.all(promises);\r\n\r\n    // console.log(\"Return event new messages\");\r\n\r\n    return new_messages;\r\n  }\r\n}\r\n\r\nexport { MessageBus };\r\n","<template>\r\n  <button\r\n    class=\"btn\"\r\n    :class=\"{\r\n      btn_primary: type === 'primary',\r\n      btn_secondary: type === 'secondary',\r\n      btn_success: type === 'success',\r\n      btn_warning: type === 'warning',\r\n      btn_danger: type === 'danger',\r\n      btn_disabled: disabled === true,\r\n      btn_small: size === 'small',\r\n      btn_middle: size === 'middle',\r\n      btn_big: size === 'big',\r\n    }\"\r\n    :disabled=\"disabled\"\r\n  >\r\n    {{ caption }}\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"BtnComponent\",\r\n  props: {\r\n    caption: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    type: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    size: {\r\n      type: String,\r\n      required: false,\r\n      default: \"middle\",\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.btn {\r\n  display: inline-block;\r\n  padding: 0.375em 0.75em 0.375em 0.75em;\r\n  border: 1px solid;\r\n  color: white;\r\n  box-sizing: border-box;\r\n  line-height: 1.5;\r\n}\r\n\r\n.btn_small {\r\n  border-radius: 3px;\r\n  font-size: 12px;\r\n}\r\n\r\n.btn_middle {\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.btn_big {\r\n  border-radius: 8px;\r\n  font-size: 32px;\r\n}\r\n\r\n.btn_disabled {\r\n  background-color: gray !important;\r\n  border-color: gray !important;\r\n}\r\n\r\n.btn_primary {\r\n  background-color: #007bff;\r\n  border-color: #007bff;\r\n}\r\n.btn_primary:hover {\r\n  background-color: rgb(11, 94, 215);\r\n  border-color: rgb(11, 94, 215);\r\n}\r\n.btn_secondary {\r\n  background-color: #6c757d;\r\n  border-color: #6c757d;\r\n}\r\n.btn_secondary:hover {\r\n  background-color: rgb(92, 99, 106);\r\n  border-color: rgb(92, 99, 106);\r\n}\r\n.btn_success {\r\n  background-color: #28a745;\r\n  border-color: #28a745;\r\n}\r\n.btn_success:hover {\r\n  background-color: rgb(21, 115, 71);\r\n  border-color: rgb(21, 115, 71);\r\n}\r\n.btn_danger {\r\n  background-color: #dc3545;\r\n  border-color: #dc3545;\r\n}\r\n.btn_danger:hover {\r\n  background-color: rgb(187, 45, 59);\r\n  border-color: rgb(187, 45, 59);\r\n}\r\n.btn_warning {\r\n  color: black;\r\n  background-color: #ffc107;\r\n  border-color: #ffc107;\r\n}\r\n.btn_warning:hover {\r\n  background-color: rgb(255, 202, 44);\r\n  border-color: rgb(255, 202, 44);\r\n}\r\n</style>","import { render } from \"./BtnComponent.vue?vue&type=template&id=6615cd5c\"\nimport script from \"./BtnComponent.vue?vue&type=script&lang=js\"\nexport * from \"./BtnComponent.vue?vue&type=script&lang=js\"\n\nimport \"./BtnComponent.vue?vue&type=style&index=0&id=6615cd5c&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <p\r\n    class=\"heading\"\r\n    v-bind:class=\"{\r\n      heading_big: size === 'big',\r\n      heading_middle: size === 'middle',\r\n      heading_small: size === 'small',\r\n    }\"\r\n  >\r\n    {{ text }}\r\n  </p>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HeadingComponent\",\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    size: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.heading {\r\n  display: block;\r\n  font-weight: 500;\r\n}\r\n\r\n.heading_big {\r\n  font-size: 48px;\r\n}\r\n\r\n.heading_middle {\r\n  font-size: 28px;\r\n}\r\n\r\n.heading_small {\r\n  font-size: 20px;\r\n}\r\n</style>","import { render } from \"./HeadingComponent.vue?vue&type=template&id=e0de76cc\"\nimport script from \"./HeadingComponent.vue?vue&type=script&lang=js\"\nexport * from \"./HeadingComponent.vue?vue&type=script&lang=js\"\n\nimport \"./HeadingComponent.vue?vue&type=style&index=0&id=e0de76cc&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"formtextinput\">\r\n    <input\r\n      class=\"textinput\"\r\n      :style=\"style\"\r\n      :type=\"secure === true ? 'password' : 'text'\"\r\n      :value=\"value\"\r\n      :placeholder=\"placeholder\"\r\n      :disabled=\"is_disabled\"\r\n      @input=\"$emit('update', $event.target.value)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormTextInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: String,\r\n      required: false,\r\n      // default: \"\",\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || \"\";\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n    const height = computed(() => props.parameters[\"height\"] || 0);\r\n    const style = computed(() =>\r\n      height.value == 0\r\n        ? { color: color.value }\r\n        : {\r\n            color: color.value,\r\n            \"min-height\": height.value.toString() + \"px\",\r\n            \"max-height\": height.value.toString() + \"px\",\r\n          }\r\n    );\r\n\r\n    const placeholder = computed(() => props.parameters[\"placeholder\"] || \"\");\r\n    const secure = computed(() => props.parameters[\"secure\"] || false);\r\n    const is_disabled = computed(\r\n      () => props.parameters[\"is_disabled\"] || false\r\n    );\r\n    const color = computed(() => props.parameters[\"color\"] || \"black\");\r\n\r\n    return { placeholder, secure, is_disabled, color, style };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formtextinput {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.textinput {\r\n  box-sizing: border-box;\r\n}\r\n</style>\r\n","import { render } from \"./FormTextInput.vue?vue&type=template&id=fae75948&scoped=true\"\nimport script from \"./FormTextInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormTextInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormTextInput.vue?vue&type=style&index=0&id=fae75948&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fae75948\"]])\n\nexport default __exports__","import { render } from \"./LoginPage.vue?vue&type=template&id=f84267f8&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=f84267f8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f84267f8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page\">\r\n    <heading-component\r\n      class=\"page__heading\"\r\n      text=\"Распределенное хранение файлов\"\r\n      size=\"middle\"\r\n    />\r\n    <div class=\"page__container\">\r\n      <div class=\"page__form-backdrop\" v-if=\"is_form_opened\">\r\n        <base-form\r\n          class=\"page__form\"\r\n          :attributes=\"form_attributes\"\r\n          :settings=\"form_pages\"\r\n          @update=\"handle_update_form_attribute($event.name, $event.value)\"\r\n          @close=\"handle_form_close()\"\r\n          @apply=\"handle_form_apply()\"\r\n        >\r\n        </base-form>\r\n      </div>\r\n      <div class=\"page__topcontainer\">\r\n        <div class=\"page__infocontainer\">\r\n          <div v-if=\"user\" class=\"page__userinfo\">\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">Имя пользователя:</p>\r\n              <p class=\"page__uservalue\">{{ user.username }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">E-mail:</p>\r\n              <p class=\"page__uservalue\">{{ user.email }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">Имя:</p>\r\n              <p class=\"page__uservalue\">{{ user.first_name }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">Фамилия:</p>\r\n              <p class=\"page__uservalue\">{{ user.last_name }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">Суперпользователь ?:</p>\r\n              <p class=\"page__uservalue\">\r\n                {{ user.is_superuser ? \"Да\" : \"Нет\" }}\r\n              </p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">Разрешения:</p>\r\n              <ul class=\"page__uservalue\">\r\n                <li v-for=\"perm in user.permissions\" :key=\"perm\">{{ perm }}</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"selected_file_id\" class=\"page__fileinfo\">\r\n            <form-text-field\r\n              value=\"Сменить имя файла\"\r\n              :parameters=\"{ font_weight: 600 }\"\r\n            />\r\n            <form-text-input\r\n              :value=\"selected_file_name\"\r\n              @update=\"selected_file_name = $event\"\r\n            />\r\n            <btn-component\r\n              или\r\n              v-if=\"selected_file_name\"\r\n              class=\"fileinfo__button\"\r\n              caption=\"Применить\"\r\n              type=\"success\"\r\n              @click=\"handle_rename_file()\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"page__filecontainer\">\r\n          <file-list\r\n            :files=\"downloading_files\"\r\n            :can_be_deleted=\"false\"\r\n            или\r\n            :can_be_dragged=\"false\"\r\n          />\r\n          <file-drop-zone\r\n            class=\"page__filedropzone\"\r\n            :class=\"{ page__filedropzone_dragging: is_drag_above_file_zone }\"\r\n            @add:file=\"handle_new_file_drop($event)\"\r\n            @update:dragging=\"is_drag_above_file_zone = $event\"\r\n          >\r\n            <span v-if=\"!is_drag_above_file_zone\" class=\"page__dropzonetitle\">\r\n              Drag&Drop &lt; {{ max_file_size }} МБ</span\r\n            >\r\n          </file-drop-zone>\r\n          или\r\n          <input\r\n            type=\"file\"\r\n            id=\"file-input\"\r\n            multiple\r\n            @change=\"\r\n              Array.prototype.forEach.call($event.target.files, (f) =>\r\n                handle_new_file_drop(f)\r\n              )\r\n            \"\r\n          />\r\n        </div>\r\n        <div class=\"page__historycontainer hystorycontainer\">\r\n          <form-text-field\r\n            value=\"История действий пользователя:\"\r\n            :parameters=\"{ font_weight: 600 }\"\r\n          />\r\n          <document-pagination-row\r\n            :total_count=\"ua_total_count\"\r\n            :count_per_page=\"ua_count_per_page\"\r\n            :current_page=\"ua_current_page\"\r\n            :variants=\"ua_variants\"\r\n            @set:count_per_page=\"ua_select_count_per_page($event)\"\r\n            @select:page=\"ua_select_page($event)\"\r\n          />\r\n          <div\r\n            v-for=\"action in user_actions\"\r\n            :key=\"action.id\"\r\n            class=\"historycontainer__row history__row\"\r\n          >\r\n            <div class=\"history__date\">\r\n              {{\r\n                action.created.toLocaleString(\"ru-RU\", {\r\n                  timeZone: \"Europe/Moscow\",\r\n                })\r\n              }}\r\n            </div>\r\n            <div class=\"history__text\">{{ action.text }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"page__linkcontainer linkcontainer\">\r\n          <form-text-field\r\n            value=\"Общедоступные ссылки (выберите файл):\"\r\n            :parameters=\"{ font_weight: 600 }\"\r\n          />\r\n          <div\r\n            v-for=\"link in share_links\"\r\n            :key=\"link.id\"\r\n            class=\"linkcontainer__row link__row\"\r\n          >\r\n            <div class=\"link__delete\" @click=\"handle_delete_link(link.id)\" />\r\n            <div class=\"link__date\">\r\n              {{\r\n                link.created.toLocaleString(\"ru-RU\", {\r\n                  timeZone: \"Europe/Moscow\",\r\n                })\r\n              }}\r\n            </div>\r\n            <div v-if=\"link.is_expired\" class=\"link__text link__text_expired\">\r\n              Истекло время жизни ссылки\r\n            </div>\r\n            <div v-else class=\"link__text\">\r\n              <a :href=\"make_share_link_for_selected_file(link.id)\">Ссылка</a\r\n              >{{ link.text }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"page__middlecontainer\">\r\n        <div class=\"filerowheader\">\r\n          <div class=\"filerow__button\" />\r\n          <div class=\"filerow__name\">Наименование</div>\r\n\r\n          <div class=\"filerow__date\">Создан</div>\r\n          <div class=\"filerow__date\">Изменен</div>\r\n\r\n          <div\r\n            v-for=\"server in servers\"\r\n            :key=\"server.id\"\r\n            class=\"filerow__server server\"\r\n          >\r\n            <p>{{ server.name }}</p>\r\n            <p>{{ server.location }}</p>\r\n            <p>{{ server.zone }}</p>\r\n            <p>Ш: {{ server.latitude }}</p>\r\n            <p>Д: {{ server.longitude }}</p>\r\n            <form-boolean-input\r\n              v-if=\"can_change_server\"\r\n              class=\"server__activator\"\r\n              :value=\"server.is_active\"\r\n              :parameters=\"{ size: 20, hint: 'Активен' }\"\r\n              @update=\"handle_activate_server(server, $event)\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          v-for=\"file in files\"\r\n          :key=\"file.id\"\r\n          class=\"filerow\"\r\n          :class=\"{ filerow_selected: file.id === selected_file_id }\"\r\n        >\r\n          <div class=\"filerow__selector\">\r\n            <form-boolean-input\r\n              :value=\"file.id === selected_file_id\"\r\n              :parameters=\"{ size: 26 }\"\r\n              @click=\"handle_select_file(file.id, file.name)\"\r\n            />\r\n          </div>\r\n          <div class=\"filerow__button\">\r\n            <div\r\n              class=\"filerow__img filerow__img_delete\"\r\n              @click=\"handle_delete(file.id)\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"filerow__name\">\r\n            <file-block\r\n              :file=\"file\"\r\n              @download:file=\"handle_download(file.id)\"\r\n              @copy_link_to:file=\"handle_copy_link(file.id)\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"filerow__date\">\r\n            {{\r\n              file.created.toLocaleString(\"ru-RU\", {\r\n                timeZone: \"Europe/Moscow\",\r\n              })\r\n            }}\r\n          </div>\r\n\r\n          <div class=\"filerow__date\">\r\n            {{\r\n              file.updated.toLocaleString(\"ru-RU\", {\r\n                timeZone: \"Europe/Moscow\",\r\n              })\r\n            }}\r\n          </div>\r\n\r\n          <div\r\n            v-for=\"server in servers\"\r\n            :key=\"server.name\"\r\n            class=\"filerow__server\"\r\n          >\r\n            <div\r\n              class=\"filerow__img\"\r\n              :class=\"{\r\n                filerow__img_yes: file.names_of_servers.includes(server.name),\r\n                filerow__img_no: !file.names_of_servers.includes(server.name),\r\n              }\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted, watch } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { VueUnitOfWork } from \"../logic/service_layer/uow\";\r\nimport {\r\n  Notify,\r\n  GetCdnServers,\r\n  GetUserActions,\r\n  GetFiles,\r\n  GetFileServers,\r\n  RefreshTokens,\r\n  UploadFile,\r\n  DeleteFile,\r\n  DownloadFile,\r\n  RenameFile,\r\n  AddFileShareLink,\r\n  GetFileShareLinks,\r\n  FlushFileShareLinks,\r\n  DeleteFileShareLink,\r\n  UpdateCdnServer,\r\n} from \"../logic/domain/command\";\r\nimport {\r\n  UploadFileTooBigError,\r\n  FileShareLinkCopied,\r\n} from \"../logic/domain/event\";\r\nimport HeadingComponent from \"../components/HeadingComponent.vue\";\r\nimport DocumentPaginationRow from \"../components/document/DocumentPaginationRow.vue\";\r\nimport FileDropZone from \"../components/file/FileDropZone.vue\";\r\nimport FileBlock from \"../components/file/FileBlock.vue\";\r\nimport FileList from \"../components/file/FileList.vue\";\r\nimport { MessageBus } from \"../logic/service_layer/message_bus\";\r\n\r\nimport BaseForm from \"../components/forms/BaseForm.vue\";\r\nimport FormTextField from \"../components/fields/FormTextField.vue\";\r\nimport FormTextInput from \"../components/fields/FormTextInput.vue\";\r\nimport FormBooleanInput from \"../components/fields/FormBooleanInput.vue\";\r\nimport BtnComponent from \"../components/buttons/BtnComponent.vue\";\r\nimport { useBeforeEnterPage } from \"../logic/service_layer/use_modules\";\r\n\r\nexport default {\r\n  components: {\r\n    HeadingComponent,\r\n    FileBlock,\r\n    FileDropZone,\r\n    FileList,\r\n    FormTextField,\r\n    FormTextInput,\r\n    FormBooleanInput,\r\n    DocumentPaginationRow,\r\n    BaseForm,\r\n    BtnComponent,\r\n    // FolderTreeNode,\r\n    // ToggleTextButton,\r\n  },\r\n  name: \"MainPage\",\r\n\r\n  setup() {\r\n    const router = useRouter();\r\n    const uow = new VueUnitOfWork();\r\n    const max_file_size = 100; // MB\r\n\r\n    // CDN SERVERS\r\n    const can_change_server = computed(() =>\r\n      user.value\r\n        ? user.value.permissions.includes(\"can_change_cdnserver\")\r\n        : false\r\n    );\r\n\r\n    const servers = computed(() =>\r\n      uow.cdn_server_repository\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .filter((obj) => obj.is_on)\r\n        .toSorted((a, b) => a.zone.localeCompare(b.zone))\r\n    );\r\n\r\n    const handle_activate_server = async (server, is_active) => {\r\n      await MessageBus.handle(\r\n        new UpdateCdnServer(\r\n          server.id,\r\n          server.name,\r\n          server.host,\r\n          server.port,\r\n          server.location,\r\n          server.zone,\r\n          server.latitude,\r\n          server.longitude,\r\n          server.is_on,\r\n          is_active\r\n        ),\r\n        uow\r\n      );\r\n      await refresh_actions();\r\n    };\r\n\r\n    // HISTORY\r\n    const user_actions = computed(() =>\r\n      uow.action_repository\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .toSorted((a, b) => b.created - a.created)\r\n    );\r\n    const ua_total_count = uow.action_repository.get_count(); // Ref\r\n    const ua_current_page = ref(1);\r\n    const ua_count_per_page = ref(10);\r\n    const ua_variants = ref([5, 10]);\r\n\r\n    const ua_select_page = (page_num) => (ua_current_page.value = page_num);\r\n    const ua_select_count_per_page = (page_size) =>\r\n      (ua_count_per_page.value = page_size);\r\n\r\n    watch([ua_current_page, ua_count_per_page], async () => {\r\n      await refresh_actions();\r\n    });\r\n\r\n    const refresh_actions = async () =>\r\n      await MessageBus.handle(\r\n        new GetUserActions(ua_current_page.value, ua_count_per_page.value),\r\n        uow\r\n      );\r\n\r\n    // FILES\r\n    const files = computed(() =>\r\n      uow.file_repository.values().map((obj) => obj.value)\r\n    );\r\n\r\n    const downloading_files = computed(() =>\r\n      uow.download_progress\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .filter((f) => !f.uploaded)\r\n    );\r\n\r\n    watch(files, async (arr) => {\r\n      arr.forEach(async (f) => {\r\n        if (f.servers.length < servers.value.length)\r\n          await MessageBus.handle(new GetFileServers(f.id), uow);\r\n      });\r\n    });\r\n\r\n    const handle_delete = async (id) => {\r\n      await MessageBus.handle(new FlushFileShareLinks(), uow);\r\n      await MessageBus.handle(new DeleteFile(id), uow);\r\n      selected_file_id.value = null;\r\n      selected_file_name.value = \"\";\r\n      await refresh_actions();\r\n    };\r\n\r\n    const handle_download = async (id) => {\r\n      await MessageBus.handle(new DownloadFile(id), uow);\r\n      await refresh_actions();\r\n    };\r\n\r\n    const selected_file_id = ref(null);\r\n    const selected_file_name = ref(\"\");\r\n\r\n    const handle_select_file = async (id, name) => {\r\n      selected_file_id.value = id;\r\n      selected_file_name.value = name;\r\n      await MessageBus.handle(new GetFileShareLinks(id), uow);\r\n    };\r\n\r\n    const handle_rename_file = async () => {\r\n      await MessageBus.handle(\r\n        new RenameFile(selected_file_id.value, selected_file_name.value),\r\n        uow\r\n      );\r\n      await refresh_actions();\r\n    };\r\n\r\n    // DRAGGING\r\n    const is_drag_above_file_zone = ref(false);\r\n\r\n    // DROP\r\n    const handle_new_file_drop = async (file) => {\r\n      let message = null;\r\n      if (file.size > max_file_size * 1024 * 1024) {\r\n        message = new UploadFileTooBigError(file.name);\r\n      } else {\r\n        message = new UploadFile(file);\r\n      }\r\n      await MessageBus.handle(message, uow);\r\n      await refresh_actions();\r\n    };\r\n\r\n    // SHARE LINKS\r\n    const share_links = computed(() => {\r\n      let links = uow.link_repository\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .toSorted((a, b) => b.created - a.created);\r\n      return links;\r\n    });\r\n\r\n    const make_share_link = (file_id, link_id) => {\r\n      const props = router.resolve({\r\n        name: \"DownloadFilePage\",\r\n        params: {\r\n          file_id: file_id,\r\n          link_id: link_id,\r\n        },\r\n      });\r\n\r\n      return window.location.origin + props.href;\r\n    };\r\n\r\n    const make_share_link_for_selected_file = (link_id) =>\r\n      make_share_link(selected_file_id.value, link_id);\r\n\r\n    const handle_copy_link_into_clipboard = (file_id, link_id) => {\r\n      const url = make_share_link(file_id, link_id);\r\n\r\n      if (navigator.clipboard)\r\n        navigator.clipboard\r\n          .writeText(url)\r\n          .then(() => MessageBus.handle(new FileShareLinkCopied(), uow));\r\n      else console.log(url);\r\n    };\r\n\r\n    const handle_delete_link = async (link_id) => {\r\n      await MessageBus.handle(\r\n        new DeleteFileShareLink(selected_file_id.value, link_id),\r\n        uow\r\n      );\r\n    };\r\n\r\n    // FORM\r\n    const is_form_opened = ref(false);\r\n    const form_attributes = reactive({\r\n      FILE_ID: null,\r\n      LIFETIME: \"0\",\r\n      PASSWORD: \"\",\r\n    });\r\n\r\n    const handle_copy_link = (file_id) => {\r\n      handle_update_form_attribute(\"FILE_ID\", file_id);\r\n      selected_file_id.value = file_id;\r\n      is_form_opened.value = true;\r\n    };\r\n\r\n    const handle_form_close = () => {\r\n      is_form_opened.value = false;\r\n    };\r\n\r\n    const handle_form_apply = async () => {\r\n      const file_id = form_attributes[\"FILE_ID\"];\r\n      let lifetime = Number.parseInt(form_attributes[\"LIFETIME\"]);\r\n      let password = form_attributes[\"PASSWORD\"];\r\n\r\n      if (!password) password = null;\r\n\r\n      if (isNaN(lifetime) || lifetime < 0) {\r\n        await MessageBus.handle(\r\n          new Notify(\"error\", \"Время жизни должно быть целым числом\"),\r\n          uow\r\n        );\r\n        return;\r\n      }\r\n\r\n      if (lifetime === 0) {\r\n        lifetime = null;\r\n      } else {\r\n        lifetime *= 60;\r\n      }\r\n\r\n      is_form_opened.value = false;\r\n      const results = await MessageBus.handle(\r\n        new AddFileShareLink(file_id, lifetime, password),\r\n        uow\r\n      );\r\n      const link = results[0];\r\n      handle_copy_link_into_clipboard(file_id, link.id);\r\n      await refresh_actions();\r\n    };\r\n\r\n    const handle_update_form_attribute = (name, value) =>\r\n      (form_attributes[name] = value);\r\n\r\n    const form_pages = [\r\n      {\r\n        size: 400,\r\n        name: \"Создание ссылки\",\r\n        fields: [\r\n          {\r\n            type: \"FormTextField\",\r\n            parameters: {\r\n              font_weight: \"bold\",\r\n            },\r\n            value: \"Время жизни ссылки в минутах (0 - бессрочно):\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"LIFETIME\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            parameters: {\r\n              font_weight: \"bold\",\r\n            },\r\n            value: \"Пароль:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"PASSWORD\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    // TIMERS\r\n    const refresh_tokens = async () =>\r\n      await MessageBus.handle(new RefreshTokens(), uow);\r\n\r\n    uow.token_timer.set_callback(refresh_tokens);\r\n    uow.token_timer.start();\r\n\r\n    const get_files = async () => {\r\n      files.value.forEach(async (f) => {\r\n        if (f.servers.length < servers.value.length)\r\n          await MessageBus.handle(new GetFileServers(f.id), uow);\r\n      });\r\n    };\r\n\r\n    uow.get_files_timer.set_callback(get_files);\r\n    uow.get_files_timer.start();\r\n\r\n    const user = uow.user_repository.get_current(); // Ref\r\n\r\n    onMounted(async () => {\r\n      await useBeforeEnterPage(uow, []);\r\n      await MessageBus.handle(new GetCdnServers(), uow);\r\n      await MessageBus.handle(new GetFiles(), uow);\r\n      await refresh_actions();\r\n    });\r\n\r\n    return {\r\n      // USER\r\n      user,\r\n\r\n      // USER ACTIONS\r\n      user_actions,\r\n      ua_total_count,\r\n      ua_current_page,\r\n      ua_count_per_page,\r\n      ua_variants,\r\n      ua_select_page,\r\n      ua_select_count_per_page,\r\n\r\n      // SERVER\r\n      can_change_server,\r\n      servers,\r\n      handle_activate_server,\r\n\r\n      // FILE\r\n      files,\r\n      selected_file_id,\r\n      selected_file_name,\r\n      handle_select_file,\r\n      downloading_files,\r\n      max_file_size,\r\n      is_drag_above_file_zone,\r\n      handle_new_file_drop,\r\n      handle_delete,\r\n      handle_download,\r\n      handle_copy_link,\r\n      handle_rename_file,\r\n\r\n      // FORM\r\n      is_form_opened,\r\n      form_pages,\r\n      form_attributes,\r\n      handle_update_form_attribute,\r\n      handle_form_apply,\r\n      handle_form_close,\r\n\r\n      // SHARE LINK\r\n      share_links,\r\n      make_share_link,\r\n      make_share_link_for_selected_file,\r\n      handle_copy_link_into_clipboard,\r\n      handle_delete_link,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  padding-right: 60px;\r\n}\r\n\r\n.page__heading {\r\n  padding-top: 60px;\r\n  padding-bottom: 15px;\r\n}\r\n.page__container {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.page__topcontainer {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: stretch;\r\n}\r\n\r\n.page__userinfo {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.page__userrow {\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 3px;\r\n}\r\n\r\n.page__userlabel {\r\n  min-width: 200px;\r\n  font-weight: 500;\r\n}\r\n.page__uservalue {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n}\r\n\r\n.page__filedropzone {\r\n  width: 100%;\r\n  max-width: 300px;\r\n  max-height: 200px;\r\n  border: 2px dashed grey;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n  margin: 5px;\r\n}\r\n\r\n.page__filedropzone_dragging {\r\n  background: repeating-linear-gradient(\r\n    45deg,\r\n    #606dbc,\r\n    #606dbc 10px,\r\n    #465298 10px,\r\n    #465298 20px\r\n  );\r\n}\r\n\r\n.page__dropzonetitle {\r\n  font-size: 24px;\r\n}\r\n\r\n.page__middlecontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 20px;\r\n}\r\n\r\n.page__filecontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-left: 20px;\r\n  min-height: 300px;\r\n}\r\n\r\n.page__historycontainer,\r\n.page__linkcontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  margin-left: 20px;\r\n}\r\n\r\n.page__historycontainer {\r\n  flex-grow: 1;\r\n}\r\n\r\n.page__linkcontainer {\r\n  min-width: 450px;\r\n  max-width: 450px;\r\n}\r\n\r\n.filerow,\r\n.filerowheader {\r\n  display: flex;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  align-items: center;\r\n}\r\n\r\n.filerow {\r\n  cursor: pointer;\r\n}\r\n\r\n.filerow_selected {\r\n  background-color: lightgray !important;\r\n}\r\n\r\n.filerowheader {\r\n  font-weight: 600;\r\n  text-align: center;\r\n}\r\n\r\n.filerow:nth-child(odd) {\r\n  background-color: lightyellow;\r\n}\r\n\r\n.filerow:nth-child(even) {\r\n  background-color: rgb(215, 242, 255);\r\n}\r\n\r\n.filerow__name {\r\n  flex-grow: 1;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n.filerow__button {\r\n  min-width: 30px;\r\n  max-width: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.filerow__selector,\r\n.server__activator {\r\n  min-width: 30px;\r\n  max-width: 30px;\r\n}\r\n\r\n.filerow__server {\r\n  min-width: 150px;\r\n  max-width: 150px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.filerow__date {\r\n  min-width: 100px;\r\n  max-width: 100px;\r\n  text-align: center;\r\n}\r\n\r\n.filerow__img {\r\n  min-width: 26px;\r\n  max-width: 26px;\r\n  min-height: 26px;\r\n  max-height: 26px;\r\n}\r\n\r\n.filerow__img_yes {\r\n  background: url(\"../../public/check.png\") top left/26px 26px no-repeat;\r\n}\r\n\r\n.filerow__img_no {\r\n  background: url(\"../../public/cancel.png\") top left/26px 26px no-repeat;\r\n}\r\n\r\n.filerow__img_delete {\r\n  background: url(\"../../public/delete.png\") top left/26px 26px no-repeat;\r\n  cursor: pointer;\r\n}\r\n\r\n.history__row,\r\n.link__row {\r\n  display: flex;\r\n}\r\n\r\n.history__date,\r\n.link__date {\r\n  min-width: 150px;\r\n}\r\n\r\n.history__text,\r\n.link__text {\r\n  margin-left: 20px;\r\n  flex-grow: 1;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.link__text_expired {\r\n  text-decoration: line-through;\r\n}\r\n\r\n.link__delete {\r\n  background: url(\"../../public/delete.png\") top left/20px 20px no-repeat;\r\n  cursor: pointer;\r\n  min-width: 20px;\r\n  max-width: 20px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.page__form-backdrop {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.page__form {\r\n  background: #ffffff;\r\n  box-shadow: 2px 2px 20px 1px;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.filerowdescription {\r\n  text-align: end;\r\n}\r\n\r\n.page__infocontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.page__fileinfo {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.fileinfo__button {\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"documentpaginationrow\">\r\n    <span>По</span>\r\n    <div\r\n      class=\"documentpaginationrow__variants\"\r\n      v-for=\"count in variants\"\r\n      :key=\"count\"\r\n    >\r\n      <text-button\r\n        class=\"documentpaginationrow__textbutton\"\r\n        :class=\"{\r\n          documentpaginationrow__textbutton_active: count === count_per_page,\r\n        }\"\r\n        :title=\"count.toString()\"\r\n        @click=\"\r\n          $emit('select:page', 1);\r\n          $emit('set:count_per_page', count);\r\n        \"\r\n      />\r\n    </div>\r\n    <span> | Страницы </span>\r\n\r\n    <div\r\n      v-if=\"!is_intermediate_part_shown && has_intermediate_part\"\r\n      class=\"documentpaginationrow__container\"\r\n    >\r\n      <div\r\n        class=\"documentpaginationrow__subcontainer\"\r\n        v-for=\"page in pages_before\"\r\n        :key=\"page.index\"\r\n      >\r\n        <text-button\r\n          class=\"documentpaginationrow__textbutton\"\r\n          :class=\"{\r\n            documentpaginationrow__textbutton_active:\r\n              page.index === current_page,\r\n          }\"\r\n          :title=\"page.index.toString()\"\r\n          @click=\"$emit('select:page', page.index)\"\r\n        />\r\n      </div>\r\n\r\n      <text-button\r\n        class=\"documentpaginationrow__textbutton\"\r\n        title=\"...\"\r\n        @click=\"$emit('show:pages')\"\r\n      />\r\n\r\n      <div\r\n        class=\"documentpaginationrow__subcontainer\"\r\n        v-for=\"page in pages_after\"\r\n        :key=\"page.index\"\r\n      >\r\n        <text-button\r\n          class=\"documentpaginationrow__textbutton\"\r\n          :class=\"{\r\n            documentpaginationrow__textbutton_active:\r\n              page.index === current_page,\r\n          }\"\r\n          :title=\"page.index.toString()\"\r\n          @click=\"$emit('select:page', page.index)\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"documentpaginationrow__container\">\r\n      <div\r\n        class=\"documentpaginationrow__subcontainer\"\r\n        v-for=\"page in pages\"\r\n        :key=\"page.index\"\r\n      >\r\n        <text-button\r\n          class=\"documentpaginationrow__textbutton\"\r\n          :class=\"{\r\n            documentpaginationrow__textbutton_active:\r\n              page.index === current_page,\r\n          }\"\r\n          :title=\"page.index.toString()\"\r\n          @click=\"$emit('select:page', page.index)\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, watch, onMounted } from \"vue\";\r\nimport TextButton from \"../buttons/TextButton.vue\";\r\nexport default {\r\n  components: { TextButton },\r\n  name: \"DocumentPaginationRow\",\r\n  props: {\r\n    total_count: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    count_per_page: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    current_page: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    variants: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    max_count_of_pages: {\r\n      type: Number,\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    count_before: {\r\n      type: Number,\r\n      required: false,\r\n      default: 10,\r\n    },\r\n    count_after: {\r\n      type: Number,\r\n      required: false,\r\n      default: 5,\r\n    },\r\n    is_intermediate_part_shown: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true,\r\n    },\r\n  },\r\n  emits: [\"select:page\", \"set:count_per_page\", \"set:page_range\", \"show:pages\"],\r\n\r\n  setup(props, { emit }) {\r\n    const pages = computed(() => {\r\n      return Array.from(\r\n        Array(Math.ceil(props.total_count / props.count_per_page)).keys()\r\n      ).map((num) => {\r\n        const min = num * props.count_per_page;\r\n        const max = (num + 1) * props.count_per_page - 1;\r\n        return {\r\n          index: num + 1,\r\n          min: min,\r\n          max: Math.min(max, props.total_count - 1),\r\n        };\r\n      });\r\n    });\r\n\r\n    const has_intermediate_part = computed(\r\n      () => pages.value.length - props.count_before - props.count_after > 0\r\n    );\r\n\r\n    const pages_before = computed(() =>\r\n      pages.value.filter((x) => x.index <= props.count_before)\r\n    );\r\n\r\n    const pages_after = computed(() =>\r\n      pages.value.filter(\r\n        (x) => x.index >= pages.value.length - props.count_after + 1\r\n      )\r\n    );\r\n\r\n    const page = computed(() =>\r\n      pages.value.find((e) => e.index === props.current_page)\r\n    );\r\n\r\n    watch(page, (newValue) => emit(\"set:page_range\", newValue));\r\n\r\n    onMounted(() => emit(\"set:page_range\", page.value));\r\n\r\n    return {\r\n      page,\r\n      pages,\r\n      has_intermediate_part,\r\n      pages_before,\r\n      pages_after,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.documentpaginationrow,\r\n.documentpaginationrow__container,\r\n.documentpaginationrow__subcontainer {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.documentpaginationrow__textbutton_active {\r\n  color: red;\r\n}\r\n</style>","<template>\r\n  <div class=\"textbutton\" :class=\"{ textbutton_disabled: disabled }\">\r\n    {{ title }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TextButton\",\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.textbutton {\r\n  color: #447e9b;\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  user-select: none;\r\n}\r\n.textbutton:hover {\r\n  color: #062a3b;\r\n}\r\n.textbutton_disabled {\r\n  pointer-events: none;\r\n  opacity: 0.4;\r\n}\r\n</style>","import { render } from \"./TextButton.vue?vue&type=template&id=2869d17a\"\nimport script from \"./TextButton.vue?vue&type=script&lang=js\"\nexport * from \"./TextButton.vue?vue&type=script&lang=js\"\n\nimport \"./TextButton.vue?vue&type=style&index=0&id=2869d17a&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentPaginationRow.vue?vue&type=template&id=6eebb904&scoped=true\"\nimport script from \"./DocumentPaginationRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPaginationRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPaginationRow.vue?vue&type=style&index=0&id=6eebb904&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6eebb904\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"filedropzone\"\r\n    @drop.prevent=\"handleDrop($event)\"\r\n    @dragover.prevent\r\n    @dragenter.prevent=\"is_dragging = true\"\r\n    @dragleave.prevent=\"is_dragging = false\"\r\n  >\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { watch, ref } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FileDropZone\",\r\n  props: {\r\n    filename_pattern: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => /.*/,\r\n    },\r\n  },\r\n  emits: [\"add:file\", \"update:dragging\", \"wrong:filename\"],\r\n\r\n  setup(props, { emit }) {\r\n    const is_dragging = ref(false);\r\n    const regexp = new RegExp(props.filename_pattern);\r\n\r\n    const handleDrop = (e) => {\r\n      is_dragging.value = false;\r\n      Array.prototype.forEach.call(e.dataTransfer.files, (file) => {\r\n        if (file.name.toString().match(regexp))\r\n          emit(\"add:file\", file);\r\n        else emit(\"wrong:filename\", file.name.toString());\r\n      });\r\n    };\r\n\r\n    watch(is_dragging, (newValue, oldValue) => {\r\n      if (newValue !== oldValue) {\r\n        emit(\"update:dragging\", newValue);\r\n      }\r\n    });\r\n\r\n    return { handleDrop, is_dragging };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./FileDropZone.vue?vue&type=template&id=1310559a\"\nimport script from \"./FileDropZone.vue?vue&type=script&lang=js\"\nexport * from \"./FileDropZone.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"file.progress === 100\" class=\"fileblock\">\r\n    <span\r\n      v-if=\"can_be_deleted\"\r\n      class=\"fileblock__deletebutton\"\r\n      @click=\"$emit('delete:file')\"\r\n      >(X)\r\n    </span>\r\n\r\n    <form-text-input\r\n      v-if=\"is_rename_active\"\r\n      class=\"fileblock__input\"\r\n      :value=\"filename\"\r\n      @update=\"filename = $event\"\r\n    />\r\n    <a\r\n      v-else\r\n      class=\"fileblock__link\"\r\n      href=\"#\"\r\n      :draggable=\"can_be_dragged\"\r\n      @dragstart=\"handle_drag_start($event)\"\r\n      @dragend=\"$emit('dragend:file')\"\r\n      @click=\"\r\n        if (is_uploaded === true) {\r\n          $emit('download:file', false);\r\n        }\r\n      \"\r\n    >\r\n      {{ file.name }} ({{ file.formatted_size() }})</a\r\n    >\r\n\r\n    <span class=\"fileblock__linkbutton\" @click=\"$emit('copy_link_to:file')\"\r\n      >&#128279;\r\n    </span>\r\n\r\n    <toggle-text-button\r\n      v-if=\"can_be_renamed && filename.length > 0\"\r\n      class=\"fileblock__renamebutton\"\r\n      :class=\"{fileblock__renamebutton_red: is_rename_active}\"\r\n      activeTitle=\"Сохранить\"\r\n      passiveTitle=\"Переименовать\"\r\n      :isActive=\"is_rename_active\"\r\n      @click=\"handle_click_on_rename_button()\"\r\n    />\r\n  </div>\r\n  <span v-else class=\"fileblock__title\"\r\n    >{{ file.name }} ({{ file.formatted_size() }}){{ progress_str }}</span\r\n  >\r\n</template>\r\n\r\n<script>\r\nimport { watch, ref, computed } from \"vue\";\r\nimport ToggleTextButton from \"../buttons/ToggleTextButton.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\nimport { get_extension_of_file } from \"../../logic/service_layer/utils/filename\";\r\n\r\nexport default {\r\n  name: \"FileBlock\",\r\n  components: { ToggleTextButton, FormTextInput },\r\n  props: {\r\n    file: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    can_be_deleted: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    can_be_dragged: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    can_be_renamed: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\r\n    \"delete:file\",\r\n    \"dragstart:file\",\r\n    \"dragend:file\",\r\n    \"download:file\",\r\n    \"copy_link_to:file\",\r\n    \"rename:file\",\r\n    \"rename:activated\",\r\n  ],\r\n\r\n  setup(props, { emit }) {\r\n    const progress_str = ref(\"\");\r\n    watch(\r\n      () => props.file.progress,\r\n      (newValue) => {\r\n        progress_str.value = newValue < 100 ? ` (${newValue}%)` : \"\";\r\n      }\r\n    );\r\n\r\n    const handle_drag_start = (evt) => {\r\n      evt.dataTransfer.setData(\"text/plain\", props.file.id);\r\n      emit(\"dragstart:file\");\r\n    };\r\n\r\n    const is_uploaded = computed(() => props.file.progress === 100);\r\n\r\n    const ext = get_extension_of_file(props.file.name);\r\n    const basename = ext\r\n      ? props.file.name.substring(0, props.file.name.length - ext.length - 1)\r\n      : props.file.name;\r\n\r\n    const is_rename_active = ref(false);\r\n    const filename = ref(basename);\r\n\r\n    const handle_click_on_rename_button = () => {\r\n      if (is_rename_active.value) {\r\n        emit(\"rename:file\", filename.value + (ext ? \".\" + ext : \"\"));\r\n      } else {\r\n        emit(\"rename:activated\");\r\n      }\r\n      is_rename_active.value = !is_rename_active.value;\r\n    };\r\n\r\n    return {\r\n      progress_str,\r\n      handle_drag_start,\r\n      is_uploaded,\r\n      is_rename_active,\r\n      filename,\r\n      handle_click_on_rename_button,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.fileblock {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.fileblock__deletebutton,\r\n.fileblock__linkbutton {\r\n  user-select: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.fileblock__linkbutton_rename {\r\n  font-size: 20px;\r\n}\r\n\r\n.fileblock__renamebutton_red {\r\n  color: red;\r\n}\r\n\r\n.fileblock__renamebutton_red:hover {\r\n  color: red;\r\n}\r\n</style>","<template>\r\n  <div class=\"toggletextbutton\">\r\n    {{ isActive ? activeTitle : passiveTitle }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ToggleTextButton\",\r\n  props: {\r\n    isActive: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    activeTitle: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    passiveTitle: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.toggletextbutton {\r\n  color: #447e9b;\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n.toggletextbutton:hover {\r\n  color: #062a3b;\r\n}\r\n</style>","import { render } from \"./ToggleTextButton.vue?vue&type=template&id=cb9d649a\"\nimport script from \"./ToggleTextButton.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleTextButton.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleTextButton.vue?vue&type=style&index=0&id=cb9d649a&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FileBlock.vue?vue&type=template&id=940c9aaa\"\nimport script from \"./FileBlock.vue?vue&type=script&lang=js\"\nexport * from \"./FileBlock.vue?vue&type=script&lang=js\"\n\nimport \"./FileBlock.vue?vue&type=style&index=0&id=940c9aaa&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"filelist\">\r\n    <file-block\r\n      class=\"filelist__fileblock\"\r\n      v-for=\"file in files\"\r\n      :key=\"file.id\"\r\n      :file=\"file\"\r\n      :can_be_dragged=\"can_be_dragged\"\r\n      :can_be_deleted=\"can_be_deleted\"\r\n      :can_be_renamed=\"can_be_renamed\"\r\n      @dragstart:file=\"$emit('dragstart:file')\"\r\n      @dragend=\"$emit('dragend:file')\"\r\n      @download:file=\"$emit('download:file', [file, $event])\"\r\n      @delete:file=\"$emit('delete:file', file.id)\"\r\n      @rename:file=\"$emit('rename:file', [file.id, $event])\"\r\n      @rename:activated=\"$emit('rename:activated', file.id)\"\r\n      @copy_link_to:file=\"$emit('copy_link_to:file', file)\"\r\n      >{{ file.name }}\r\n    </file-block>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FileBlock from \"./FileBlock.vue\";\r\n\r\nexport default {\r\n  components: { FileBlock },\r\n  name: \"FileList\",\r\n  props: {\r\n    files: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    can_be_dragged: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    can_be_deleted: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    can_be_renamed: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\r\n    \"dragstart:file\",\r\n    \"dragend:file\",\r\n    \"download:file\",\r\n    \"delete:file\",\r\n    \"rename:file\",\r\n    \"rename:activated\",\r\n    \"copy_link_to:file\",\r\n  ],\r\n};\r\n</script>\r\n<style scoped>\r\n.filelist {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.filelist__fileblock {\r\n  padding-top: 3px;\r\n  padding-bottom: 3px;\r\n}\r\n</style>","import { render } from \"./FileList.vue?vue&type=template&id=15d69ea0&scoped=true\"\nimport script from \"./FileList.vue?vue&type=script&lang=js\"\nexport * from \"./FileList.vue?vue&type=script&lang=js\"\n\nimport \"./FileList.vue?vue&type=style&index=0&id=15d69ea0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15d69ea0\"]])\n\nexport default __exports__","<template>\r\n    <div\r\n      class=\"baseform\"\r\n      :style=\"{width: form_width.toString() + 'px'}\"\r\n    >\r\n      <div class=\"baseform-header\" v-if=\"is_header_required\">\r\n        <div class=\"baseform-header__pagenum\">{{ page_index + 1 }}.</div>\r\n        <div class=\"baseform-header__name\">{{ page_name }}</div>\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_left\"\r\n          title=\"Предыдущая страница\"\r\n          v-if=\"page_index > 0\"\r\n          @click=\"page_index = Math.max(0, page_index - 1)\"\r\n        />\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_right\"\r\n          title=\"Следующая страница\"\r\n          v-if=\"page_index < page_count - 1\"\r\n          @click=\"page_index = Math.min(page_index + 1, page_count - 1)\"\r\n        />\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_apply\"\r\n          title=\"Сохранить\"\r\n          @click=\"$emit('apply')\"\r\n        />\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_close\"\r\n          title=\"Закрыть\"\r\n          @click=\"$emit('close')\"\r\n        />\r\n      </div>\r\n      <div class=\"baseform-body\">\r\n        <component\r\n          class=\"baseform-body__field\"\r\n          v-for=\"(field, index) in page_fields\"\r\n          :is=\"field.type\"\r\n          :key=\"page_index.toString() + '|' + field.type + '|' + index.toString()\"\r\n          :parameters=\"field.parameters\"\r\n          :context=\"make_field_context(field)\"\r\n          :value=\"field.value ? field.value : attributes[field.bind]\"\r\n          @update=\"\r\n            if (field.bind) {\r\n              $emit('update', { name: field.bind, value: $event });\r\n            }\r\n          \"\r\n        >\r\n          {{ attributes }}\r\n        </component>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from \"vue\";\r\n\r\nimport FormTextField from \"../fields/FormTextField.vue\";\r\nimport FormBooleanInput from \"../fields/FormBooleanInput.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\n\r\nexport default {\r\n  name: \"BaseForm\",\r\n  components: {\r\n    FormTextField,\r\n    FormBooleanInput,\r\n    FormTextInput,\r\n  },\r\n  props: {\r\n    settings: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    context: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    attributes: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    is_header_required: {\r\n      type:Boolean,\r\n      required: false,\r\n      default: true\r\n    }\r\n  },\r\n  emits: [\"apply\", \"close\", \"update\"],\r\n\r\n  setup(props) {\r\n    // PAGE\r\n    const page_index = ref(0);\r\n    const page_count = computed(() => props.settings.length);\r\n\r\n    const page_settings = computed(\r\n      () => props.settings[page_index.value]\r\n    );\r\n\r\n    // GEOMETRY\r\n    const form_width = computed(\r\n      () => page_settings.value[\"size\"] || \"w500\"\r\n    );\r\n    const page_name = computed(\r\n      () => page_settings.value[\"name\"] || \"\"\r\n    );\r\n\r\n    // FIELDS\r\n    const page_fields = computed(() => page_settings.value[\"fields\"] || []);\r\n\r\n    // CONTEXT\r\n    const make_field_context = (field) => {\r\n      if (!field.bind_context) return {};\r\n\r\n      let result = {};\r\n      Object.keys(field.bind_context).forEach(\r\n        (key) => (result[key] = props.context[field.bind_context[key]])\r\n      );\r\n\r\n      return result;\r\n    };\r\n\r\n    return {\r\n      // PAGE\r\n      page_settings,\r\n      page_index,\r\n      page_count,\r\n      page_name,\r\n\r\n      // GEOMETRY\r\n      form_width,\r\n\r\n      // FIELDS\r\n      page_fields,\r\n\r\n      // CONTEXT\r\n      make_field_context,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.baseform {\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.baseform-header {\r\n  display: flex;\r\n  height: 33px;\r\n  border-bottom: 1px solid black;\r\n  align-items: center;\r\n}\r\n\r\n.baseform-header__pagenum {\r\n  font-size: 20px;\r\n  padding: 3px;\r\n}\r\n\r\n.baseform-header__name {\r\n  font-size: 20px;\r\n  padding: 3px;\r\n  flex-grow: 1;\r\n}\r\n\r\n.baseform-header__button {\r\n  min-width: 30px;\r\n  min-height: 30px;\r\n  padding: 3px;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  color: lightcoral;\r\n}\r\n\r\n.baseform-header__button:hover {\r\n  mask-image: linear-gradient(rgba(0, 0, 0, 1), transparent, rgba(0, 0, 0, 1));\r\n}\r\n\r\n.baseform-header__button_left {\r\n  background: url(\"../../../public/left.png\") center center/24px 24px no-repeat;\r\n}\r\n\r\n.baseform-header__button_right {\r\n  background: url(\"../../../public/right.png\") center center/24px 24px no-repeat;\r\n}\r\n\r\n.baseform-header__button_apply {\r\n  background: url(\"../../../public/check.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.baseform-header__button_close {\r\n  background: url(\"../../../public/cancel.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.baseform-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.baseform-body__field {\r\n  margin: 3px 0px;\r\n}\r\n</style>","<template>\r\n  <div\r\n    class=\"formtextfield\"\r\n    :style=\"{ 'text-align': align, 'font-weight': font_weight }\"\r\n    :title=\"hint\"\r\n  >\r\n    {{ value }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormTextField\",\r\n\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const align = computed(() => props.parameters[\"align\"] || \"left\");\r\n    const font_weight = computed(\r\n      () => props.parameters[\"font_weight\"] || \"normal\"\r\n    );\r\n    const hint = computed(() => props.parameters[\"hint\"] || \"\");\r\n\r\n    return { align, font_weight, hint };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.formtextfield {\r\n  display: block;\r\n}\r\n</style>","import { render } from \"./FormTextField.vue?vue&type=template&id=43049fc2\"\nimport script from \"./FormTextField.vue?vue&type=script&lang=js\"\nexport * from \"./FormTextField.vue?vue&type=script&lang=js\"\n\nimport \"./FormTextField.vue?vue&type=style&index=0&id=43049fc2&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"formbooleaninput\">\r\n    <input\r\n      class=\"booleaninput\"\r\n      :style=\"style\"\r\n      type=\"checkbox\"\r\n      :title=\"hint\"\r\n      :checked=\"value\"\r\n      :disabled=\"is_disabled\"\r\n      @change=\"$emit('update', $event.target.checked)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormBooleanInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: undefined,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || false;\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n    const size = computed(() => props.parameters[\"size\"] || 0);\r\n    const style = computed(() =>\r\n      size.value == 0\r\n        ? {}\r\n        : {\r\n            \"min-width\": size.value.toString() + \"px\",\r\n            \"max-width\": size.value.toString() + \"px\",\r\n            \"min-height\": size.value.toString() + \"px\",\r\n            \"max-height\": size.value.toString() + \"px\",\r\n          }\r\n    );\r\n\r\n    const hint = computed(() => props.parameters[\"hint\"] || \"\");\r\n    const is_disabled = computed(\r\n      () => props.parameters[\"is_disabled\"] || false\r\n    );\r\n\r\n    return { size, hint, is_disabled, style };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formbooleaninput {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.booleaninput {\r\n  margin: 0;\r\n  /* min-width: 100%;\r\n  min-height: 100%;\r\n  max-width: 100%;\r\n  max-height: 100%; */\r\n  box-sizing: border-box;\r\n}\r\n</style>","import { render } from \"./FormBooleanInput.vue?vue&type=template&id=1381d60c&scoped=true\"\nimport script from \"./FormBooleanInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormBooleanInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormBooleanInput.vue?vue&type=style&index=0&id=1381d60c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1381d60c\"]])\n\nexport default __exports__","import { render } from \"./BaseForm.vue?vue&type=template&id=19d9c857&scoped=true\"\nimport script from \"./BaseForm.vue?vue&type=script&lang=js\"\nexport * from \"./BaseForm.vue?vue&type=script&lang=js\"\n\nimport \"./BaseForm.vue?vue&type=style&index=0&id=19d9c857&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19d9c857\"]])\n\nexport default __exports__","import { ref, computed, watch } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport {\r\n  MyCredentials,\r\n} from \"../domain/command\";\r\nimport { MessageBus } from \"./message_bus\";\r\nimport router from \"../../router\";\r\n\r\nconst deepObjectCopy = (obj) => {\r\n  return JSON.parse(JSON.stringify(obj));\r\n};\r\n\r\n\r\nconst filterArrayOfObjectsByQuery = (arrOfObjects, queryObject) => {\r\n  return arrOfObjects.filter((obj) => {\r\n    let to_be_taken = true;\r\n\r\n    // Перебираем все ключи query\r\n    // Ключ A__B__C__X из нескольких частей, разделенных '__'\r\n    // А - property объекта\r\n    // B, C, D ... - наменование вложенных ключей, если свойство объекта - это объект\r\n    // X - правила сравнения exact | iexact | contains | icontains | gt | gte | lt | lte\r\n    Object.keys(queryObject).forEach((key) => {\r\n      if (!to_be_taken) return;\r\n\r\n      //  Что ищем\r\n      const needle = queryObject[key];\r\n      if (!(needle || needle === 0)) return;\r\n\r\n      // Разбиваем ключ на части\r\n      let key_names = key.split(\"__\");\r\n      const rule = key_names.length <= 1 ? \"exact\" : key_names.pop();\r\n\r\n      // Получаем значение\r\n      let haystack = obj;\r\n      key_names.forEach((x) => (haystack = haystack[x]));\r\n\r\n      // Если значение, по которому нужно искать, отсутствует\r\n      // пропускаем данный объект\r\n      if (!(haystack || haystack === 0)) {\r\n        to_be_taken = false;\r\n        return;\r\n      }\r\n\r\n      switch (rule) {\r\n        case \"exact\":\r\n          to_be_taken = haystack == needle;\r\n          break;\r\n\r\n        case \"iexact\":\r\n          to_be_taken = haystack.toLowerCase() == needle.toLowerCase();\r\n          break;\r\n\r\n        case \"contains\":\r\n          to_be_taken = String.prototype.includes.call(haystack, needle);\r\n          break;\r\n\r\n        case \"icontains\":\r\n          to_be_taken = String.prototype.includes.call(\r\n            haystack.toLowerCase(),\r\n            needle.toLowerCase()\r\n          );\r\n          break;\r\n\r\n        case \"gt\":\r\n          to_be_taken = haystack > needle;\r\n          break;\r\n\r\n        case \"gte\":\r\n          to_be_taken = haystack >= needle;\r\n          break;\r\n\r\n        case \"lt\":\r\n          to_be_taken = haystack < needle;\r\n          break;\r\n\r\n        case \"lte\":\r\n          to_be_taken = haystack <= needle;\r\n          break;\r\n\r\n        default:\r\n          console.log(\"Wrong comparison rule \" + rule.toString() + \"!\");\r\n          to_be_taken = false;\r\n      }\r\n    });\r\n\r\n    return to_be_taken;\r\n  });\r\n};\r\n\r\nconst useBeforeEnterPage = async (\r\n  uow,\r\n) => {\r\n\r\n  const route = useRoute();\r\n\r\n  const auto_login_action = async (uow) => {\r\n    if (\r\n      !uow.user_repository.is_authenticated() &&\r\n      uow.token_repository.get_access_token()\r\n    ) {\r\n      await MessageBus.handle(new MyCredentials(), uow);\r\n    }\r\n  };\r\n\r\n  await auto_login_action(uow);\r\n  if (!uow.user_repository.is_authenticated())\r\n    router.push({\r\n      name: \"LoginPage\",\r\n      query: { url: encodeURIComponent(route.fullPath) },\r\n    });\r\n};\r\n\r\nconst convertStringToDate = (value, rule) => {\r\n  const parts = value.split(\".\");\r\n  let date = NaN;\r\n\r\n  try {\r\n    // Для <, <= берем конец дня\r\n    if (rule === null || rule === \"lt\" || rule === \"lte\") {\r\n      date = new Date(\r\n        parseInt(parts[2], 10),\r\n        parseInt(parts[1], 10) - 1,\r\n        parseInt(parts[0], 10),\r\n        23,\r\n        59,\r\n        59\r\n      );\r\n    }\r\n\r\n    // Для >, >= берем начало дня\r\n    if (rule === \"gt\" || rule === \"gte\") {\r\n      date = new Date(\r\n        parseInt(parts[2], 10),\r\n        parseInt(parts[1], 10) - 1,\r\n        parseInt(parts[0], 10)\r\n      );\r\n    }\r\n\r\n    return date;\r\n  } catch (e) {\r\n    return NaN;\r\n  }\r\n};\r\n\r\nconst useDataEncode = (value, rule = null, converter = null) => {\r\n  if (!converter) return value;\r\n\r\n  const converters = {\r\n    date_to_timestamp: convertDateToTimestamp,\r\n    date_to_iso_string: convertDateToIsoString,\r\n    date_to_date_object: convertDateToDateObject,\r\n  };\r\n\r\n  const converter_func = Object.prototype.hasOwnProperty.call(\r\n    converters,\r\n    converter\r\n  )\r\n    ? converters[converter]\r\n    : null;\r\n\r\n  return converter_func ? converter_func(value, rule) : \"\";\r\n};\r\n\r\n// MIXINS\r\n\r\n// init_obj - Объект для инициализации\r\n// repository - Репозиторий, из которого нужно брать объекты\r\n// from_repository_convertion - Функция конвертации из объекта для отображения в объект репозитория\r\nconst useCurrentMixin = (init_obj, repository, from_repository_convertion) => {\r\n  const current_id = ref(null);\r\n  const current = ref(convertObject(init_obj, from_repository_convertion));\r\n\r\n  const handle_update_attribute = (name, value) =>\r\n    (current.value[name] = value);\r\n\r\n  watch(current_id, (newValue) => {\r\n    if (newValue === null) return;\r\n    // console.log(newValue);\r\n    const obj = repository.get(newValue).value;\r\n    // console.log(obj);\r\n    current.value = convertObject(obj.to_dict, from_repository_convertion);\r\n  });\r\n\r\n  return {\r\n    current_id,\r\n    current,\r\n    handle_update_attribute,\r\n  };\r\n};\r\n\r\n// all_items - Must be Ref\r\n// filtered_items - Must be Ref\r\nconst useSelectionMixin = (all_items, items_seen_on_page) => {\r\n  // Объект состояния выделения элементов\r\n  // key: str|int - ID элемента\r\n  // value: bool - true выделен, false не выделен\r\n  const selected_item_ids = ref({});\r\n\r\n  // Количество выделенных элементов\r\n  const count_of_selected_items = computed(\r\n    () =>\r\n      Object.values(selected_item_ids.value).filter((x) => x === true).length\r\n  );\r\n\r\n  // Метод для выделения элемента по ID\r\n  const handle_select_item = (id) => {\r\n    if (id in selected_item_ids.value)\r\n      selected_item_ids.value[id] = !selected_item_ids.value[id];\r\n    else selected_item_ids.value[id] = true;\r\n  };\r\n\r\n  // Метод для снятия выделения\r\n  const reset_selection = () => {\r\n    is_all_selected.value = false;\r\n    selected_item_ids.value = {};\r\n  };\r\n\r\n  // При изменении списка элементов, выделение снимается\r\n  watch(\r\n    () => all_items.value,\r\n    () => reset_selection()\r\n  );\r\n\r\n  const is_all_selected = ref(false);\r\n\r\n  // Метод для выделения или снятия выделения всех элементов\r\n  const handle_select_all_items = () => {\r\n    if (is_all_selected.value === true) {\r\n      reset_selection();\r\n      is_all_selected.value = false;\r\n    } else {\r\n      is_all_selected.value = true;\r\n      items_seen_on_page.value.forEach(\r\n        (item) => (selected_item_ids.value[item.id] = true)\r\n      );\r\n    }\r\n  };\r\n\r\n  const selected_items = computed(() =>\r\n    items_seen_on_page.value.filter(\r\n      (item) =>\r\n        item.id in selected_item_ids.value &&\r\n        selected_item_ids.value[item.id] === true\r\n    )\r\n  );\r\n\r\n  return {\r\n    selected_item_ids,\r\n    selected_items,\r\n    count_of_selected_items,\r\n    is_all_selected,\r\n    handle_select_all_items,\r\n    handle_select_item,\r\n    reset_selection,\r\n  };\r\n};\r\n\r\n// items: array of Object - Массив объектов, от которых нужно взять срез\r\n// variants: array of int - Массив вариантов кол-ва результатов на странице\r\n// count: int - Начальное кол-во результатов на странице. Должно быть равно одному из variants\r\nconst usePaginationMixin = (\r\n  items, // Ref\r\n  variants = [20, 100, 500, 1000],\r\n  count = 100\r\n) => {\r\n  const pagination_variants = ref(variants);\r\n  const pagination_count_per_page = ref(count);\r\n  const pagination_current_page = ref(1);\r\n\r\n  const pagination_min_index = ref(0);\r\n  const pagination_max_index = ref(100);\r\n\r\n  const handle_set_page_range = (min, max) => {\r\n    pagination_min_index.value = min;\r\n    pagination_max_index.value = max;\r\n  };\r\n\r\n  const paginated_items = computed(() =>\r\n    items.value.slice(\r\n      pagination_min_index.value,\r\n      pagination_max_index.value + 1\r\n    )\r\n  );\r\n\r\n  return {\r\n    pagination_variants,\r\n    pagination_count_per_page,\r\n    pagination_current_page,\r\n    pagination_min_index,\r\n    pagination_max_index,\r\n    paginated_items,\r\n    handle_set_page_range,\r\n  };\r\n};\r\n\r\n\r\n// FUNCTIONS\r\n\r\nconst convertObject = (obj, convert_functions, exclude_keys = []) => {\r\n  let result = {};\r\n  // Преобразуем объекты, выбрасывая ненужные ключи\r\n  Object.keys(obj)\r\n    .filter((key) => !exclude_keys.includes(key))\r\n    .forEach(\r\n      (key) =>\r\n        (result[key] = Object.prototype.hasOwnProperty.call(\r\n          convert_functions,\r\n          key\r\n        )\r\n          ? convert_functions[key](obj[key])\r\n          : obj[key])\r\n    );\r\n  // Добавляем ключи, которых не было в исходном объекте\r\n  Object.keys(convert_functions)\r\n    .filter((key) => !Object.prototype.hasOwnProperty.call(obj, key))\r\n    .forEach((key) => (result[key] = convert_functions[key]()));\r\n  return result;\r\n};\r\n\r\nconst convertDateToDateObject = (value, rule) =>\r\n  convertStringToDate(value, rule);\r\n\r\nconst convertDateToTimestamp = (value, rule) => {\r\n  const date = convertStringToDate(value, rule);\r\n  return isNaN(date) ? \"\" : Math.floor(date.getTime() / 1000);\r\n};\r\n\r\nconst convertDateToIsoString = (value, rule) => {\r\n  const date = convertStringToDate(value, rule);\r\n  return isNaN(date) ? \"\" : date.toISOString();\r\n};\r\n\r\nconst convertDateToDateString = (date) => {\r\n  return [\r\n    date.getDate().toString().padStart(2, \"0\"),\r\n    (date.getMonth() + 1).toString().padStart(2, \"0\"),\r\n    date.getFullYear().toString(),\r\n  ].join(\".\");\r\n};\r\n\r\nconst convertDateToDateTimeString = (date) => {\r\n  return date.toLocaleString(\"ru-RU\", {timeZone: \"Europe/Moscow\"});\r\n};\r\n\r\nconst useGetSortFunction = (name) => {\r\n  const sort_default = (a, b) => {\r\n    if (a === b) return 0;\r\n    return a > b ? 1 : -1;\r\n  };\r\n\r\n  const sort_numbers = (a, b) => {\r\n    return a - b;\r\n  };\r\n\r\n  const sort_strings = (a, b) => {\r\n    return a.localeCompare(b);\r\n  };\r\n\r\n  const sort_change_order_number = (a, b) => {\r\n    try {\r\n      const [id_a, year_a] = a.split(\"-\", 2);\r\n      const [id_b, year_b] = b.split(\"-\", 2);\r\n\r\n      // console.log(id_a, year_a, \"<>\", id_b, year_b)\r\n\r\n      const compare_years = Number.parseInt(year_a) - Number.parseInt(year_b);\r\n      if (compare_years !== 0) {\r\n        return compare_years;\r\n      }\r\n\r\n      const compare_ids = Number.parseInt(id_a) - Number.parseInt(id_b);\r\n      return compare_ids;\r\n    } catch (e) {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  if (name === null || name === undefined) name = \"DEFAULT\";\r\n\r\n  const rules = {\r\n    DEFAULT: sort_default,\r\n    INTEGER: sort_numbers,\r\n    STRING: sort_strings,\r\n    BOOL: sort_default,\r\n    DATE: sort_default,\r\n    CHANGE_ORDER_NUMBER: sort_change_order_number,\r\n  };\r\n\r\n  if (!Object.prototype.hasOwnProperty.call(rules, name)) name = \"DEFAULT\";\r\n\r\n  return rules[name];\r\n};\r\n\r\nexport {\r\n  deepObjectCopy,\r\n  useBeforeEnterPage,\r\n  useDataEncode,\r\n  useGetSortFunction,\r\n  // MIXINS\r\n  useCurrentMixin,\r\n  useSelectionMixin,\r\n  usePaginationMixin,\r\n  // FUNCTIONS\r\n  convertObject,\r\n  convertDateToDateString,\r\n  convertDateToDateTimeString,\r\n  convertDateToDateObject,\r\n  // FILTERS\r\n  filterArrayOfObjectsByQuery,\r\n};\r\n","import { render } from \"./MainPage.vue?vue&type=template&id=e7eb45e8&scoped=true\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js\"\n\nimport \"./MainPage.vue?vue&type=style&index=0&id=e7eb45e8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e7eb45e8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page\">\r\n    <heading-component class=\"page__heading\" text=\"CDNs\" size=\"middle\" />\r\n    <div class=\"page__container\">\r\n      <div class=\"page__editblock\">\r\n        <base-form\r\n          class=\"page__form\"\r\n          :attributes=\"current\"\r\n          :settings=\"form_pages\"\r\n          :is_edit_mode=\"true\"\r\n          :is_header_required=\"false\"\r\n          @update=\"handle_update_attribute($event.name, $event.value)\"\r\n        >\r\n        </base-form>\r\n\r\n        <div class=\"page__editrow\">\r\n          <btn-component\r\n            class=\"page__button\"\r\n            @click=\"add_action()\"\r\n            caption=\"Добавить\"\r\n            type=\"primary\"\r\n            :disabled=\"!is_edit_block_valid\"\r\n            v-if=\"can_add && !current_id\"\r\n          />\r\n          <btn-component\r\n            class=\"page__button\"\r\n            @click=\"update_action()\"\r\n            caption=\"Сохранить\"\r\n            type=\"success\"\r\n            :disabled=\"!is_edit_block_valid\"\r\n            v-if=\"can_change && current_id\"\r\n          />\r\n          <btn-component\r\n            class=\"page__button\"\r\n            @click=\"delete_action()\"\r\n            caption=\"Удалить\"\r\n            type=\"danger\"\r\n            v-if=\"can_delete && current_id\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <search-component\r\n        class=\"page__searchblock\"\r\n        :schema=\"search_schema\"\r\n        :model_objects=\"model_objects\"\r\n        :convert_obj_to_item=\"convert_model_to_item\"\r\n        :current_id=\"current_id\"\r\n        sort_by=\"name\"\r\n        :sort_asc=\"true\"\r\n        :search_time=\"search_time\"\r\n        :is_searching=\"is_searching\"\r\n        :should_emit_search_event_on_any_keypress=\"true\"\r\n        @choose=\"current_id = $event\"\r\n        @search=\"search_action($event)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, ref } from \"vue\";\r\nimport {\r\n  RefreshTokens,\r\n  GetCdnServers,\r\n  AddCdnServer,\r\n  UpdateCdnServer,\r\n  DeleteCdnServer,\r\n} from \"../logic/domain/command\";\r\nimport { MessageBus } from \"../logic/service_layer/message_bus\";\r\nimport { VueUnitOfWork } from \"../logic/service_layer/uow\";\r\nimport {\r\n  convertObject,\r\n  filterArrayOfObjectsByQuery,\r\n  useCurrentMixin,\r\n  convertDateToDateTimeString,\r\n} from \"../logic/service_layer/use_modules\";\r\n\r\nimport HeadingComponent from \"../components/HeadingComponent.vue\";\r\nimport BtnComponent from \"../components/buttons/BtnComponent.vue\";\r\nimport BaseForm from \"../components/forms/BaseForm.vue\";\r\nimport SearchComponent from \"../components/SearchComponent.vue\";\r\n\r\nimport { useBeforeEnterPage } from \"../logic/service_layer/use_modules\";\r\n\r\nexport default {\r\n  components: {\r\n    HeadingComponent,\r\n    BtnComponent,\r\n    BaseForm,\r\n    SearchComponent,\r\n  },\r\n  name: \"ServersPage\",\r\n\r\n  setup() {\r\n    const uow = new VueUnitOfWork();\r\n    const user = uow.user_repository.get_current(); // Ref\r\n\r\n    const convert_model_to_item = (obj) => {\r\n      return {\r\n        id: obj.id,\r\n        attributes: {\r\n          id: obj.id.toString(),\r\n          name: obj.name,\r\n          host: obj.host,\r\n          port: obj.port.toString(),\r\n          location: obj.location,\r\n          zone: obj.zone,\r\n          latitude: obj.latitude.toString(),\r\n          longitude: obj.longitude.toString(),\r\n          is_on: obj.is_on === true ? \"Y\" : \"N\",\r\n          is_active: obj.is_active === true ? \"Y\" : \"N\",\r\n          created: convertDateToDateTimeString(obj.created),\r\n          updated: convertDateToDateTimeString(obj.updated),\r\n        },\r\n        actions: {},\r\n      };\r\n    };\r\n\r\n    const query_for_internal_search = ref({});\r\n    const model_objects = computed(() =>\r\n      filterArrayOfObjectsByQuery(\r\n        uow.cdn_server_repository.values().map((obj) => obj.value),\r\n        query_for_internal_search.value\r\n      )\r\n    );\r\n\r\n    const can_add = computed(() =>\r\n      user.value ? user.value.permissions.includes(\"can_add_cdnserver\") : false\r\n    );\r\n    const can_change = computed(() =>\r\n      user.value\r\n        ? user.value.permissions.includes(\"can_change_cdnserver\")\r\n        : false\r\n    );\r\n    const can_delete = computed(() =>\r\n      user.value\r\n        ? user.value.permissions.includes(\"can_delete_cdnserver\")\r\n        : false\r\n    );\r\n\r\n    // STATUS\r\n    const search_time = ref(0);\r\n    const is_searching = ref(false);\r\n\r\n    const search_action = (query) => (query_for_internal_search.value = query);\r\n\r\n    const search_schema = [\r\n      {\r\n        name: \"name\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"Имя\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"location\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"Расположение\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"zone\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"Зона\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"host\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"Host\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"port\",\r\n        size: \"w100\",\r\n        fields: [\r\n          {\r\n            placeholder: \"Port\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"is_on\",\r\n        size: \"w30\",\r\n        fields: [\r\n          {\r\n            type: \"bool\",\r\n            placeholder: \"Включен?\",\r\n            rule: \"exact\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"is_active\",\r\n        size: \"w30\",\r\n        fields: [\r\n          {\r\n            type: \"bool\",\r\n            placeholder: \"Активен?\",\r\n            rule: \"exact\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    // FORM\r\n    const init_obj = {\r\n      id: null,\r\n      name: \"\",\r\n      host: \"\",\r\n      port: \"\",\r\n      location: \"\",\r\n      zone: \"\",\r\n      latitude: \"\",\r\n      longitude: \"\",\r\n      is_on: false,\r\n      is_active: false,\r\n      created: Date.now(),\r\n      updated: Date.now(),\r\n    };\r\n\r\n    const to_repository_convertion = {\r\n      port: (x) => parseInt(x),\r\n      latitude: (x) => parseFloat(x),\r\n      longitude: (x) => parseFloat(x),\r\n    };\r\n\r\n    const from_repository_convertion = {\r\n      port: (x) => x.toString(),\r\n      latitude: (x) => x.toString(),\r\n      longitude: (x) => x.toString(),\r\n    };\r\n\r\n    const { current_id, current, handle_update_attribute } = useCurrentMixin(\r\n      init_obj,\r\n      uow.cdn_server_repository,\r\n      from_repository_convertion\r\n    );\r\n\r\n    const is_edit_block_valid = computed(\r\n      () => current.value.name.length > 0\r\n       && current.value.host.length > 0 \r\n       && parseInt(current.value.port) \r\n       && current.value.location.length > 0 \r\n       && current.value.zone.length > 0 \r\n       && parseFloat(current.value.latitude)\r\n       && parseFloat(current.value.longitude)\r\n    );\r\n\r\n    const add_action = async () => {\r\n      const message = new AddCdnServer(\r\n        ...[\r\n          \"name\",\r\n          \"host\",\r\n          \"port\",\r\n          \"location\",\r\n          \"zone\",\r\n          \"latitude\",\r\n          \"longitude\",\r\n          \"is_on\",\r\n          \"is_active\",\r\n        ].map((k) => convertObject(current.value, to_repository_convertion)[k])\r\n      );\r\n      await MessageBus.handle(message, uow);\r\n    };\r\n\r\n    const update_action = async () => {\r\n      const message = new UpdateCdnServer(\r\n        ...[\r\n          \"id\",\r\n          \"name\",\r\n          \"host\",\r\n          \"port\",\r\n          \"location\",\r\n          \"zone\",\r\n          \"latitude\",\r\n          \"longitude\",\r\n          \"is_on\",\r\n          \"is_active\",\r\n        ].map((k) => convertObject(current.value, to_repository_convertion)[k])\r\n      );\r\n      await MessageBus.handle(message, uow);\r\n    };\r\n\r\n    const delete_action = async () => {\r\n      const message = new DeleteCdnServer(current_id.value);\r\n      await MessageBus.handle(message, uow);\r\n      current_id.value = null;\r\n    };\r\n\r\n    const form_pages = computed(() => [\r\n      {\r\n        size: \"w450\",\r\n        fields: [\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Имя:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"name\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Хост:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"host\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Порт:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"port\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Расположение:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"location\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Зона:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"zone\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Широта:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"latitude\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Долгота:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"longitude\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Включен ?\",\r\n          },\r\n          {\r\n            type: \"FormBooleanInput\",\r\n            bind: \"is_on\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \"Активен ?\",\r\n          },\r\n          {\r\n            type: \"FormBooleanInput\",\r\n            bind: \"is_active\",\r\n          },\r\n        ],\r\n      },\r\n    ]);\r\n\r\n    // TIMERS\r\n    const refresh_tokens = async () =>\r\n      await MessageBus.handle(new RefreshTokens(), uow);\r\n\r\n    uow.token_timer.set_callback(refresh_tokens);\r\n    uow.token_timer.start();\r\n\r\n    onMounted(async () => {\r\n      await useBeforeEnterPage(uow, []);\r\n      await MessageBus.handle(new GetCdnServers(), uow);\r\n    });\r\n\r\n    return {\r\n      // ACTION\r\n      search_action,\r\n      add_action,\r\n      update_action,\r\n      delete_action,\r\n\r\n      // PERMISSION\r\n      can_add,\r\n      can_change,\r\n      can_delete,\r\n\r\n      // EDIT\r\n      current_id,\r\n      current,\r\n      is_edit_block_valid,\r\n      handle_update_attribute,\r\n      form_pages,\r\n\r\n      // SEARCH\r\n      search_schema,\r\n      model_objects,\r\n      convert_model_to_item,\r\n      search_time,\r\n      is_searching,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  padding-right: 60px;\r\n}\r\n\r\n.page__heading {\r\n  padding-top: 60px;\r\n  padding-bottom: 15px;\r\n}\r\n.page__container {\r\n  display: flex;\r\n}\r\n\r\n.page__editblock {\r\n  width: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-right: 15px;\r\n}\r\n\r\n.page__searchblock {\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 15px;\r\n  border-left: 1px solid black;\r\n}\r\n\r\n.page__button {\r\n  margin: 5px;\r\n}\r\n\r\n.page__editrow {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"searchcomponent\">\r\n    <document-page-search-row\r\n      class=\"searchcomponent__searchrow\"\r\n      :search_schema=\"schema\"\r\n      :should_emit_search_event_on_any_keypress=\"\r\n        should_emit_search_event_on_any_keypress\r\n      \"\r\n      :required_space_for_link=\"has_link\"\r\n      :is_selection_required=\"is_selection_required\"\r\n      :is_all_selected=\"false\"\r\n      @search:docs=\"$emit('search', $event)\"\r\n      @selectall:docs=\"handle_select_all_items()\"\r\n    />\r\n    <document-search-status-row\r\n      class=\"searchcomponent__searchstatus\"\r\n      :count=\"items.length\"\r\n      :time=\"search_time\"\r\n      :min_index=\"pagination_min_index\"\r\n      :max_index=\"pagination_max_index\"\r\n    />\r\n    <document-page-sort-row\r\n      class=\"searchcomponent__sortrow\"\r\n      :search_schema=\"schema\"\r\n      :sort_asc=\"var_sort_asc\"\r\n      :sort_by=\"var_sort_by\"\r\n      @toggle:direction=\"var_sort_asc = !var_sort_asc\"\r\n      @sort:by=\"[var_sort_by, var_sort_rule] = $event\"\r\n    />\r\n    <document-pagination-row\r\n      class=\"searchcomponent__paginationrow\"\r\n      v-if=\"items.length > 0\"\r\n      :total_count=\"items.length\"\r\n      :count_per_page=\"pagination_count_per_page\"\r\n      :current_page=\"pagination_current_page\"\r\n      :variants=\"pagination_variants\"\r\n      @set:page_range=\"handle_set_page_range($event.min, $event.max)\"\r\n      @select:page=\"pagination_current_page = $event\"\r\n      @set:count_per_page=\"pagination_count_per_page = $event\"\r\n    />\r\n    <!-- <div v-if=\"is_object_list_shown\" class=\"searchcomponent__listcontainer\"> -->\r\n    <div\r\n      class=\"searchcomponent__row\"\r\n      v-for=\"obj in paginated_items\"\r\n      :key=\"obj.id\"\r\n      :class=\"{ searchcomponent__row_selected: current_id === obj.id }\"\r\n      @click=\"$emit('choose', obj.id)\"\r\n    >\r\n      <document-attribute-row\r\n        class=\"searchcomponent__attributerow\"\r\n        :id=\"obj.id\"\r\n        :search_schema=\"schema\"\r\n        :has_link=\"has_link\"\r\n        :link_route_obj=\"obj.link_to_single_page\"\r\n        :attributes=\"obj.attributes\"\r\n        :is_selection_required=\"is_selection_required\"\r\n        :is_selected=\"obj.id in selected_item_ids\"\r\n        @select:doc=\"handle_select_item(obj.id)\"\r\n      />\r\n      <document-files-row\r\n        class=\"searchcomponent__filerow\"\r\n        v-if=\"is_files_shown\"\r\n        :files=\"obj.attachments\"\r\n        @download:file=\"\r\n          $emit('download:file', {\r\n            id: obj.id,\r\n            file: $event[0],\r\n            inline: $event[1],\r\n          })\r\n        \"\r\n        @copy_link_to:file=\"\r\n          $emit('copy_link_to:file', { id: obj.id, file: $event })\r\n        \"\r\n      />\r\n    </div>\r\n    <!-- </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, watch } from \"vue\";\r\nimport {\r\n  useGetSortFunction,\r\n  usePaginationMixin,\r\n  useSelectionMixin,\r\n} from \"../logic/service_layer/use_modules\";\r\nimport DocumentPageSearchRow from \"./document/DocumentPageSearchRow.vue\";\r\nimport DocumentAttributeRow from \"./document/DocumentAttributeRow.vue\";\r\nimport DocumentPageSortRow from \"./document/DocumentPageSortRow.vue\";\r\nimport DocumentPaginationRow from \"./document/DocumentPaginationRow.vue\";\r\nimport DocumentSearchStatusRow from \"./document/DocumentSearchStatusRow.vue\";\r\nimport DocumentFilesRow from \"./document/DocumentFilesRow.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPageSearchRow,\r\n    DocumentAttributeRow,\r\n    DocumentPageSortRow,\r\n    DocumentPaginationRow,\r\n    DocumentSearchStatusRow,\r\n    DocumentFilesRow,\r\n  },\r\n  name: \"SearchComponent\",\r\n\r\n  props: {\r\n    model_objects: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    // total_count_of_model_objects: {\r\n    //   type: Number,\r\n    //   required: false,\r\n    //   default: 0\r\n    // },\r\n    schema: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    sort_by: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    sort_asc: { type: Boolean, required: false, default: false },\r\n    sort_rule: {\r\n      type: String,\r\n      required: false,\r\n      default: \"DEFAULT\",\r\n    },\r\n    convert_obj_to_item: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    current_id: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    search_time: {\r\n      type: Number,\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    is_searching: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    should_emit_search_event_on_any_keypress: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    // should_sort: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: false,\r\n    // },\r\n    is_selection_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    has_link: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_files_shown: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    // is_search_row_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_search_status_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_sorting_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_pagination_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_object_list_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n  },\r\n\r\n  emits: [\r\n    \"choose\",\r\n    \"search\",\r\n    \"download:file\",\r\n    \"copy_link_to:file\",\r\n    \"select\",\r\n    // \"select:sort_by\",\r\n    // \"select:sort_asc\",\r\n    // \"select:page\",\r\n    // \"select:count_per_page\",\r\n  ],\r\n\r\n  setup(props, { emit }) {\r\n    // SEARCH\r\n    const var_sort_by = ref(props.sort_by);\r\n    const var_sort_asc = ref(props.sort_asc);\r\n    const var_sort_rule = ref(props.sort_rule);\r\n    const var_sort_func = ref(useGetSortFunction(var_sort_rule.value));\r\n\r\n    // watch(\r\n    //   var_sort_by,\r\n    //   () => emit('select:sort_by', var_sort_by.value)\r\n    // );\r\n\r\n    // watch(\r\n    //   var_sort_asc,\r\n    //   () => emit('select:sort_asc', var_sort_asc.value)\r\n    // );\r\n\r\n    watch(\r\n      var_sort_rule,\r\n      (newValue) => (var_sort_func.value = useGetSortFunction(newValue))\r\n    );\r\n\r\n    // ITEMS\r\n    const items = computed(() => {\r\n      let arr = props.model_objects;\r\n\r\n      arr.sort(\r\n        (a, b) =>\r\n          (var_sort_asc.value === true ? 1 : -1) *\r\n          var_sort_func.value(a[var_sort_by.value], b[var_sort_by.value])\r\n      );\r\n      return arr.map((obj) => props.convert_obj_to_item(obj));\r\n    });\r\n\r\n    // PAGINATION\r\n    const {\r\n      pagination_variants,\r\n      pagination_count_per_page,\r\n      pagination_current_page,\r\n      pagination_min_index,\r\n      pagination_max_index,\r\n      paginated_items,\r\n      handle_set_page_range,\r\n    } = usePaginationMixin(items);\r\n    // } = usePaginationMixin(items, props.total_count_of_model_objects);\r\n\r\n    // watch(\r\n    //   pagination_current_page,\r\n    //   () => emit('select:page', pagination_current_page.value)\r\n    // );\r\n\r\n    // watch(\r\n    //   pagination_count_per_page,\r\n    //   () => emit('select:count_per_page', pagination_count_per_page.value)\r\n    // );\r\n\r\n    // SELECTION\r\n    const {\r\n      selected_item_ids,\r\n      selected_items,\r\n      count_of_selected_items,\r\n      handle_select_all_items,\r\n      handle_select_item,\r\n      reset_selection,\r\n    } = useSelectionMixin(items, paginated_items);\r\n\r\n    watch(selected_items, (newValue) => emit(\"select\", newValue));\r\n\r\n    return {\r\n      items,\r\n\r\n      // SEARCH\r\n      var_sort_by,\r\n      var_sort_asc,\r\n      var_sort_rule,\r\n\r\n      // PAGINATION\r\n      paginated_items,\r\n      handle_set_page_range,\r\n      pagination_variants,\r\n      pagination_count_per_page,\r\n      pagination_current_page,\r\n      pagination_min_index,\r\n      pagination_max_index,\r\n\r\n      // SELECTION\r\n      selected_item_ids,\r\n      selected_items,\r\n      count_of_selected_items,\r\n      handle_select_all_items,\r\n      handle_select_item,\r\n      reset_selection,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.searchcomponent {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.searchcomponent__searchstatus {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 10px;\r\n}\r\n\r\n.searchcomponent__searchrow {\r\n  display: flex;\r\n}\r\n\r\n.searchcomponent__row {\r\n  cursor: pointer;\r\n}\r\n\r\n.searchcomponent__row:nth-child(even) {\r\n  background-color: rgb(215, 242, 255);\r\n}\r\n\r\n.searchcomponent__row_selected {\r\n  background-color: lightyellow !important;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"documentpagesearchrow\">\r\n    <sized-div\r\n      v-if=\"is_selection_required\"\r\n      class=\"documentpagesearchrow__sizedblock\"\r\n      size=\"w30\"\r\n    >\r\n      <form-boolean-input\r\n        class=\"documentpagesearchrow__input\"\r\n        :value=\"is_all_selected\"\r\n        :parameters=\"{ size: 30 }\"\r\n        @update=\"$emit('selectall:docs')\"\r\n      />\r\n    </sized-div>\r\n\r\n    <sized-div\r\n      class=\"documentpagesearchrow__sizedblock\"\r\n      size=\"w30\"\r\n      v-if=\"required_space_for_link\"\r\n    >\r\n    </sized-div>\r\n\r\n    <sized-div\r\n      v-for=\"block in search_schema\"\r\n      :key=\"block.name\"\r\n      class=\"documentpagesearchrow__sizedblock\"\r\n      :size=\"block.size\"\r\n      :grow=\"block.grow\"\r\n    >\r\n      <component\r\n        class=\"documentpagesearchrow__input\"\r\n        v-for=\"field in block.fields\"\r\n        :key=\"field\"\r\n        :is=\"get_component_name(field)\"\r\n        :value=\"get_query_value(block, field)\"\r\n        :parameters=\"get_parameters(block, field)\"\r\n        @keyup.enter=\"emit_search_event()\"\r\n        @update=\"set_query_value(block, field, $event)\"\r\n      />\r\n\r\n      <tuning-item\r\n        class=\"documentpagesearchrow__tuningitem\"\r\n        v-if=\"is_tuning_mode\"\r\n        :size=\"block.size\"\r\n        :grow=\"block.grow\"\r\n        @change:size=\"$emit('change:size', { name: block.name, value: $event })\"\r\n        @change:grow=\"$emit('change:grow', { name: block.name, value: $event })\"\r\n        @delete:field=\"$emit('delete:field', block.name)\"\r\n      />\r\n    </sized-div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, watch, computed } from \"vue\";\r\nimport { useDataEncode } from \"../../logic/service_layer/use_modules\";\r\nimport SizedDiv from \"../SizedDiv.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\nimport FormSelectInput from \"../fields/FormSelectInput.vue\";\r\nimport FormFilteredSelectInput from \"../fields/FormFilteredSelectInput.vue\";\r\nimport FormBooleanInput from \"../fields/FormBooleanInput.vue\";\r\nimport TuningItem from \"./TuningItem.vue\";\r\nexport default {\r\n  name: \"DocumentPageSearchRow\",\r\n  components: {\r\n    SizedDiv,\r\n    FormTextInput,\r\n    FormSelectInput,\r\n    FormFilteredSelectInput,\r\n    TuningItem,\r\n    FormBooleanInput,\r\n  },\r\n  props: {\r\n    search_schema: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    is_disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_clean_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_tuning_mode: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    required_space_for_link: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_selection_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_all_selected: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    should_emit_search_event_on_any_keypress: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\r\n    \"search:docs\",\r\n    \"selectall:docs\",\r\n    \"clean:query\",\r\n    \"change:size\",\r\n    \"change:grow\",\r\n    \"delete:field\",\r\n  ],\r\n\r\n  setup(props, { emit }) {\r\n    const query = reactive({});\r\n\r\n    const get_query_key = (name, rule) => {\r\n      return name + \"__\" + rule;\r\n    };\r\n\r\n    const encoded_query = computed(() => {\r\n      const result = {};\r\n      Object.keys(query).forEach((key) => {\r\n        const property = query[key];\r\n        const converter = property.converter ? property.converter : null;\r\n        let value = property.value;\r\n\r\n        // Проверяем правильность введенных данных на\r\n        // на соответствие регулярному выражению\r\n        if (property.re)\r\n          if (is_pattern_valid(property.re, property.value) === false)\r\n            value = \"\";\r\n\r\n        result[key] =\r\n          value === \"\" ? value : useDataEncode(value, property.rule, converter);\r\n      });\r\n      return result;\r\n    });\r\n\r\n    const get_initial_value = (type) => {\r\n      if (type === \"bool\") return false;\r\n      return \"\";\r\n    };\r\n\r\n    const reset_query = () => {\r\n      // Заполняем объект запроса пустыми полями,\r\n      // чтобы правильно работала реактивность валидации\r\n      props.search_schema.forEach((block) => {\r\n        block.fields.forEach((field) => {\r\n          query[get_query_key(block.name, field.rule)] = {\r\n            type: field.type,\r\n            name: block.name,\r\n            rule: field.rule,\r\n            re: field.re,\r\n            converter: field.converter,\r\n            value: get_initial_value(field.type),\r\n          };\r\n        });\r\n      });\r\n    };\r\n\r\n    const is_pattern_valid = (regexp_str, str) => {\r\n      return String.prototype.match.call(str, new RegExp(regexp_str)) !== null;\r\n    };\r\n\r\n    watch(\r\n      () => props.is_clean_required,\r\n      (newValue) => {\r\n        if (newValue === true) {\r\n          reset_query();\r\n          emit(\"clean:query\");\r\n        }\r\n      }\r\n    );\r\n\r\n    reset_query();\r\n\r\n    // SEACRH EVENT\r\n\r\n    const emit_search_event = () => emit(\"search:docs\", encoded_query.value);\r\n\r\n    // COMPONENT\r\n    const get_component_name = (field) => {\r\n      if (field.type === \"bool\") return \"FormBooleanInput\";\r\n      if (field.type === \"select\") return \"FormSelectInput\";\r\n      if (field.type === \"filtered_select\") return \"FormFilteredSelectInput\";\r\n      return \"FormTextInput\";\r\n    };\r\n\r\n    const get_query_item = (block, field) =>\r\n      query[get_query_key(block.name, field.rule)];\r\n\r\n    const get_query_value = (block, field) =>\r\n      get_query_item(block, field)[\"value\"];\r\n\r\n    const set_query_value = (block, field, value) => {\r\n      get_query_item(block, field)[\"value\"] = value;\r\n      if (props.should_emit_search_event_on_any_keypress) emit_search_event();\r\n    };\r\n\r\n    const get_parameters = (block, field) => {\r\n      if (field.type === \"bool\") return boolean_input_parameters(field);\r\n\r\n      if ([\"select\", \"filtered_select\"].includes(field.type))\r\n        return select_input_parameters(field);\r\n\r\n      return text_input_parameters(block, field);\r\n    };\r\n\r\n    const text_input_parameters = (block, field) => {\r\n      return {\r\n        color: !is_pattern_valid(\r\n          get_query_item(block, field)[\"re\"],\r\n          get_query_item(block, field)[\"value\"]\r\n        )\r\n          ? \"red\"\r\n          : \"\",\r\n\r\n        placeholder: field.placeholder,\r\n        is_disabled: props.is_disabled,\r\n        height: 30,\r\n      };\r\n    };\r\n\r\n    const boolean_input_parameters = (field) => {\r\n      return {\r\n        hint: field.placeholder,\r\n        is_disabled: props.is_disabled,\r\n        size: 28,\r\n      };\r\n    };\r\n\r\n    const select_input_parameters = (field) => {\r\n      return {\r\n        hint: field.placeholder,\r\n        is_disabled: props.is_disabled,\r\n        options: field.options,\r\n      };\r\n    };\r\n\r\n    return {\r\n      query,\r\n      encoded_query,\r\n      get_query_key,\r\n      is_pattern_valid,\r\n\r\n      // GETTERS\r\n      get_component_name,\r\n      get_parameters,\r\n      get_query_value,\r\n      set_query_value,\r\n\r\n      // EVENT\r\n      emit_search_event,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentpagesearchrow {\r\n  display: flex;\r\n}\r\n\r\n.documentpagesearchrow__sizedblock {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n}\r\n\r\n.documentpagesearchrow__input {\r\n  min-height: 30px;\r\n  max-height: 30px;\r\n  padding: 0px 1px;\r\n  box-sizing: border-box;\r\n}\r\n</style>","<template>\r\n  <div\r\n    class=\"sizeddiv\"\r\n    v-bind:class=\"{\r\n      sizeddiv_w30: size === 'w30' && grow === false,\r\n      sizeddiv_w35: size === 'w35' && grow === false,\r\n      sizeddiv_w40: size === 'w40' && grow === false,\r\n      sizeddiv_w50: size === 'w50' && grow === false,\r\n      sizeddiv_w100: size === 'w100' && grow === false,\r\n      sizeddiv_w150: size === 'w150' && grow === false,\r\n      sizeddiv_w200: size === 'w200' && grow === false,\r\n      sizeddiv_w250: size === 'w250' && grow === false,\r\n      sizeddiv_w300: size === 'w300' && grow === false,\r\n      sizeddiv_w350: size === 'w350' && grow === false,\r\n      sizeddiv_w400: size === 'w400' && grow === false,\r\n      sizeddiv_growable: grow === true,\r\n    }\"\r\n  >\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SizedDiv\",\r\n  props: {\r\n    size: {\r\n      type: String,\r\n      required: false,\r\n      default: \"\",\r\n    },\r\n    grow: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.sizeddiv {\r\n  display: flex;\r\n}\r\n\r\n.sizeddiv_w30 {\r\n  min-width: 30px;\r\n  max-width: 30px;\r\n}\r\n\r\n.sizeddiv_w35 {\r\n  min-width: 35px;\r\n  max-width: 35px;\r\n}\r\n\r\n.sizeddiv_w40 {\r\n  min-width: 40px;\r\n  max-width: 40px;\r\n}\r\n\r\n.sizeddiv_w50 {\r\n  min-width: 50px;\r\n  max-width: 50px;\r\n}\r\n\r\n.sizeddiv_w100 {\r\n  min-width: 100px;\r\n  max-width: 100px;\r\n}\r\n\r\n.sizeddiv_w150 {\r\n  min-width: 150px;\r\n  max-width: 150px;\r\n}\r\n.sizeddiv_w200 {\r\n  min-width: 200px;\r\n  max-width: 200px;\r\n}\r\n.sizeddiv_w250 {\r\n  min-width: 250px;\r\n  max-width: 250px;\r\n}\r\n.sizeddiv_w300 {\r\n  min-width: 300px;\r\n  max-width: 300px;\r\n}\r\n.sizeddiv_w350 {\r\n  min-width: 350px;\r\n  max-width: 350px;\r\n}\r\n.sizeddiv_w400 {\r\n  min-width: 400px;\r\n  max-width: 400px;\r\n}\r\n\r\n.sizeddiv_growable {\r\n  width: 50px;\r\n  flex-grow: 1;\r\n}\r\n</style>","import { render } from \"./SizedDiv.vue?vue&type=template&id=09f6cb8c\"\nimport script from \"./SizedDiv.vue?vue&type=script&lang=js\"\nexport * from \"./SizedDiv.vue?vue&type=script&lang=js\"\n\nimport \"./SizedDiv.vue?vue&type=style&index=0&id=09f6cb8c&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <select\r\n      class=\"formselectinput\"\r\n      :disabled=\"is_disabled\"\r\n      :size=\"size.toString()\"\r\n      @input=\"handle_choose_value($event.target.value)\"\r\n    >\r\n      <option\r\n        v-for=\"(option, index) in parameters.options\"\r\n        :selected=\"value !== undefined && value !== null && option.value === value\"\r\n        :key=\"option.value\"\r\n        :value=\"index\"\r\n      >\r\n        {{ option.name }}\r\n      </option>\r\n    </select>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormSelectInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || \"\";\r\n    if ((props.value === undefined || props.value === null) && default_value) {\r\n      emit(\"update\", default_value);\r\n    }\r\n\r\n\r\n    const size = computed(() => props.parameters[\"size\"] || 1);\r\n    const is_disabled = computed(() => props.parameters[\"is_disabled\"] || false);\r\n\r\n    const handle_choose_value = (str_index) => {\r\n      emit('update', props.parameters.options[parseInt(str_index)].value)\r\n    }\r\n\r\n    return { size, is_disabled, handle_choose_value };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formselectinput {\r\n  width: 100%;\r\n}\r\n</style>","import { render } from \"./FormSelectInput.vue?vue&type=template&id=20d58ba5&scoped=true\"\nimport script from \"./FormSelectInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormSelectInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormSelectInput.vue?vue&type=style&index=0&id=20d58ba5&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20d58ba5\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"formfilteredselectinput\">\r\n    <form-select-input\r\n      class=\"formfilteredselectinput__target\"\r\n      :parameters=\"{\r\n        options: parameters.options,\r\n        is_disabled: is_disabled,\r\n      }\"\r\n      :value=\"value\"\r\n      @mousedown=\"handle_click_on_target($event)\"\r\n    />\r\n    <form-text-input\r\n      v-if=\"!is_selected\"\r\n      class=\"formfilteredselectinput__search\"\r\n      :parameters=\"{\r\n        placeholder: placeholder,\r\n        height: 30\r\n      }\"\r\n      :value=\"query\"\r\n      @update=\"query = $event\"\r\n    />\r\n    <form-select-input\r\n      v-if=\"!is_selected\"\r\n      class=\"formfilteredselectinput__list\"\r\n      :parameters=\"{\r\n        options: filtered_options,\r\n        size: size,\r\n      }\"\r\n      :value=\"value\"\r\n      @update=\"\r\n        $emit('update', $event);\r\n        is_selected = !is_selected;\r\n      \"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from \"vue\";\r\n\r\nimport FormTextInput from \"./FormTextInput.vue\";\r\nimport FormSelectInput from \"./FormSelectInput.vue\";\r\n\r\nexport default {\r\n  name: \"FormFilteredSelectInput\",\r\n  components: {\r\n    FormTextInput,\r\n    FormSelectInput,\r\n  },\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || \"\";\r\n    if ((props.value === undefined || props.value === null) && default_value) {\r\n      emit(\"update\", default_value);\r\n    }\r\n\r\n    const size = computed(() => props.parameters[\"size\"] || 3);\r\n    const is_disabled = computed(\r\n      () => props.parameters[\"is_disabled\"] || false\r\n    );\r\n    const placeholder = computed(() => props.parameters[\"placeholder\"] || \"\");\r\n\r\n    const is_selected = ref(true);\r\n    const query = ref(\"\");\r\n\r\n    const filtered_options = computed(() =>\r\n      props.parameters.options.filter((obj) =>\r\n        obj.name.toUpperCase().includes(query.value.toUpperCase())\r\n      )\r\n    );\r\n\r\n    const handle_click_on_target = (e) => {\r\n      e.preventDefault();\r\n      if (is_disabled.value === true) return;\r\n      is_selected.value = !is_selected.value;\r\n    };\r\n\r\n    return {\r\n      size,\r\n      is_disabled,\r\n      placeholder,\r\n      is_selected,\r\n      query,\r\n      filtered_options,\r\n      handle_click_on_target,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formfilteredselectinput {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n</style>","import { render } from \"./FormFilteredSelectInput.vue?vue&type=template&id=3d606cee&scoped=true\"\nimport script from \"./FormFilteredSelectInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormFilteredSelectInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormFilteredSelectInput.vue?vue&type=style&index=0&id=3d606cee&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d606cee\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"tuningitem\">\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"-\"\r\n      @click=\"$emit('change:size', prev_size(size))\"\r\n    />\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"+\"\r\n      @click=\"$emit('change:size', next_size(size))\"\r\n    />\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"&#8660;\"\r\n      icon_off=\"&#10500;\"\r\n      :is_active=\"grow\"\r\n      @click=\"$emit('change:grow', !grow)\"\r\n    />\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"X\"\r\n      @click=\"$emit('delete:field')\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IconButton from \"../buttons/IconButton.vue\";\r\nexport default {\r\n  components: { IconButton },\r\n  name: \"TuningItem\",\r\n  props: {\r\n    size: {\r\n      type: String,\r\n      required: false,\r\n      default: \"w50\",\r\n    },\r\n    grow: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\"change:size\", \"change:grow\", \"delete:field\"],\r\n  setup() {\r\n    const size_variants = [\r\n      \"w50\",\r\n      \"w100\",\r\n      \"w150\",\r\n      \"w200\",\r\n      \"w250\",\r\n      \"w300\",\r\n      \"w350\",\r\n      \"w400\",\r\n    ];\r\n\r\n    const prev_size = (size) => {\r\n      let idx = size_variants.indexOf(size) - 1;\r\n      idx = Math.max(0, idx);\r\n      return size_variants[idx];\r\n    };\r\n\r\n    const next_size = (size) => {\r\n      let idx = size_variants.indexOf(size) + 1;\r\n      idx = Math.min(idx, size_variants.length - 1);\r\n      return size_variants[idx];\r\n    };\r\n\r\n    return { prev_size, next_size };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.tuningitem {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  padding: 3px;\r\n}\r\n\r\n.tuningitem__button {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n.tuningitem__sizecontainer {\r\n  display: flex;\r\n}\r\n</style>","<template>\r\n  <div class=\"iconbutton\" @click=\"$emit('toggle')\">\r\n    <div class=\"iconbutton__icon\">\r\n      {{ is_active === true ? icon_on : icon_off }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"IconButton\",\r\n  props: {\r\n    icon_on: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    icon_off: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n    is_active: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.iconbutton {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.iconbutton__icon {\r\n  flex-grow: 1;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n}\r\n</style>","import { render } from \"./IconButton.vue?vue&type=template&id=5f810ad4\"\nimport script from \"./IconButton.vue?vue&type=script&lang=js\"\nexport * from \"./IconButton.vue?vue&type=script&lang=js\"\n\nimport \"./IconButton.vue?vue&type=style&index=0&id=5f810ad4&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TuningItem.vue?vue&type=template&id=9319ab66\"\nimport script from \"./TuningItem.vue?vue&type=script&lang=js\"\nexport * from \"./TuningItem.vue?vue&type=script&lang=js\"\n\nimport \"./TuningItem.vue?vue&type=style&index=0&id=9319ab66&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentPageSearchRow.vue?vue&type=template&id=74028ffa&scoped=true\"\nimport script from \"./DocumentPageSearchRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPageSearchRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPageSearchRow.vue?vue&type=style&index=0&id=74028ffa&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74028ffa\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"documentattributerow\"\r\n    :class=\"{ documentattributerow_modified: is_highlighted }\"\r\n  >\r\n    <sized-div\r\n      v-if=\"is_selection_required\"\r\n      class=\"documentattributerow__sizedblock_center\"\r\n      size=\"w30\"\r\n    >\r\n      <form-boolean-input\r\n        class=\"documentattributerow__checkbox\"\r\n        :value=\"is_selected\"\r\n        :parameters=\"{ size: 20 }\"\r\n        @click=\"$emit('select:doc')\"\r\n      />\r\n    </sized-div>\r\n    <sized-div\r\n      v-if=\"has_link\"\r\n      class=\"documentattributerow__sizedblock_center\"\r\n      size=\"w30\"\r\n    >\r\n      <router-link class=\"documentattributerow__href\" :to=\"link_route_obj\">\r\n        <form-text-field class=\"documentattributerow__textfield\" value=\"@\" />\r\n      </router-link>\r\n    </sized-div>\r\n\r\n    <sized-div\r\n      v-for=\"block in search_schema\"\r\n      :key=\"block.name\"\r\n      class=\"documentattributerow__sizedblock\"\r\n      :size=\"block.size\"\r\n      :grow=\"block.grow\"\r\n    >\r\n      <form-text-input\r\n        v-if=\"is_edit_mode && !block.name.toLowerCase().includes('date')\"\r\n        class=\"documentattributerow__textinput\"\r\n        :value=\"attributes[block.name]\"\r\n        :parameters=\"{\r\n          is_disabled: get_bool_attribute(block.is_disabled) || is_disabled,\r\n          default: block.default,\r\n        }\"\r\n        @update=\"\r\n          $emit('update:doc', { id: id, name: block.name, value: $event })\r\n        \"\r\n      />\r\n      <form-date-input\r\n        v-if=\"is_edit_mode && block.name.toLowerCase().includes('date')\"\r\n        class=\"documentattributerow__dateinput\"\r\n        :value=\"attributes[block.name]\"\r\n        :parameters=\"{\r\n          is_disabled: get_bool_attribute(block.is_disabled) || is_disabled,\r\n          default:\r\n            block.default === undefined || block.default === null\r\n              ? Math.round(Date.now() / 1000)\r\n              : block.default,\r\n        }\"\r\n        @update=\"\r\n          $emit('update:doc', { id: id, name: block.name, value: $event })\r\n        \"\r\n      />\r\n      <form-text-field\r\n        v-if=\"!is_edit_mode\"\r\n        class=\"documentattributerow__textfield\"\r\n        :value=\"attributes[block.name]\"\r\n        :parameters=\"{\r\n          align: block.align ? block.align : 'center',\r\n          default: block.default,\r\n        }\"\r\n      />\r\n    </sized-div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SizedDiv from \"../SizedDiv.vue\";\r\nimport FormTextField from \"../fields/FormTextField.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\nimport FormDateInput from \"../fields/FormDateInput.vue\";\r\nimport FormBooleanInput from \"../fields/FormBooleanInput.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    SizedDiv,\r\n    FormTextField,\r\n    FormTextInput,\r\n    FormDateInput,\r\n    FormBooleanInput,\r\n  },\r\n  name: \"DocumentAttributeRow\",\r\n  props: {\r\n    id: {\r\n      type: [String, Number],\r\n      required: true,\r\n    },\r\n    search_schema: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    attributes: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    is_selection_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_selected: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_edit_mode: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_highlighted: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    has_link: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    link_route_obj: {\r\n      type: Object,\r\n    },\r\n  },\r\n  emits: [\"update:doc\", \"select:doc\"],\r\n  setup() {\r\n    const get_bool_attribute = (value) => {\r\n      return value === true ? true : false;\r\n    };\r\n\r\n    return {\r\n      get_bool_attribute,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentattributerow {\r\n  display: flex;\r\n}\r\n.documentattributerow__sizedblock_center {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.documentattributerow__checkbox {\r\n  min-width: 20px;\r\n  max-width: 20px;\r\n  min-height: 20px;\r\n  max-height: 20px;\r\n}\r\n\r\n.documentattributerow__textfield {\r\n  flex-grow: 1;\r\n  padding: 3px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.documentattributerow__href {\r\n  flex-grow: 1;\r\n  text-decoration: none;\r\n}\r\n\r\n.documentattributerow__textinput,\r\n.documentattributerow__dateinput {\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.documentattributerow__textinput {\r\n  padding: 3px;\r\n}\r\n\r\n.documentattributerow__dateinput {\r\n  margin: 3px;\r\n}\r\n\r\n.documentattributerow_modified {\r\n  border: 2px solid orange;\r\n}\r\n\r\n.documentattributerow_blocked {\r\n  border: 2px solid red;\r\n}\r\n</style>","<template>\r\n  <input\r\n    class=\"formdateinput\"\r\n    type=\"date\"\r\n    :value=\"date_str\"\r\n    @input=\"handle_update_date($event)\"\r\n    :disabled=\"is_disabled\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormDateInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || 0;\r\n\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n    const is_disabled = props.parameters[\"is_disabled\"] || false;\r\n\r\n    const date_str = computed(() => {\r\n      const date = new Date((props.value || default_value) * 1000);\r\n      return date.toISOString().slice(0, 10);\r\n    });\r\n\r\n    const handle_update_date = (evt) =>\r\n      emit(\"update\", Math.floor(evt.target.valueAsNumber / 1000) || 0);\r\n\r\n    return { date_str, is_disabled, handle_update_date };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./FormDateInput.vue?vue&type=template&id=41f62af6\"\nimport script from \"./FormDateInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormDateInput.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentAttributeRow.vue?vue&type=template&id=6127c01a&scoped=true\"\nimport script from \"./DocumentAttributeRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentAttributeRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentAttributeRow.vue?vue&type=style&index=0&id=6127c01a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6127c01a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"documentpagesortrow\">\r\n    <sized-div\r\n      v-for=\"block in search_schema\"\r\n      :key=\"block.name\"\r\n      class=\"documentpagesortrow__sizedblock\"\r\n      :size=\"block.size\"\r\n      :grow=\"block.grow\"\r\n    >\r\n      <arrow-switch\r\n        class=\"documentpagesortrow__arrow\"\r\n        :is_checked=\"sort_asc === true\"\r\n        :is_selected=\"sort_by === block.name\"\r\n        @click=\"\r\n          sort_by === block.name\r\n            ? $emit('toggle:direction')\r\n            : $emit(\r\n                'sort:by',\r\n                getSortNameAndFunction(block.name, block.sort_rule)\r\n              )\r\n        \"\r\n      />\r\n    </sized-div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SizedDiv from \"../SizedDiv.vue\";\r\nimport ArrowSwitch from \"../buttons/ArrowSwitch.vue\";\r\n\r\nexport default {\r\n  name: \"DocumentPageSortRow\",\r\n  components: { SizedDiv, ArrowSwitch },\r\n  props: {\r\n    search_schema: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    sort_asc: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    sort_by: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n  emits: [\"toggle:direction\", \"sort:by\"],\r\n  setup() {\r\n    const getSortNameAndFunction = (block_name, sort_rule_name) => [\r\n      block_name,\r\n      sort_rule_name,\r\n    ];\r\n\r\n    return { getSortNameAndFunction };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentpagesortrow {\r\n  display: flex;\r\n}\r\n\r\n.documentpagesortrow__sizedblock {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n}\r\n\r\n.documentpagesortrow__arrow {\r\n  text-align: center;\r\n}\r\n</style>","<template>\r\n  <div\r\n    class=\"arrowswitch\"\r\n    v-bind:class=\"{\r\n      arrowswitch_selected: is_selected === true,\r\n      arrowswitch_checked: is_checked === true,\r\n    }\"\r\n  >\r\n    {{ is_checked ? \"&#x25bc;\" : \"&#x25b2;\" }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ArrowSwitch\",\r\n  props: {\r\n    is_selected: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    is_checked: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.arrowswitch {\r\n  display: block;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  color: lightgrey;\r\n  user-select: none;\r\n}\r\n\r\n.arrowswitch_selected {\r\n  color: lightsalmon;\r\n}\r\n</style>","import { render } from \"./ArrowSwitch.vue?vue&type=template&id=1e2cf47e\"\nimport script from \"./ArrowSwitch.vue?vue&type=script&lang=js\"\nexport * from \"./ArrowSwitch.vue?vue&type=script&lang=js\"\n\nimport \"./ArrowSwitch.vue?vue&type=style&index=0&id=1e2cf47e&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentPageSortRow.vue?vue&type=template&id=29807a96&scoped=true\"\nimport script from \"./DocumentPageSortRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPageSortRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPageSortRow.vue?vue&type=style&index=0&id=29807a96&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-29807a96\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"documentsearchstatusrow\">\r\n    <form-text-field :value=\"status\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport FormTextField from \"../fields/FormTextField.vue\";\r\nexport default {\r\n  components: { FormTextField },\r\n  name: \"DocumentSearchStatusRow\",\r\n  props: {\r\n    time: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    count: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    min_index: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    max_index: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    count_of_selected: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    is_searching: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  setup(props) {\r\n    const status = computed(() => {\r\n      if (props.is_searching) return ('Поиск...')\r\n      \r\n      let result =\r\n        \"Для поиска нажмите ENTER в любом окошке. Найдено \" + props.count.toString() + \"шт.\";\r\n      if (props.time) result += \" (\" + props.time.toString() + \" сек.)\";\r\n\r\n      if (props.min_index !== undefined && props.max_index !== undefined)\r\n        result +=\r\n          \" Показаны \" +\r\n          (props.min_index + 1).toString() +\r\n          \"-\" +\r\n          (props.max_index + 1).toString() +\r\n          \".\";\r\n\r\n      if (props.count_of_selected !== undefined)\r\n        result += \" Выделено \" + props.count_of_selected.toString() + \"шт.\";\r\n\r\n      return result;\r\n    });\r\n\r\n    return { status };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentsearchstatusrow {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>","import { render } from \"./DocumentSearchStatusRow.vue?vue&type=template&id=8c4e4b98&scoped=true\"\nimport script from \"./DocumentSearchStatusRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentSearchStatusRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentSearchStatusRow.vue?vue&type=style&index=0&id=8c4e4b98&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8c4e4b98\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"documentfilesrow\">\r\n    <div\r\n      class=\"documentfilesrow__fileblock\"\r\n      v-for=\"file in files\"\r\n      :key=\"file.id\"\r\n    >\r\n      <file-block\r\n        class=\"documentfilesrow__file\"\r\n        :file=\"file\"\r\n        :can_be_deleted=\"can_be_deleted\"\r\n        :can_be_dragged=\"can_be_dragged\"\r\n        @delete:file=\"$emit('delete:file', file.id)\"\r\n        @download:file=\"$emit('download:file', [file, $event])\"\r\n        @copy_link_to:file=\"$emit('copy_link_to:file', file)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FileBlock from \"../file/FileBlock.vue\";\r\n\r\nexport default {\r\n  components: { FileBlock },\r\n  name: \"DocumentFilesRow\",\r\n  props: {\r\n    files: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    can_be_deleted: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    can_be_dragged: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\"delete:file\", \"download:file\", \"copy_link_to:file\"],\r\n};\r\n</script>\r\n<style scoped>\r\n.documentfilesrow {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.documentfilesrow__fileblock {\r\n  padding: 5px;\r\n}\r\n</style>","import { render } from \"./DocumentFilesRow.vue?vue&type=template&id=7c3004b6&scoped=true\"\nimport script from \"./DocumentFilesRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentFilesRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentFilesRow.vue?vue&type=style&index=0&id=7c3004b6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c3004b6\"]])\n\nexport default __exports__","import { render } from \"./SearchComponent.vue?vue&type=template&id=1a8d1a54&scoped=true\"\nimport script from \"./SearchComponent.vue?vue&type=script&lang=js\"\nexport * from \"./SearchComponent.vue?vue&type=script&lang=js\"\n\nimport \"./SearchComponent.vue?vue&type=style&index=0&id=1a8d1a54&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a8d1a54\"]])\n\nexport default __exports__","import { render } from \"./ServersPage.vue?vue&type=template&id=5fad5f83&scoped=true\"\nimport script from \"./ServersPage.vue?vue&type=script&lang=js\"\nexport * from \"./ServersPage.vue?vue&type=script&lang=js\"\n\nimport \"./ServersPage.vue?vue&type=style&index=0&id=5fad5f83&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5fad5f83\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"message\">\r\n    <div class=\"message__text\">{{ text }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MessagePage\",\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.message {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 200px;\r\n}\r\n\r\n.message__text {\r\n  font-size: 24px;\r\n}\r\n</style>\r\n","import { render } from \"./MessagePage.vue?vue&type=template&id=78023fef\"\nimport script from \"./MessagePage.vue?vue&type=script&lang=js\"\nexport * from \"./MessagePage.vue?vue&type=script&lang=js\"\n\nimport \"./MessagePage.vue?vue&type=style&index=0&id=78023fef&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__",".<template>\r\n  <div class=\"page\">\r\n    <document-page-download-progress-row\r\n      class=\"page__downloadprogress\"\r\n      :files=\"downloading_files\"\r\n      :full_format=\"true\"\r\n    />\r\n    <div class=\"page__form-backdrop\" v-if=\"is_form_opened\">\r\n      <base-form\r\n        class=\"page__form\"\r\n        :attributes=\"form_attributes\"\r\n        :settings=\"form_pages\"\r\n        @update=\"handle_update_form_attribute($event.name, $event.value)\"\r\n        @close=\"handle_form_close()\"\r\n        @apply=\"handle_form_apply()\"\r\n      >\r\n      </base-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRoute } from \"vue-router\";\r\nimport { onMounted, computed, ref, reactive } from \"vue\";\r\nimport { VueUnitOfWork } from \"../../logic/service_layer/uow\";\r\nimport {\r\n  GetFileShareLink,\r\n  DownloadFileByFileShareLink,\r\n  Notify\r\n} from \"../../logic/domain/command\";\r\nimport { MessageBus } from \"../../logic/service_layer/message_bus\";\r\nimport DocumentPageDownloadProgressRow from \"../../components/document/DocumentPageDownloadProgressRow.vue\";\r\nimport BaseForm from \"../../components/forms/BaseForm.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPageDownloadProgressRow,\r\n    BaseForm,\r\n  },\r\n  name: \"DownloadFilePage\",\r\n\r\n  setup() {\r\n    const uow = new VueUnitOfWork();\r\n\r\n    const route = useRoute();\r\n    const file_id = route.params.file_id;\r\n    const link_id = route.params.link_id;\r\n\r\n    const downloading_files = computed(() =>\r\n      uow.download_progress.values().map((obj) => obj.value)\r\n    );\r\n\r\n    const download_file = async () => {\r\n      const results = await MessageBus.handle(\r\n        new GetFileShareLink(file_id, link_id),\r\n        uow\r\n      );\r\n      const link = results[0];\r\n      console.log(link);\r\n      if (link)\r\n        if (!link.is_secured)\r\n        await MessageBus.handle(\r\n          new DownloadFileByFileShareLink(file_id, link_id, null),\r\n          uow\r\n        )\r\n        else is_form_opened.value = true;\r\n    };\r\n\r\n    // FORM\r\n    const is_form_opened = ref(false);\r\n    const form_attributes = reactive({\r\n      PASSWORD: \"\",\r\n    });\r\n\r\n    const handle_form_close = () => {\r\n      is_form_opened.value = false;\r\n    };\r\n\r\n    const handle_form_apply = async () => {\r\n      const password = form_attributes[\"PASSWORD\"];\r\n\r\n      if (!password) {\r\n        await MessageBus.handle(new Notify(\"error\", \"Введите пароль\"), uow);\r\n        return;\r\n      }\r\n\r\n      is_form_opened.value = false;\r\n      await MessageBus.handle(\r\n        new DownloadFileByFileShareLink(file_id, link_id, password),\r\n        uow\r\n      );\r\n    };\r\n\r\n    const handle_update_form_attribute = (name, value) =>\r\n      (form_attributes[name] = value);\r\n\r\n    const form_pages = [\r\n      {\r\n        size: 400,\r\n        name: \"Защищенная ссылка\",\r\n        fields: [\r\n          {\r\n            type: \"FormTextField\",\r\n            parameters: {\r\n              font_weight: \"bold\",\r\n            },\r\n            value: \"Введите пароль:\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"PASSWORD\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    onMounted(async () => {\r\n      await download_file();\r\n    });\r\n\r\n    return {\r\n      downloading_files,\r\n\r\n      // FORM\r\n      is_form_opened,\r\n      form_pages,\r\n      form_attributes,\r\n      handle_update_form_attribute,\r\n      handle_form_apply,\r\n      handle_form_close,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  padding-right: 60px;\r\n}\r\n\r\n.page__downloadprogress {\r\n  margin-top: 20px;\r\n  min-height: 20px;\r\n}\r\n\r\n.page__form-backdrop {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.page__form {\r\n  background: #ffffff;\r\n  box-shadow: 2px 2px 20px 1px;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"documentpagedownloadprogressrow\">\r\n    <div\r\n      class=\"documentpagedownloadprogressrow__container\"\r\n      v-for=\"file in files\"\r\n      :key=\"file.id\"\r\n    >\r\n      <span\r\n        class=\"documentpagedownloadprogressrow__item\"\r\n        v-if=\"full_format\"\r\n        >Происходит скачивание файла \"{{file.name}}\" объемом {{ file.formatted_size() }} - {{ file.progress }}%</span\r\n      >\r\n      <span\r\n        class=\"documentpagedownloadprogressrow__item\"\r\n        v-if=\"!full_format && file.progress < 100\"\r\n        >({{ file.formatted_size() }} - {{ file.progress }}%)</span\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DocumentPageDownloadProgressRow\",\r\n  props: {\r\n    files: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    full_format: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentpagedownloadprogressrow {\r\n  display: flex;\r\n}\r\n.documentpagedownloadprogressrow__item {\r\n  padding: 3px;\r\n}\r\n</style>","import { render } from \"./DocumentPageDownloadProgressRow.vue?vue&type=template&id=30857a85&scoped=true\"\nimport script from \"./DocumentPageDownloadProgressRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPageDownloadProgressRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPageDownloadProgressRow.vue?vue&type=style&index=0&id=30857a85&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-30857a85\"]])\n\nexport default __exports__","import { render } from \"./DownloadFilePage.vue?vue&type=template&id=c9fe0e18&scoped=true\"\nimport script from \"./DownloadFilePage.vue?vue&type=script&lang=js\"\nexport * from \"./DownloadFilePage.vue?vue&type=script&lang=js\"\n\nimport \"./DownloadFilePage.vue?vue&type=style&index=0&id=c9fe0e18&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9fe0e18\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\r\n\r\nimport LoginPage from '../views/LoginPage.vue'\r\nimport MainPage from '../views/MainPage.vue'\r\nimport ServersPage from '../views/ServersPage.vue'\r\nimport MessagePage from '../views/service/MessagePage.vue'\r\nimport DownloadFilePage from '../views/download/DownloadFilePage'\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: '/files/:file_id/links/:link_id',\r\n    name: 'DownloadFilePage',\r\n    component: DownloadFilePage\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'LoginPage',\r\n    component: LoginPage\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'MainPage',\r\n    component: MainPage\r\n  },\r\n  {\r\n    path: '/servers',\r\n    name: 'ServersPage',\r\n    component: ServersPage\r\n  },\r\n  {\r\n    path: '/:pathMatch(.*)*',\r\n    name: 'PageNotFound',\r\n    component: MessagePage,\r\n    props: {text: \"Страница не найдена\"}\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","// Стили для уведомлений\r\nimport \"noty/lib/noty.css\";\r\nimport \"noty/lib/themes/relax.css\";\r\n\r\nimport { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\n\r\ncreateApp(App)\r\n  .use(router)\r\n  .mount(\".app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_project\"] = self[\"webpackChunkvue_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8884); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_base_page","class","_createElementBlock","_hoisted_1","_createVNode","_component_navigation_component","links","$setup","navigation_links","_component_router_view","Component","route","_Transition","name","meta","transitionName","_resolveDynamicComponent","key","path","_createElementVNode","_Fragment","_renderList","$props","item","route_name","_component_router_link","to","title","_hoisted_2","NotImplementedError","Error","AbstractBaseRepository","_deep_copy","obj","JSON","parse","stringify","_create_name","_name","Array","isArray","join","_set","_get","_delete","_add_key","_remove_key","_keys","_values","_pure_keys","_keys_box","_values_box","_pure_keys_box","_set_box","_get_box","_delete_box","_add_box_key","_remove_box_key","VueBaseRepository","constructor","super","this","_properties","inject","_reset","Object","keys","forEach","value","add_key","toString","prototype","hasOwnProperty","call","ref","empty","indexOf","push","filter","e","isRef","map","box_id","_keys_name","FlatMixin","reset","reset_keeping_refs","delete","get","set","pure_keys","values","VueFlatRepository","assign","CurrentMixin","set_current","get_current","is_current_settled","AuthenticatedMixin","is_authenticated","VueUserRepository","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","window","atob","c","charCodeAt","slice","get_exp_time_from_token","encoded_token","payload","getCookie","matches","document","cookie","match","RegExp","undefined","deleteCookie","setCookie","options","expires","Date","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","VueTokenMixin","get_access_token","get_refresh_token","_set_token","exp","date","sameSite","set_access_token","set_refresh_token","VueResetMixin","VueTokenRepository","VueFileMixin","set_size","file_id","size","set_total_size","set_size_complete","get_file","get_name","file","set_servers","servers","VueFileFlatRepository","DataClass","_data","_validate_using_schema","schema","data","ajv","Ajv","allErrors","allowUnionTypes","AjvErrors","validate","compile","errors","err","console","log","Tokens","type","properties","access_token","refresh_token","required","additionalProperties","Single","username","email","first_name","last_name","is_superuser","permissions","items","id","host","port","location","zone","latitude","longitude","is_on","is_active","created","updated","List","FileSingle","link","event","is_secured","expire_at","Request","Response","NegativeResponse","code","EmptyPositiveResponse","PositiveFileResponse","LoginCredentialsRequest","password","LoginCredentialsResponse","LogoutRequest","LogoutResponse","MyCredentialsRequest","MyCredentialsResponse","UserSingle","RefreshTokensRequest","RefreshTokensResponse","GetFilesRequest","GetFilesResponse","FileList","GetFileServersRequest","GetFileServersResponse","CdnServerList","DeleteFileRequest","DeleteFileResponse","RenameFileRequest","RenameFileResponse","GetCdnServersRequest","GetCdnServersResponse","AddCdnServerRequest","AddCdnServerResponse","CdnServerSingle","UpdateCdnServerRequest","UpdateCdnServerResponse","DeleteCdnServerRequest","DeleteCdnServerResponse","GetUploadLinkRequest","GetUploadLinkResponse","LinkSingle","GetDownloadLinkRequest","GetDownloadLinkResponse","GetUserActionsRequest","page_num","page_size","GetUserActionsResponse","count","UserActionList","UploadFileRequest","original_file","UploadFileResponse","DownloadFileRequest","DownloadFileResponse","AddFileShareLinkRequest","lifetime","AddFileShareLinkResponse","ShareLinkSingle","GetFileShareLinksRequest","GetFileShareLinksResponse","ShareLinkList","GetFileShareLinkRequest","link_id","GetFileShareLinkResponse","DeleteFileShareLinkRequest","DeleteFileShareLinkResponse","GetDownloadLinkByFileShareLinkRequest","GetDownloadLinkByFileShareLinkResponse","AbstractApi","_defineProperty","request","REQUEST_HANDLERS","func","_auth_token","get_auth_token","set_auth_token","HttpApiError","HttpApi","api_url","async","perform_request","method","parameters","content_type","set_upload_size_method","on_progress","response_type","set_download_size_method","set_size_method","login_with_credentials","logout","my_credentials","refresh_tokens","get_user_actions","get_cdn_servers","add_cdn_server","update_cdn_server","delete_cdn_server","get_files","get_file_servers","delete_file","rename_file","get_upload_link","upload_file","get_download_link","download_file","add_file_share_link","get_file_share_links","get_file_share_link","delete_file_share_link","get_download_link_by_file_share_link","positive_response_class","headers","result","http_call","message","operation_by_link","startsWith","url","URL","search","URLSearchParams","response","Promise","resolve","reject","xhr","XMLHttpRequest","open","responseType","setRequestHeader","length","onprogress","loaded","upload","onerror","onload","getResponseHeader","content_length","Number","parseInt","content_disposition","libmime","status_code","status","send","json_data","Blob","text","error","AbstractApiProvider","HttpApiProvider","args","origin","AbstractNotificator","NotyNotificator","Noty","default","show","do","layout","theme","timeout","progressBar","AbstractTimer","period","f","_callback","_timer","setInterval","_period","clearInterval","CountMixin","set_count","get_count","is_count_settled","VueCountableFlatRepository","token_timer","get_files_timer","AbstractUnitOfWork","messages","VueUnitOfWork","api","notificator","user_repository","action_repository","cdn_server_repository","token_repository","link_repository","file_repository","download_progress","props","setup","uow","user","__exports__","components","NavigationComponent","BasePage","provide","render","_component_heading_component","_component_form_text_input","credentials","onUpdate","_cache","$event","onKeyup","_withKeys","login_action","placeholder","autocomplete","secure","_hoisted_3","_component_btn_component","onClick","caption","logout_action","Command","Notify","level","NotifyApiError","LoginWithCredentials","Logout","MyCredentials","RefreshTokens","GetCdnServers","AddCdnServer","UpdateCdnServer","DeleteCdnServer","GetUserActions","GetFiles","GetFileServers","DeleteFile","RenameFile","DownloadFile","UploadFile","UploadFileByLink","DownloadFileByLink","AddFileShareLink","GetFileShareLinks","FlushFileShareLinks","GetFileShareLink","DeleteFileShareLink","DownloadFileByFileShareLink","Event","ApiError","UserLoginSuccess","RefreshTokenOutdated","UserLogoutSuccess","UploadFileError","filename","UploadFileTooBigError","UploadFileSuccess","DownloadFileSuccess","RenameFileSuccess","DeleteFileSuccess","FileShareLinkCopied","FileShareLinkDeleted","CdnServerAdded","CdnServerUpdated","CdnServerDeleted","WrongErrorType","notify","actions","success","warning","info","notify_api_error","push_message","User","_username","_email","_first_name","_last_name","_is_superuser","_permissions","CdnServer","_id","_host","_port","_location","_zone","_latitude","_longitude","_is_on","_is_active","_created","_updated","to_dict","UserAction","_event","_file_uploaded_text","_file_downloaded_text","_file_renamed_text","_file_deleted_text","_file_share_link_created_text","_file_share_link_deleted_text","_cdn_server_created_text","_cdn_server_updated_text","_cdn_server_deleted_text","toLocaleString","timeZone","ShareLink","_file","_is_secured","_expire_at","is_expired","now","expire_text","File","total_size","_total_size","_servers","_uploaded_size","names_of_servers","x","new_servers","_formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","parseFloat","pow","toFixed","formatted_size","progress","uploaded","WrongResponseError","convert_user_response_obj_to_model","start","convert_user_action_response_obj_to_model","convert_cdn_server_response_obj_to_model","get_extension_of_file","pop","js_download_file","mime","bom","inline","is_pdf","toLowerCase","is_html","blobData","blob","navigator","msSaveBlob","blobURL","createObjectURL","webkitURL","tempLink","createElement","style","display","href","innerText","download","setAttribute","addEventListener","preventDefault","new_window","head","appendChild","body","click","setTimeout","removeChild","revokeObjectURL","convert_file_response_obj_to_model","upload_file_by_link","download_file_by_link","uuidv4","convert_file_link_response_obj_to_model","flush_file_share_links","download_file_by_file_share_link","handle_api_error","user_login_success","access_token_outdated","refresh_token_outdated","router","user_logout_success","upload_file_error","upload_file_success","download_file_success","rename_file_success","delete_file_success","file_share_link_copied","file_share_link_deleted","cdn_server_added","cdn_server_updated","cdn_server_deleted","COMMAND_HANDLERS","EVENT_HANDLERS","AccessTokenOutdated","MessageBus","static","quenue","handle_function","current_message","new_messages","handle_command","concat","handle_event","promises","all","handlers","command_result","handler","events","collect_new_messages","_normalizeClass","disabled","String","Boolean","_normalizeStyle","is_disabled","onInput","_ctx","$emit","target","emits","emit","default_value","height","computed","color","BtnComponent","HeadingComponent","FormTextInput","reactive","useRouter","useRoute","handle","query","stop","is_form_opened","_component_base_form","attributes","form_attributes","settings","form_pages","handle_update_form_attribute","onClose","handle_form_close","onApply","handle_form_apply","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","perm","selected_file_id","_hoisted_25","_component_form_text_field","font_weight","selected_file_name","handle_rename_file","_hoisted_26","_component_file_list","files","downloading_files","can_be_deleted","can_be_dragged","_component_file_drop_zone","page__filedropzone_dragging","is_drag_above_file_zone","handle_new_file_drop","_hoisted_27","max_file_size","multiple","onChange","_hoisted_28","_component_document_pagination_row","total_count","ua_total_count","count_per_page","ua_count_per_page","current_page","ua_current_page","variants","ua_variants","ua_select_count_per_page","ua_select_page","user_actions","action","_hoisted_29","_hoisted_30","_hoisted_31","share_links","handle_delete_link","_hoisted_33","_hoisted_34","_hoisted_35","make_share_link_for_selected_file","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","server","can_change_server","_component_form_boolean_input","hint","handle_activate_server","filerow_selected","_hoisted_43","handle_select_file","_hoisted_44","handle_delete","_hoisted_46","_component_file_block","handle_download","handle_copy_link","_hoisted_47","_hoisted_48","includes","_component_text_button","is_intermediate_part_shown","has_intermediate_part","pages_before","page","index","pages_after","pages","textbutton_disabled","TextButton","max_count_of_pages","count_before","count_after","from","ceil","num","min","max","find","watch","newValue","onMounted","onDrop","_withModifiers","handleDrop","onDragover","onDragenter","is_dragging","onDragleave","_renderSlot","$slots","filename_pattern","regexp","dataTransfer","oldValue","is_rename_active","draggable","onDragstart","handle_drag_start","onDragend","is_uploaded","can_be_renamed","_component_toggle_text_button","fileblock__renamebutton_red","activeTitle","passiveTitle","isActive","handle_click_on_rename_button","progress_str","ToggleTextButton","evt","setData","ext","basename","substring","FileBlock","width","form_width","is_header_required","page_index","page_name","page_count","page_fields","field","context","make_field_context","bind","align","checked","FormTextField","FormBooleanInput","page_settings","bind_context","filterArrayOfObjectsByQuery","arrOfObjects","queryObject","to_be_taken","needle","key_names","rule","haystack","useBeforeEnterPage","auto_login_action","fullPath","convertStringToDate","parts","NaN","useDataEncode","converter","converters","date_to_timestamp","convertDateToTimestamp","date_to_iso_string","convertDateToIsoString","date_to_date_object","convertDateToDateObject","converter_func","useCurrentMixin","init_obj","repository","from_repository_convertion","current_id","current","convertObject","handle_update_attribute","useSelectionMixin","all_items","items_seen_on_page","selected_item_ids","count_of_selected_items","handle_select_item","reset_selection","is_all_selected","handle_select_all_items","selected_items","usePaginationMixin","pagination_variants","pagination_count_per_page","pagination_current_page","pagination_min_index","pagination_max_index","handle_set_page_range","paginated_items","convert_functions","exclude_keys","isNaN","getTime","toISOString","convertDateToDateTimeString","useGetSortFunction","sort_default","a","b","sort_numbers","sort_strings","localeCompare","sort_change_order_number","id_a","year_a","id_b","year_b","compare_years","compare_ids","rules","DEFAULT","INTEGER","STRING","BOOL","DATE","CHANGE_ORDER_NUMBER","FileDropZone","DocumentPaginationRow","BaseForm","toSorted","refresh_actions","arr","make_share_link","params","handle_copy_link_into_clipboard","clipboard","writeText","then","FILE_ID","LIFETIME","PASSWORD","results","fields","set_callback","is_edit_mode","can_add","add_action","is_edit_block_valid","can_change","update_action","can_delete","delete_action","_component_search_component","search_schema","model_objects","convert_obj_to_item","convert_model_to_item","sort_by","sort_asc","search_time","is_searching","should_emit_search_event_on_any_keypress","onChoose","onSearch","search_action","_component_document_page_search_row","required_space_for_link","has_link","is_selection_required","_component_document_search_status_row","time","min_index","max_index","_component_document_page_sort_row","var_sort_asc","var_sort_by","var_sort_rule","searchcomponent__row_selected","_component_document_attribute_row","link_route_obj","link_to_single_page","is_selected","is_files_shown","_component_document_files_row","attachments","_component_sized_div","block","grow","get_component_name","get_query_value","get_parameters","emit_search_event","set_query_value","is_tuning_mode","_component_tuning_item","handle_choose_value","option","selected","str_index","_component_form_select_input","onMousedown","handle_click_on_target","filtered_options","FormSelectInput","toUpperCase","_component_icon_button","icon_on","prev_size","next_size","icon_off","IconButton","size_variants","idx","SizedDiv","FormFilteredSelectInput","TuningItem","is_clean_required","get_query_key","encoded_query","property","re","is_pattern_valid","get_initial_value","reset_query","regexp_str","str","get_query_item","boolean_input_parameters","select_input_parameters","text_input_parameters","documentattributerow_modified","is_highlighted","get_bool_attribute","_component_form_date_input","round","date_str","handle_update_date","valueAsNumber","FormDateInput","_component_arrow_switch","is_checked","getSortNameAndFunction","sort_rule","ArrowSwitch","block_name","sort_rule_name","count_of_selected","DocumentPageSearchRow","DocumentAttributeRow","DocumentPageSortRow","DocumentSearchStatusRow","DocumentFilesRow","Function","var_sort_func","sort","SearchComponent","query_for_internal_search","to_repository_convertion","_component_document_page_download_progress_row","full_format","DocumentPageDownloadProgressRow","routes","component","DownloadFilePage","LoginPage","MainPage","ServersPage","MessagePage","createRouter","history","createWebHistory","process","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}