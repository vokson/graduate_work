{"version":3,"file":"js/app.90842a6e.js","mappings":"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","sources":["webpack://vue_project/./src/App.vue","webpack://vue_project/./src/views/BasePage.vue","webpack://vue_project/./src/components/navigation/NavigationComponent.vue","webpack://vue_project/./src/logic/adapters/base_repository.js","webpack://vue_project/./src/logic/adapters/flat_repository.js","webpack://vue_project/./src/logic/adapters/mixins/current.js","webpack://vue_project/./src/logic/adapters/user_repository.js","webpack://vue_project/./src/logic/adapters/token_repository.js","webpack://vue_project/./src/logic/adapters/file_flat_repository.js","webpack://vue_project/./src/logic/domain/dataclass.js","webpack://vue_project/./src/logic/adapters/api_responses/models/tokens.js","webpack://vue_project/./src/logic/adapters/api_responses/models/user.js","webpack://vue_project/./src/logic/adapters/api_responses/models/cdn_server.js","webpack://vue_project/./src/logic/adapters/api_responses/models/file.js","webpack://vue_project/./src/logic/adapters/api_responses/models/link.js","webpack://vue_project/./src/logic/adapters/api_responses/models/user_action.js","webpack://vue_project/./src/logic/adapters/api_responses/models/file_share_link.js","webpack://vue_project/./src/logic/adapters/api.js","webpack://vue_project/./src/logic/adapters/api_http.js","webpack://vue_project/./src/logic/adapters/api_provider.js","webpack://vue_project/./src/logic/adapters/notificator.js","webpack://vue_project/./src/logic/adapters/timer.js","webpack://vue_project/./src/logic/adapters/mixins/count.js","webpack://vue_project/./src/logic/adapters/countable_flat_repository.js","webpack://vue_project/./src/logic/service_layer/uow.js","webpack://vue_project/./src/components/navigation/NavigationComponent.vue?1434","webpack://vue_project/./src/views/BasePage.vue?a8b8","webpack://vue_project/./src/App.vue?7ccd","webpack://vue_project/./src/views/LoginPage.vue","webpack://vue_project/./src/logic/domain/command.js","webpack://vue_project/./src/logic/domain/event.js","webpack://vue_project/./src/logic/service_layer/command_handlers/common_handlers.js","webpack://vue_project/./src/logic/domain/model.js","webpack://vue_project/./src/logic/service_layer/command_handlers/user_handlers.js","webpack://vue_project/./src/logic/service_layer/command_handlers/cdn_server_handlers.js","webpack://vue_project/./src/logic/service_layer/utils/filename.js","webpack://vue_project/./src/logic/service_layer/utils/file_download.js","webpack://vue_project/./src/logic/service_layer/command_handlers/file_handlers.js","webpack://vue_project/./src/logic/service_layer/event_handlers.js","webpack://vue_project/./src/logic/service_layer/message_bus.js","webpack://vue_project/./src/components/buttons/BtnComponent.vue","webpack://vue_project/./src/components/buttons/BtnComponent.vue?3d80","webpack://vue_project/./src/components/HeadingComponent.vue","webpack://vue_project/./src/components/HeadingComponent.vue?fb86","webpack://vue_project/./src/components/fields/FormTextInput.vue","webpack://vue_project/./src/components/fields/FormTextInput.vue?cd20","webpack://vue_project/./src/views/LoginPage.vue?fce3","webpack://vue_project/./src/views/MainPage.vue","webpack://vue_project/./src/components/document/DocumentPaginationRow.vue","webpack://vue_project/./src/components/buttons/TextButton.vue","webpack://vue_project/./src/components/buttons/TextButton.vue?2665","webpack://vue_project/./src/components/document/DocumentPaginationRow.vue?2669","webpack://vue_project/./src/components/file/FileDropZone.vue","webpack://vue_project/./src/components/file/FileDropZone.vue?4a60","webpack://vue_project/./src/components/file/FileBlock.vue","webpack://vue_project/./src/components/buttons/ToggleTextButton.vue","webpack://vue_project/./src/components/buttons/ToggleTextButton.vue?7a9c","webpack://vue_project/./src/components/file/FileBlock.vue?e3ec","webpack://vue_project/./src/components/file/FileList.vue","webpack://vue_project/./src/components/file/FileList.vue?1d44","webpack://vue_project/./src/components/forms/BaseForm.vue","webpack://vue_project/./src/components/fields/FormTextField.vue","webpack://vue_project/./src/components/fields/FormTextField.vue?8ba2","webpack://vue_project/./src/components/fields/FormHtmlField.vue","webpack://vue_project/./src/components/fields/FormHtmlField.vue?f02c","webpack://vue_project/./src/components/fields/FormBooleanInput.vue","webpack://vue_project/./src/components/fields/FormBooleanInput.vue?b978","webpack://vue_project/./src/components/fields/FormMultilineTextInput.vue","webpack://vue_project/./src/components/fields/FormMultilineTextInput.vue?3dee","webpack://vue_project/./src/components/fields/FormDateInput.vue","webpack://vue_project/./src/components/fields/FormDateInput.vue?fc74","webpack://vue_project/./src/components/fields/FormEmailToAddressField.vue","webpack://vue_project/./src/components/fields/FormEmailToAddressField.vue?4174","webpack://vue_project/./src/components/fields/FormEmailToAddressInput.vue","webpack://vue_project/./src/components/fields/FormEmailToAddressInput.vue?3c92","webpack://vue_project/./src/components/fields/FormHtmlInput.vue","webpack://vue_project/./src/components/fields/FormHtmlInput.vue?6f9c","webpack://vue_project/./src/components/fields/FormSelectInput.vue","webpack://vue_project/./src/components/fields/FormSelectInput.vue?f7b0","webpack://vue_project/./src/components/fields/FormFilteredSelectInput.vue","webpack://vue_project/./src/components/fields/FormFilteredSelectInput.vue?5112","webpack://vue_project/./src/components/forms/BaseForm.vue?93a1","webpack://vue_project/./src/logic/service_layer/use_modules.js","webpack://vue_project/./src/views/MainPage.vue?5494","webpack://vue_project/./src/views/ServersPage.vue","webpack://vue_project/./src/components/SearchComponent.vue","webpack://vue_project/./src/components/document/DocumentPageSearchRow.vue","webpack://vue_project/./src/components/SizedDiv.vue","webpack://vue_project/./src/components/SizedDiv.vue?f107","webpack://vue_project/./src/components/document/TuningItem.vue","webpack://vue_project/./src/components/buttons/IconButton.vue","webpack://vue_project/./src/components/buttons/IconButton.vue?929d","webpack://vue_project/./src/components/document/TuningItem.vue?ad77","webpack://vue_project/./src/components/document/DocumentPageSearchRow.vue?9ce3","webpack://vue_project/./src/components/document/DocumentAttributeRow.vue","webpack://vue_project/./src/components/document/DocumentAttributeRow.vue?0dac","webpack://vue_project/./src/components/document/DocumentPageSortRow.vue","webpack://vue_project/./src/components/buttons/ArrowSwitch.vue","webpack://vue_project/./src/components/buttons/ArrowSwitch.vue?3deb","webpack://vue_project/./src/components/document/DocumentPageSortRow.vue?0147","webpack://vue_project/./src/components/document/DocumentSearchStatusRow.vue","webpack://vue_project/./src/components/document/DocumentSearchStatusRow.vue?3de7","webpack://vue_project/./src/components/document/DocumentFilesRow.vue","webpack://vue_project/./src/components/document/DocumentFilesRow.vue?91a5","webpack://vue_project/./src/components/SearchComponent.vue?c49b","webpack://vue_project/./src/views/ServersPage.vue?5145","webpack://vue_project/./src/views/service/MessagePage.vue","webpack://vue_project/./src/views/service/MessagePage.vue?3696","webpack://vue_project/./src/views/download/DownloadFilePage.vue","webpack://vue_project/./src/components/document/DocumentPageDownloadProgressRow.vue","webpack://vue_project/./src/components/document/DocumentPageDownloadProgressRow.vue?ef8b","webpack://vue_project/./src/views/download/DownloadFilePage.vue?7238","webpack://vue_project/./src/router/index.js","webpack://vue_project/./src/main.js","webpack://vue_project/webpack/bootstrap","webpack://vue_project/webpack/runtime/chunk loaded","webpack://vue_project/webpack/runtime/compat get default export","webpack://vue_project/webpack/runtime/define property getters","webpack://vue_project/webpack/runtime/global","webpack://vue_project/webpack/runtime/hasOwnProperty shorthand","webpack://vue_project/webpack/runtime/jsonp chunk loading","webpack://vue_project/webpack/startup"],"sourcesContent":["<template>\r\n  <base-page />\r\n</template>\r\n\r\n<script>\r\nimport { provide } from \"vue\";\r\nimport BasePage from \"./views/BasePage.vue\";\r\n\r\nexport default {\r\n  components: { BasePage },\r\n  name: \"App\",\r\n  setup() {\r\n    provide(\"download_progress\", {});\r\n    provide(\"users\", {});\r\n    provide(\"tokens\", {});\r\n\r\n    provide(\"cdn_servers\", {});\r\n    provide(\"user_actions\", {});\r\n    provide(\"files\", {});\r\n    provide(\"file_share_links\", {});\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"container\">\r\n    <navigation-component :links=\"navigation_links\" />\r\n    <router-view v-slot=\"{ Component, route }\">\r\n      <transition :name=\"route.meta.transitionName\">\r\n        <component :is=\"Component\" :key=\"route.path\" />\r\n      </transition>\r\n    </router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavigationComponent from \"../components/navigation/NavigationComponent.vue\";\r\n\r\nexport default {\r\n  components: { NavigationComponent },\r\n  name: \"BasePage\",\r\n\r\n  setup() {\r\n    const navigation_links = [\r\n      { route_name: \"LoginPage\", title: \"\" },\r\n      { route_name: \"MainPage\", title: \"\" },\r\n      { route_name: \"ServersPage\", title: \"CDN\" },\r\n    ];\r\n\r\n    return {\r\n      navigation_links,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/*  box sizing */\r\n*,\r\n*::before,\r\n*::after {\r\n  box-sizing: border-box;\r\n}\r\n\r\n/*    */\r\nul[class],\r\nol[class] {\r\n  padding: 0;\r\n}\r\n\r\n/*    */\r\nbody,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\np,\r\nul[class],\r\nol[class],\r\nli,\r\nfigure,\r\nfigcaption,\r\nblockquote,\r\ndl,\r\ndd {\r\n  margin: 0;\r\n}\r\n\r\nhtml {\r\n  height: 100%;\r\n}\r\n\r\n/*    -  body */\r\nbody {\r\n  min-height: 100vh;\r\n  scroll-behavior: smooth;\r\n  text-rendering: optimizeSpeed;\r\n  height: 100%;\r\n}\r\n\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/*      ul  il,     class*/\r\nul[class],\r\nol[class] {\r\n  list-style: none;\r\n}\r\n\r\n/*  a,    ,     */\r\na:not([class]) {\r\n  text-decoration-skip-ink: auto;\r\n}\r\n\r\n/*     */\r\nimg {\r\n  max-width: 100%;\r\n  display: block;\r\n}\r\n\r\n/*        article*/\r\narticle > * + * {\r\n  margin-top: 1em;\r\n}\r\n\r\n/*       */\r\ninput,\r\nbutton,\r\ntextarea,\r\nselect {\r\n  font: inherit;\r\n}\r\n\r\n/*       ,      */\r\n@media (prefers-reduced-motion: reduce) {\r\n  * {\r\n    animation-duration: 0.01ms !important;\r\n    animation-iteration-count: 1 !important;\r\n    transition-duration: 0.01ms !important;\r\n    scroll-behavior: auto !important;\r\n  }\r\n}\r\n\r\n/*   */\r\n\r\n.app {\r\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\r\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\r\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\r\n  font-size: 16px;\r\n  height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"nav\">\r\n    <div v-for=\"item in links\" v-bind:key=\"item.route_name\" class=\"nav__links\">\r\n      <router-link class=\"nav__item\" :to=\"{ name: item.route_name }\">{{\r\n        item.title\r\n      }}</router-link>\r\n    </div>\r\n\r\n    <div class=\"nav__empty\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { VueUnitOfWork } from \"../../logic/service_layer/uow\";\r\n\r\nexport default {\r\n  name: \"NavigationComponent\",\r\n  props: {\r\n    links: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  setup() {\r\n    const uow = new VueUnitOfWork();\r\n    const user = uow.user_repository.get_current(); // Ref\r\n    return { user };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.nav {\r\n  display: flex;\r\n  justify-content: right;\r\n  align-items: center;\r\n  background-color: #f8f9fa;\r\n  border-bottom-width: 1px;\r\n  border-bottom-style: solid;\r\n  border-bottom-color: rgb(222, 226, 230);\r\n}\r\n\r\n.nav__empty {\r\n  flex-grow: 1;\r\n}\r\n\r\n.nav__item {\r\n  display: block;\r\n  box-sizing: border-box;\r\n  text-decoration: none;\r\n  border: solid transparent;\r\n  border-width: 1px 1px 0 1px;\r\n  border-top-left-radius: 0.25rem;\r\n  border-top-right-radius: 0.25rem;\r\n  padding: 10px;\r\n  text-align: left;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  color: #007bff;\r\n}\r\n\r\n.nav__item:link,\r\n.nav__item:visited {\r\n  color: #007bff;\r\n}\r\n\r\n.nav__item:focus,\r\n.nav__item:hover {\r\n  color: darkblue;\r\n  border-color: rgb(222, 226, 230);\r\n}\r\n</style>","import { inject, isRef, ref } from \"vue\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass AbstractBaseRepository {\r\n  _deep_copy(obj) {\r\n    return JSON.parse(JSON.stringify(obj));\r\n  }\r\n\r\n  _create_name(name) {\r\n    const _name = Array.isArray(name) ? name.join() : name;\r\n    return _name;\r\n  }\r\n\r\n  _set() {\r\n    throw new NotImplementedError('\"set\" method has not been implemented');\r\n  }\r\n\r\n  _get() {\r\n    throw new NotImplementedError('\"get\" method has not been implemented');\r\n  }\r\n\r\n  _delete() {\r\n    throw new NotImplementedError('\"delete\" method has not been implemented');\r\n  }\r\n\r\n  _add_key() {\r\n    throw new NotImplementedError('\"add_key\" method has not been implemented');\r\n  }\r\n\r\n  _remove_key() {\r\n    throw new NotImplementedError(\r\n      '\"remove_key\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _keys() {\r\n    throw new NotImplementedError('\"keys\" method has not been implemented');\r\n  }\r\n\r\n  _values() {\r\n    throw new NotImplementedError('\"values\" method has not been implemented');\r\n  }\r\n\r\n  _pure_keys() {\r\n    throw new NotImplementedError(\r\n      '\"pure keys\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _keys_box() {\r\n    throw new NotImplementedError('\"keys box\" method has not been implemented');\r\n  }\r\n\r\n  _values_box() {\r\n    throw new NotImplementedError(\r\n      '\"values box\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _pure_keys_box() {\r\n    throw new NotImplementedError(\r\n      '\"pure keys box\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _set_box() {\r\n    throw new NotImplementedError('\"set_box\" method has not been implemented');\r\n  }\r\n\r\n  _get_box() {\r\n    throw new NotImplementedError('\"get_box\" method has not been implemented');\r\n  }\r\n\r\n  _delete_box() {\r\n    throw new NotImplementedError(\r\n      '\"delete_box\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _add_box_key() {\r\n    throw new NotImplementedError(\r\n      '\"add_box_key\" method has not been implemented'\r\n    );\r\n  }\r\n\r\n  _remove_box_key() {\r\n    throw new NotImplementedError(\r\n      '\"remove_box_key\" method has not been implemented'\r\n    );\r\n  }\r\n}\r\n\r\nclass VueBaseRepository extends AbstractBaseRepository {\r\n  constructor(name) {\r\n    super();\r\n    this._properties = inject(name);\r\n  }\r\n\r\n  _reset() {\r\n    Object.keys(this._properties).forEach((key) => {\r\n      delete this._properties[key];\r\n    });\r\n  }\r\n\r\n  _set(name, value, add_key = true) {\r\n    const _name = name.toString();\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, _name)) {\r\n      this._properties[_name] = ref(value);\r\n    } else {\r\n      this._properties[_name].value = value;\r\n    }\r\n    if (add_key) this._add_key(_name);\r\n  }\r\n\r\n  _get(name, empty = null) {\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, name)) {\r\n      this._set(name, this._deep_copy(empty), false);\r\n    }\r\n    return this._properties[name];\r\n  }\r\n\r\n  _delete(name) {\r\n    const _name = name.toString();\r\n    this._set(_name, null);\r\n    this._remove_key(_name);\r\n  }\r\n\r\n  _add_key(name) {\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, \"__KEYS__\")) {\r\n      this._properties[\"__KEYS__\"] = ref([]);\r\n    }\r\n\r\n    const keys = this._get(\"__KEYS__\");\r\n    if (keys.value.indexOf(name) === -1) {\r\n      keys.value.push(name);\r\n    }\r\n  }\r\n\r\n  _remove_key(name) {\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, \"__KEYS__\"))\r\n      return;\r\n\r\n    this._properties[\"__KEYS__\"].value = this._properties[\r\n      \"__KEYS__\"\r\n    ].value.filter((e) => e !== name);\r\n  }\r\n\r\n  _keys() {\r\n    return this._get(\"__KEYS__\", []);\r\n  }\r\n\r\n  _pure_keys() {\r\n    const keys = this._keys();\r\n    return isRef(keys) ? keys.value : keys;\r\n  }\r\n\r\n  _values() {\r\n    return this._keys().value.map((key) => this._get(key));\r\n  }\r\n\r\n  _keys_box(box_id) {\r\n    const _name = this._create_name([\"BOX\", box_id, \"__KEYS__\"]);\r\n    return this._get(_name, []);\r\n  }\r\n\r\n  _pure_keys_box(box_id) {\r\n    const keys = this._keys_box(box_id);\r\n    return isRef(keys) ? keys.value : keys;\r\n  }\r\n\r\n  _values_box(box_id) {\r\n    return this._keys_box(box_id).value.map((key) =>\r\n      this._get_box(box_id, key)\r\n    );\r\n  }\r\n\r\n  _set_box(box_id, name, value) {\r\n    const _name = this._create_name([\"BOX\", box_id, name]);\r\n    this._set(_name, value, false);\r\n    this._add_box_key(box_id, name.toString());\r\n  }\r\n\r\n  _get_box(box_id, name, empty = null) {\r\n    const _name = this._create_name([\"BOX\", box_id, name]);\r\n    return this._get(_name, empty);\r\n  }\r\n\r\n  _delete_box(box_id, name) {\r\n    const _name = this._create_name([\"BOX\", box_id, name]);\r\n    this._delete(_name);\r\n    this._remove_box_key(box_id, name.toString());\r\n  }\r\n\r\n  _add_box_key(box_id, name) {\r\n    const _keys_name = this._create_name([\"BOX\", box_id, \"__KEYS__\"]);\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, _keys_name)) {\r\n      this._properties[_keys_name] = ref([]);\r\n    }\r\n\r\n    const keys = this._get(_keys_name);\r\n    if (keys.value.indexOf(name) === -1) {\r\n      keys.value.push(name);\r\n    }\r\n  }\r\n\r\n  _remove_box_key(box_id, name) {\r\n    const _keys_name = this._create_name([\"BOX\", box_id, \"__KEYS__\"]);\r\n    if (!Object.prototype.hasOwnProperty.call(this._properties, _keys_name))\r\n      return;\r\n\r\n    this._properties[_keys_name].value = this._properties[\r\n      _keys_name\r\n    ].value.filter((e) => e !== name);\r\n  }\r\n}\r\n\r\nexport { VueBaseRepository };\r\n","import { VueBaseRepository } from \"./base_repository\";\r\n\r\nconst FlatMixin = {\r\n  reset() {\r\n    this._reset();\r\n  },\r\n\r\n  reset_keeping_refs() {\r\n    this.keys().value.forEach((key) => this.delete(key));\r\n  },\r\n\r\n  get(name) {\r\n    return this._get(name);\r\n  },\r\n\r\n  set(name, value) {\r\n    // console.log(name, value)\r\n    return this._set(name, value);\r\n  },\r\n\r\n  delete(name) {\r\n    return this._delete(name);\r\n  },\r\n\r\n  keys() {\r\n    return this._keys();\r\n  },\r\n\r\n  pure_keys() {\r\n    return this._pure_keys();\r\n  },\r\n\r\n  values() {\r\n    return this._values();\r\n  },\r\n};\r\n\r\nclass VueFlatRepository extends VueBaseRepository {}\r\nObject.assign(VueBaseRepository.prototype, FlatMixin);\r\n\r\nexport { VueFlatRepository };\r\n","const CurrentMixin = {\r\n  set_current(obj) {\r\n    this._set_box(\"__CURRENT__\", \"__CURRENT__\", obj);\r\n  },\r\n\r\n  get_current() {\r\n    return this._get_box(\"__CURRENT__\", \"__CURRENT__\");\r\n  },\r\n\r\n  is_current_settled() {\r\n    return this._get_box(\"__CURRENT__\", \"__CURRENT__\").value !== null;\r\n  },\r\n};\r\n\r\nexport { CurrentMixin };\r\n","import { VueFlatRepository } from \"./flat_repository\";\r\nimport { CurrentMixin } from \"./mixins/current\";\r\n\r\nconst AuthenticatedMixin = {\r\n  is_authenticated() {\r\n    return this.is_current_settled();\r\n  },\r\n};\r\n\r\n\r\nclass VueUserRepository extends VueFlatRepository {}\r\nObject.assign(\r\n  VueUserRepository.prototype,\r\n  CurrentMixin,\r\n  AuthenticatedMixin,\r\n);\r\n\r\nexport { VueUserRepository };\r\n","/* eslint-disable */\r\n\r\nimport { VueBaseRepository } from \"./base_repository\";\r\n\r\nfunction parseJwt(token) {\r\n  var base64Url = token.split('.')[1];\r\n  var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n  var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function (c) {\r\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n  }).join(''));\r\n\r\n  return JSON.parse(jsonPayload);\r\n}\r\n\r\nconst get_exp_time_from_token = (encoded_token) => {\r\n  const payload = parseJwt(encoded_token)\r\n  return payload['exp']\r\n}\r\n\r\nfunction getCookie(name) {\r\n  let matches = document.cookie.match(new RegExp(\r\n    \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n  ));\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nfunction deleteCookie(name) {\r\n  setCookie(name, \"\", {\r\n    'max-age': -1\r\n  })\r\n}\r\n\r\nfunction setCookie(name, value, options = {}) {\r\n\r\n  options = {\r\n    path: '/',\r\n    //       \r\n    ...options\r\n  };\r\n\r\n  if (options.expires instanceof Date) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n  for (let optionKey in options) {\r\n    updatedCookie += \"; \" + optionKey;\r\n    let optionValue = options[optionKey];\r\n    if (optionValue !== true) {\r\n      updatedCookie += \"=\" + optionValue;\r\n    }\r\n  }\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\n\r\n\r\nconst VueTokenMixin = {\r\n  get_access_token() {\r\n    return getCookie('access_token')\r\n  },\r\n\r\n  get_refresh_token() {\r\n    return getCookie('refresh_token')\r\n  },\r\n\r\n  _set_token(name, token) {\r\n    const exp = get_exp_time_from_token(token)\r\n    const date = new Date(exp * 1000);\r\n    setCookie(name, token, {sameSite: 'strict', 'expires': date});\r\n  },\r\n\r\n  set_access_token(token) {\r\n    this._set_token(\"access_token\", token);\r\n  },\r\n\r\n  set_refresh_token(token) {\r\n    this._set_token(\"refresh_token\", token);\r\n  },\r\n};\r\n\r\nconst VueResetMixin = {\r\n  reset() {\r\n    deleteCookie('access_token');\r\n    deleteCookie('refresh_token');\r\n  },\r\n};\r\n\r\nclass VueTokenRepository extends VueBaseRepository {}\r\nObject.assign(VueTokenRepository.prototype, VueTokenMixin, VueResetMixin);\r\n\r\nexport { VueTokenRepository };\r\n","import { VueFlatRepository } from \"./flat_repository\";\r\n\r\nconst VueFileMixin = {\r\n  reset() {\r\n    this.keys().value.forEach((key) => this.delete(key));\r\n  },\r\n\r\n  set_size(file_id, size) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.set_size(size);\r\n  },\r\n\r\n  set_total_size(file_id, size) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.set_total_size(size);\r\n  },\r\n\r\n  set_size_complete(file_id) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.set_size_complete();\r\n  },\r\n\r\n  get_file(file_id) {\r\n    return this.get(file_id).value;\r\n  },\r\n\r\n  get_name(file_id) {\r\n    const file = this.get(file_id).value;\r\n    return file.name;\r\n  },\r\n\r\n  set_servers(file_id, servers) {\r\n    const obj = this.get(file_id).value;\r\n    if (obj) obj.servers = servers;\r\n  },\r\n};\r\n\r\nclass VueFileFlatRepository extends VueFlatRepository {}\r\nObject.assign(VueFileFlatRepository.prototype, VueFileMixin);\r\n\r\nexport { VueFileFlatRepository };\r\n","import Ajv from \"ajv\";\r\nimport AjvErrors from \"ajv-errors\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass DataClass {\r\n  constructor(obj) {\r\n    this._data = undefined;\r\n\r\n    //   ,   \r\n    if (obj === undefined) return;\r\n\r\n    this._validate_using_schema(obj, this.schema);\r\n  }\r\n\r\n  get data() {\r\n    if (this._data === undefined) {\r\n      throw new NotImplementedError(\"DataClass.data has not been assigned\");\r\n    }\r\n\r\n    return this._data;\r\n  }\r\n\r\n  get schema() {\r\n    throw new NotImplementedError(\"Json schema is not defined\");\r\n  }\r\n\r\n  _validate_using_schema(obj, schema) {\r\n    this.ajv = new Ajv({ allErrors: true, allowUnionTypes: true});\r\n    AjvErrors(this.ajv);\r\n\r\n    const validate = this.ajv.compile(schema); // Ref\r\n    validate(obj);\r\n    // console.log(schema)\r\n    // console.log(obj)\r\n\r\n    if (validate.errors !== null) {\r\n      validate.errors.forEach((err) => console.log(err));\r\n      throw new NotImplementedError(\r\n        \"Object \" + obj.constructor.name + \" does not correspond to json schema\"\r\n      );\r\n    }\r\n\r\n    this._data = obj;\r\n  }\r\n\r\n}\r\n\r\nexport { DataClass };\r\n","const Tokens = {\r\n  type: \"object\",\r\n  properties: {\r\n    access_token: {\r\n      type: \"string\",\r\n    },\r\n    refresh_token: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\"access_token\", \"refresh_token\"],\r\n  additionalProperties: false,\r\n};\r\n\r\nexport { Tokens };","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    username: {\r\n      type: \"string\",\r\n    },\r\n    email: {\r\n      type: \"string\"\r\n    },\r\n    first_name: {\r\n      type: \"string\",\r\n    },\r\n    last_name: {\r\n      type: \"string\",\r\n    },\r\n    is_superuser: {\r\n      type: \"boolean\",\r\n    },\r\n    permissions: {\r\n      type: \"array\",\r\n      items: { type: \"string\" }\r\n    },\r\n  },\r\n  required: [\r\n    \"username\",\r\n    \"email\",\r\n    \"first_name\",\r\n    \"last_name\",\r\n    \"is_superuser\",\r\n    \"permissions\",\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\n\r\nexport { Single };\r\n","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    id: {\r\n      type: \"string\",\r\n    },\r\n    name: {\r\n      type: \"string\",\r\n    },\r\n    host: {\r\n      type: \"string\",\r\n    },\r\n    port: {\r\n      type: \"integer\",\r\n    },\r\n    location: {\r\n      type: \"string\"\r\n    },\r\n    zone: {\r\n      type: \"string\"\r\n    },\r\n    latitude: {\r\n      type: \"number\",\r\n    },\r\n    longitude: {\r\n      type: \"number\",\r\n    },\r\n    is_on: {\r\n      type: \"boolean\",\r\n    },\r\n    is_active: {\r\n      type: \"boolean\",\r\n    },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n    updated: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\r\n    \"id\",\r\n    \"name\",\r\n    \"host\",\r\n    \"port\",\r\n    \"location\",\r\n    \"zone\",\r\n    \"latitude\",\r\n    \"longitude\",\r\n    \"is_on\",\r\n    \"is_active\",\r\n    \"created\",\r\n    \"updated\",\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\nexport { Single, List };\r\n","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    id: {\r\n      type: \"string\",\r\n    },\r\n    name: {\r\n      type: \"string\",\r\n    },\r\n    size: {\r\n      type: \"number\",\r\n    },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n    updated: {\r\n      type: \"string\",\r\n    }\r\n  },\r\n  required: [\"id\", \"name\", \"size\", \"created\", \"updated\"],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\nexport { Single, List };","import { Single as FileSingle } from \"./file\";\r\n\r\nconst Single = {\r\n\r\n  type: \"object\",\r\n  properties: {\r\n    file: FileSingle,\r\n    link: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\r\n    \"file\", \"link\",\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\n\r\nexport { Single };\r\n","const Single = {\r\n  type: \"object\",\r\n  properties: {\r\n    id: {\r\n      type: \"string\",\r\n    },\r\n    event: {\r\n      type: \"string\",\r\n    },\r\n    data: {\r\n      type: \"object\",\r\n    },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n  },\r\n  required: [\"id\", \"event\", \"data\", \"created\"],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\nexport { Single, List };","import { Single as FileSingle } from \"./file\";\r\n\r\nconst Single = {\r\n\r\n  type: \"object\",\r\n  properties: {\r\n    id: { type: \"string\" },\r\n    file: FileSingle,\r\n    is_secured: { type: \"boolean\" },\r\n    created: {\r\n      type: \"string\",\r\n    },\r\n    expire_at: {\r\n      type: [\"null\", \"string\"],\r\n    }\r\n  },\r\n  required: [\r\n    \"id\", \"file\", \"is_secured\", \"expire_at\", \"created\"\r\n  ],\r\n  additionalProperties: false,\r\n};\r\n\r\nconst List = {\r\n  type: \"array\",\r\n  items: Single,\r\n};\r\n\r\n\r\nexport { Single, List };\r\n","import { DataClass } from \"../domain/dataclass\";\r\nimport { Tokens } from \"./api_responses/models/tokens\";\r\nimport {\r\n  Single as UserSingle\r\n} from \"./api_responses/models/user\";\r\nimport {\r\n  Single as CdnServerSingle,\r\n  List as CdnServerList,\r\n} from \"./api_responses/models/cdn_server\";\r\nimport {\r\n  Single as FileSingle,\r\n  List as FileList,\r\n} from \"./api_responses/models/file\";\r\nimport {\r\n  Single as LinkSingle\r\n} from \"./api_responses/models/link\";\r\nimport {\r\n  List as UserActionList\r\n} from \"./api_responses/models/user_action\";\r\nimport {\r\n  Single as ShareLinkSingle,\r\n  List as ShareLinkList\r\n} from \"./api_responses/models/file_share_link\";\r\n\r\nclass NotImplementedError extends Error { }\r\n\r\nclass Request extends DataClass {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {},\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass Response extends DataClass { }\r\n\r\nclass NegativeResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        code: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass EmptyPositiveResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {},\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass PositiveFileResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file: { type: \"object\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass LoginCredentialsRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        username: { type: \"string\" },\r\n        password: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass LoginCredentialsResponse extends Response {\r\n  get schema() {\r\n    return Tokens;\r\n  }\r\n}\r\n\r\nclass LogoutRequest extends Request { }\r\nclass LogoutResponse extends EmptyPositiveResponse { }\r\n\r\nclass MyCredentialsRequest extends Request { }\r\nclass MyCredentialsResponse extends Response {\r\n  get schema() {\r\n    return UserSingle;\r\n  }\r\n}\r\n\r\nclass RefreshTokensRequest extends Request { }\r\nclass RefreshTokensResponse extends Response {\r\n  get schema() {\r\n    return Tokens;\r\n  }\r\n}\r\n\r\nclass GetFilesRequest extends Request { }\r\nclass GetFilesResponse extends Response {\r\n  get schema() {\r\n    return FileList;\r\n  }\r\n}\r\n\r\nclass GetFileServersRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetFileServersResponse extends Response {\r\n  get schema() {\r\n    return CdnServerList;\r\n  }\r\n}\r\n\r\n\r\nclass DeleteFileRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass DeleteFileResponse extends EmptyPositiveResponse { }\r\n\r\nclass RenameFileRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n        name: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass RenameFileResponse extends Response {\r\n  get schema() {\r\n    return FileSingle;\r\n  }\r\n}\r\n\r\nclass GetCdnServersRequest extends Request { }\r\nclass GetCdnServersResponse extends Response {\r\n  get schema() {\r\n    return CdnServerList;\r\n  }\r\n}\r\n\r\nclass AddCdnServerRequest extends Request { \r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        name: { type: \"string\" },\r\n        host: { type: \"string\" },\r\n        port: { type: \"integer\" },\r\n        location: { type: \"string\" },\r\n        zone: { type: \"string\" },\r\n        latitude: { type: \"number\" },\r\n        longitude: { type: \"number\" },\r\n        is_on: { type: \"boolean\" },\r\n        is_active: { type: \"boolean\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass AddCdnServerResponse extends Response {\r\n  get schema() {\r\n    return CdnServerSingle;\r\n  }\r\n}\r\n\r\nclass UpdateCdnServerRequest extends Request { \r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n        name: { type: \"string\" },\r\n        host: { type: \"string\" },\r\n        port: { type: \"integer\" },\r\n        location: { type: \"string\" },\r\n        zone: { type: \"string\" },\r\n        latitude: { type: \"number\" },\r\n        longitude: { type: \"number\" },\r\n        is_on: { type: \"boolean\" },\r\n        is_active: { type: \"boolean\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass UpdateCdnServerResponse extends Response {\r\n  get schema() {\r\n    return CdnServerSingle;\r\n  }\r\n}\r\n\r\nclass DeleteCdnServerRequest extends Request { \r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass DeleteCdnServerResponse extends EmptyPositiveResponse {}\r\n\r\nclass GetUploadLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        name: { type: \"string\" },\r\n        size: { type: \"integer\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetUploadLinkResponse extends Response {\r\n  get schema() {\r\n    return LinkSingle;\r\n  }\r\n}\r\n\r\nclass GetDownloadLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetDownloadLinkResponse extends Response {\r\n  get schema() {\r\n    return LinkSingle;\r\n  }\r\n}\r\n\r\nclass GetUserActionsRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        page_num: { type: \"integer\" },\r\n        page_size: { type: \"integer\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetUserActionsResponse extends Response {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        count: { type: \"integer\" },\r\n        data: UserActionList\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\n\r\nclass UploadFileRequest extends Request {\r\n  // file = https://developer.mozilla.org/ru/docs/Web/API/File\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        link: { type: \"string\" },\r\n        original_file: { type: \"object\" },\r\n      },\r\n      additionalProperties: true, // progress_method\r\n    };\r\n  }\r\n}\r\nclass UploadFileResponse extends EmptyPositiveResponse { }\r\n\r\nclass DownloadFileRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        link: { type: \"string\" },\r\n      },\r\n      additionalProperties: true, // set_size_method\r\n    };\r\n  }\r\n}\r\nclass DownloadFileResponse extends PositiveFileResponse {}\r\n\r\nclass AddFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        id: { type: \"string\" },\r\n        lifetime: { type: [\"null\", \"integer\"] },\r\n        password: { type: [\"null\", \"string\"] },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass AddFileShareLinkResponse extends Response {\r\n  get schema() {\r\n    return ShareLinkSingle;\r\n  }\r\n}\r\n\r\nclass GetFileShareLinksRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetFileShareLinksResponse extends Response {\r\n  get schema() {\r\n    return ShareLinkList;\r\n  }\r\n}\r\n\r\nclass GetFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n        link_id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetFileShareLinkResponse extends Response {\r\n  get schema() {\r\n    return ShareLinkSingle;\r\n  }\r\n}\r\n\r\nclass DeleteFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n        link_id: { type: \"string\" },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass DeleteFileShareLinkResponse extends EmptyPositiveResponse {}\r\n\r\nclass GetDownloadLinkByFileShareLinkRequest extends Request {\r\n  get schema() {\r\n    return {\r\n      type: \"object\",\r\n      properties: {\r\n        file_id: { type: \"string\" },\r\n        link_id: { type: \"string\" },\r\n        password: { type: [\"null\", \"string\"] },\r\n      },\r\n      additionalProperties: false,\r\n    };\r\n  }\r\n}\r\nclass GetDownloadLinkByFileShareLinkResponse extends Response {\r\n  get schema() {\r\n    return LinkSingle;\r\n  }\r\n}\r\n\r\nclass AbstractApi {\r\n  constructor() {\r\n    this._auth_token = null;\r\n  }\r\n\r\n  get_auth_token() {\r\n    return this._auth_token;\r\n  }\r\n\r\n  set_auth_token(token) {\r\n    this._auth_token = token;\r\n  }\r\n\r\n  call = (request) => {\r\n    if (\r\n      !Object.prototype.hasOwnProperty.call(\r\n        this.REQUEST_HANDLERS,\r\n        request.constructor.name\r\n      )\r\n    ) {\r\n      throw new NotImplementedError(\r\n        \"API request does not have handler for \" + request.constructor.name\r\n      );\r\n    }\r\n\r\n    const func = this.REQUEST_HANDLERS[request.constructor.name];\r\n    return func(request);\r\n  };\r\n\r\n  login_with_credentials = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  my_credentials = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  refresh_tokens = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  logout = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_cdn_servers = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  add_cdn_server = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  update_cdn_server = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  delete_cdn_server = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_user_actions = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_files = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_file_servers = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  delete_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  rename_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_upload_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  upload_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_download_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  download_file = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  add_file_share_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_file_share_links = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  delete_file_share_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  get_download_link_by_file_share_link = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n}\r\n\r\nexport {\r\n  AbstractApi,\r\n  NegativeResponse,\r\n\r\n  // USER\r\n  LoginCredentialsRequest,\r\n  LoginCredentialsResponse,\r\n  LogoutRequest,\r\n  LogoutResponse,\r\n  MyCredentialsRequest,\r\n  MyCredentialsResponse,\r\n  RefreshTokensRequest,\r\n  RefreshTokensResponse,\r\n  GetUserActionsRequest,\r\n  GetUserActionsResponse,\r\n\r\n  // CDN SERVER\r\n  GetCdnServersRequest,\r\n  GetCdnServersResponse,\r\n  AddCdnServerRequest,\r\n  AddCdnServerResponse,\r\n  UpdateCdnServerRequest,\r\n  UpdateCdnServerResponse,\r\n  DeleteCdnServerRequest,\r\n  DeleteCdnServerResponse,\r\n\r\n  // FILE\r\n  GetFilesRequest,\r\n  GetFilesResponse,\r\n  GetFileServersRequest,\r\n  GetFileServersResponse,\r\n  DeleteFileRequest,\r\n  DeleteFileResponse,\r\n  GetUploadLinkRequest,\r\n  GetUploadLinkResponse,\r\n  GetDownloadLinkRequest,\r\n  GetDownloadLinkResponse,\r\n  UploadFileRequest,\r\n  UploadFileResponse,\r\n  DownloadFileRequest,\r\n  DownloadFileResponse,\r\n  RenameFileRequest,\r\n  RenameFileResponse,\r\n\r\n  // SHARE LINK\r\n  AddFileShareLinkRequest,\r\n  AddFileShareLinkResponse,\r\n  GetFileShareLinksRequest,\r\n  GetFileShareLinksResponse,\r\n  GetFileShareLinkRequest,\r\n  GetFileShareLinkResponse,\r\n  DeleteFileShareLinkRequest,\r\n  DeleteFileShareLinkResponse,\r\n  GetDownloadLinkByFileShareLinkRequest,\r\n  GetDownloadLinkByFileShareLinkResponse,\r\n};\r\n","/*eslint no-useless-escape: \"error\"*/\r\n\r\nimport libmime from \"libmime\";\r\n\r\nimport {\r\n  AbstractApi,\r\n  NegativeResponse,\r\n\r\n  // USER\r\n  LoginCredentialsResponse,\r\n  MyCredentialsResponse,\r\n  RefreshTokensResponse,\r\n  LogoutResponse,\r\n  GetUserActionsResponse,\r\n\r\n  // CDN SERVER\r\n  GetCdnServersResponse,\r\n  AddCdnServerResponse,\r\n  UpdateCdnServerResponse,\r\n  DeleteCdnServerResponse,\r\n\r\n  // FILE\r\n  GetFilesResponse,\r\n  GetFileServersResponse,\r\n  DeleteFileResponse,\r\n  RenameFileResponse,\r\n  GetUploadLinkResponse,\r\n  UploadFileResponse,\r\n  GetDownloadLinkResponse,\r\n  DownloadFileResponse,\r\n\r\n  // SHARE LINK\r\n  AddFileShareLinkResponse,\r\n  GetFileShareLinksResponse,\r\n  GetFileShareLinkResponse,\r\n  DeleteFileShareLinkResponse,\r\n  GetDownloadLinkByFileShareLinkResponse\r\n} from \"./api\";\r\n\r\nclass HttpApiError extends Error { }\r\n\r\nclass HttpApi extends AbstractApi {\r\n  constructor(api_url) {\r\n    super();\r\n    this.api_url = api_url;\r\n\r\n    this.REQUEST_HANDLERS = {\r\n\r\n      // USER\r\n      LoginCredentialsRequest: this.login_with_credentials,\r\n      LogoutRequest: this.logout,\r\n      MyCredentialsRequest: this.my_credentials,\r\n      RefreshTokensRequest: this.refresh_tokens,\r\n      GetUserActionsRequest: this.get_user_actions,\r\n\r\n      // CDN SERVER\r\n      GetCdnServersRequest: this.get_cdn_servers,\r\n      AddCdnServerRequest: this.add_cdn_server,\r\n      UpdateCdnServerRequest: this.update_cdn_server,\r\n      DeleteCdnServerRequest: this.delete_cdn_server,\r\n\r\n      // FILE\r\n      GetFilesRequest: this.get_files,\r\n      GetFileServersRequest: this.get_file_servers,\r\n      DeleteFileRequest: this.delete_file,\r\n      RenameFileRequest: this.rename_file,\r\n      GetUploadLinkRequest: this.get_upload_link,\r\n      UploadFileRequest: this.upload_file,\r\n      GetDownloadLinkRequest: this.get_download_link,\r\n      DownloadFileRequest: this.download_file,\r\n\r\n\r\n      // SHARE LINK\r\n      AddFileShareLinkRequest: this.add_file_share_link,\r\n      GetFileShareLinksRequest: this.get_file_share_links,\r\n      GetFileShareLinkRequest: this.get_file_share_link,\r\n      DeleteFileShareLinkRequest: this.delete_file_share_link,\r\n      GetDownloadLinkByFileShareLinkRequest: this.get_download_link_by_file_share_link,\r\n    };\r\n  }\r\n\r\n  async perform_request(\r\n    positive_response_class,\r\n    path,\r\n    {\r\n      method = \"get\",\r\n      data = null,\r\n      parameters = {},\r\n      content_type = \"application/json\",\r\n      response_type = \"text\",\r\n      set_upload_size_method = null,\r\n      set_download_size_method = null,\r\n      headers = {},\r\n    } = {}\r\n  ) {\r\n    try {\r\n      const result = await this.http_call(\r\n        path,\r\n        method,\r\n        content_type,\r\n        data,\r\n        parameters,\r\n        response_type,\r\n        set_upload_size_method,\r\n        set_download_size_method,\r\n        headers\r\n      );\r\n      return new positive_response_class(result);\r\n    } catch (e) {\r\n      console.log(e.message);\r\n      if (e instanceof HttpApiError) {\r\n        return new NegativeResponse({ code: e.message });\r\n      }\r\n\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  async http_call(\r\n    path,\r\n    method,\r\n    content_type,\r\n    data,\r\n    parameters,\r\n    response_type,\r\n    set_upload_size_method,\r\n    set_download_size_method,\r\n    headers\r\n  ) {\r\n\r\n\r\n    const operation_by_link = path.startsWith('http')\r\n\r\n    let url = null\r\n    if (operation_by_link) {\r\n      url = new URL(`${path}`)\r\n    } else {\r\n      url = new URL(`${this.api_url}${path}`);\r\n      url.search = new URLSearchParams(parameters).toString();\r\n    }\r\n\r\n    let response = null;\r\n    response = await new Promise((resolve, reject) => {\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(method, url);\r\n      xhr.responseType = response_type;\r\n\r\n      if (content_type !== null) {\r\n        xhr.setRequestHeader(\"Content-Type\", content_type);\r\n      }\r\n\r\n      //  ,         \r\n      if (Object.keys(headers).length !== 0) {\r\n        Object.keys(headers).forEach((key) => {\r\n          xhr.setRequestHeader(key, headers[key]);\r\n        });\r\n      }\r\n\r\n      //   \r\n      if (this._auth_token && this._auth_token !== null && !operation_by_link) {\r\n        xhr.setRequestHeader(\"Authorization\", \"Bearer \" + this._auth_token);\r\n      }\r\n\r\n      if (set_download_size_method !== null)\r\n        xhr.onprogress = (event) => set_download_size_method(event.loaded);\r\n\r\n      if (set_upload_size_method !== null)\r\n        xhr.upload.onprogress = (event) => set_upload_size_method(event.loaded);\r\n\r\n      //   \r\n      xhr.onerror = function () {\r\n        console.log(\"Server unavailable\");\r\n        reject(new HttpApiError(\"Api.Server.Unavailable\"));\r\n      };\r\n\r\n      xhr.onload = function () {\r\n        const content_type = xhr.getResponseHeader(\"Content-Type\");\r\n        const content_length = Number.parseInt(\r\n          xhr.getResponseHeader(\"Content-Length\")\r\n        );\r\n        const content_disposition =\r\n          content_type === \"application/octet-stream\"\r\n            ? libmime.decodeWords(xhr.getResponseHeader(\"Content-Disposition\"))\r\n            : null;\r\n\r\n        resolve({\r\n          status_code: xhr.status,\r\n          content_type: content_type,\r\n          content_length: content_length,\r\n          content_disposition: content_disposition,\r\n          data: xhr.response,\r\n        });\r\n      };\r\n\r\n      //  \r\n      data === null ? xhr.send() : xhr.send(data);\r\n    });\r\n\r\n    //     \r\n\r\n    if (operation_by_link && response.content_length > 0) {\r\n      return {\r\n        file: response.data,\r\n      };\r\n    }\r\n\r\n\r\n    // //     \r\n    // if (response.content_type === \"application/octet-stream\") {\r\n    //   //     Content-Disposition\r\n\r\n    //   //      \r\n    //   const regex_en = /filename\\s*=\\s*\"(?<filename>.+)\"/g;\r\n    //   const match_en = regex_en.exec(response.content_disposition);\r\n\r\n    //   //      \r\n    //   const regex_ru = /filename\\*=utf-8''(?<filename>.+)/g;\r\n    //   const match_ru = regex_ru.exec(response.content_disposition);\r\n\r\n    //   const match = match_en === null ? match_ru : match_en;\r\n    //   //     %  \r\n    //   return {\r\n    //     file: response.data,\r\n    //     name: decodeURI(match.groups.filename)\r\n    //       .replace(/%2C/g, \",\")\r\n    //       .replace(/%40/g, \"@\")\r\n    //       .replace(/%3F/g, \"?\"),\r\n    //     size: response.content_length,\r\n    //   };\r\n    // }\r\n\r\n    //    ,     JSON\r\n    let json_data = {};\r\n    try {\r\n      //  JSON   Blob,    \r\n      if (\r\n        response.data instanceof Blob &&\r\n        response.data.type === \"application/json\"\r\n      ) {\r\n        json_data = JSON.parse(await response.data.text());\r\n      } else {\r\n        //  JSON   ,    \r\n        json_data = JSON.parse(response.data);\r\n      }\r\n\r\n      //    ,     JSON\r\n    } catch (err) {\r\n      if (!operation_by_link && response.status_code != 204)\r\n        throw new HttpApiError(\"Api.Error.NotJson\");\r\n    }\r\n\r\n    //     OK\r\n    if (response.status_code < 200 || response.status_code >= 300) {\r\n      throw new HttpApiError(json_data.error);\r\n    }\r\n\r\n    //    ,  JSON,  \r\n    return json_data;\r\n  }\r\n\r\n  login_with_credentials = async (request) => {\r\n    return await this.perform_request(\r\n      LoginCredentialsResponse,\r\n      `/users/api/v1/auth/login/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          username: request.data.username,\r\n          password: request.data.password,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  logout = async () => {\r\n    return await this.perform_request(\r\n      LogoutResponse,\r\n      `/users/api/v1/auth/logout/`,\r\n      {\r\n        method: \"post\",\r\n      }\r\n    );\r\n  };\r\n\r\n  my_credentials = async () => {\r\n    return await this.perform_request(MyCredentialsResponse, `/users/api/v1/users/me/`);\r\n  };\r\n\r\n  refresh_tokens = async () => {\r\n    return await this.perform_request(\r\n      RefreshTokensResponse,\r\n      `/users/api/v1/auth/token/refresh/`,\r\n      {\r\n        method: \"post\",\r\n      }\r\n    );\r\n  };\r\n\r\n  get_cdn_servers = async () => {\r\n    return await this.perform_request(\r\n      GetCdnServersResponse,\r\n      `/storage/api/v1/servers/`\r\n    );\r\n  };\r\n\r\n  add_cdn_server = async (request) => {\r\n    return await this.perform_request(\r\n      AddCdnServerResponse,\r\n      `/storage/api/v1/servers/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n          host: request.data.host,\r\n          port: request.data.port,\r\n          location: request.data.location,\r\n          zone: request.data.zone,\r\n          latitude: request.data.latitude,\r\n          longitude: request.data.longitude,\r\n          is_on: request.data.is_on,\r\n          is_active: request.data.is_active,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  update_cdn_server = async (request) => {\r\n    return await this.perform_request(\r\n      UpdateCdnServerResponse,\r\n      `/storage/api/v1/servers/${request.data.id}/`,\r\n      {\r\n        method: \"put\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n          host: request.data.host,\r\n          port: request.data.port,\r\n          location: request.data.location,\r\n          zone: request.data.zone,\r\n          latitude: request.data.latitude,\r\n          longitude: request.data.longitude,\r\n          is_on: request.data.is_on,\r\n          is_active: request.data.is_active,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  delete_cdn_server = async (request) => {\r\n    return await this.perform_request(\r\n      DeleteCdnServerResponse,\r\n      `/storage/api/v1/servers/${request.data.id}/`,\r\n      {\r\n        method: \"delete\",\r\n      }\r\n    );\r\n  };\r\n\r\n  get_user_actions = async (request) => {\r\n    return await this.perform_request(\r\n      GetUserActionsResponse,\r\n      `/storage/api/v1/actions/`,\r\n      {\r\n        method: \"get\",\r\n        parameters: {\r\n          page_num: request.data.page_num,\r\n          page_size: request.data.page_size,\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  get_files = async () => {\r\n    return await this.perform_request(\r\n      GetFilesResponse,\r\n      `/storage/api/v1/files/`\r\n    );\r\n  };\r\n\r\n  get_file_servers = async (request) => {\r\n    return await this.perform_request(\r\n      GetFileServersResponse,\r\n      `/storage/api/v1/files/${request.data.id}/servers/`,\r\n    );\r\n  };\r\n\r\n  delete_file = async (request) => {\r\n    return await this.perform_request(\r\n      DeleteFileResponse,\r\n      `/storage/api/v1/files/${request.data.id}/`,\r\n      {\r\n        method: \"delete\",\r\n      }\r\n    );\r\n  };\r\n\r\n  rename_file = async (request) => {\r\n    return await this.perform_request(\r\n      RenameFileResponse,\r\n      `/storage/api/v1/files/${request.data.id}/`,\r\n      {\r\n        method: \"put\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  get_upload_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetUploadLinkResponse,\r\n      `/storage/api/v1/files/upload/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          name: request.data.name,\r\n          size: request.data.size,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  get_download_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetDownloadLinkResponse,\r\n      `/storage/api/v1/files/${request.data.id}/`\r\n    );\r\n  };\r\n\r\n  upload_file = async (request) => {\r\n    return await this.perform_request(\r\n      UploadFileResponse,\r\n      request.data.link,\r\n      {\r\n        method: \"put\",\r\n        content_type: null,\r\n        data: request.data.original_file,\r\n        set_upload_size_method: request.data.on_progress\r\n      }\r\n    );\r\n  };\r\n\r\n  download_file = async (request) => {\r\n    return await this.perform_request(\r\n      DownloadFileResponse,\r\n      request.data.link,\r\n      {\r\n        response_type: \"blob\",\r\n        set_download_size_method: request.data.set_size_method,\r\n      }\r\n    );\r\n  };\r\n\r\n  add_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      AddFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.id}/links/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          lifetime: request.data.lifetime,\r\n          password: request.data.password,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n  get_file_share_links = async (request) => {\r\n    return await this.perform_request(\r\n      GetFileShareLinksResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/`\r\n    );\r\n  };\r\n\r\n  get_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/${request.data.link_id}/`,\r\n    );\r\n  };\r\n\r\n  delete_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      DeleteFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/${request.data.link_id}/`,\r\n      {\r\n        method: \"delete\",\r\n      }\r\n    );\r\n  };\r\n\r\n  get_download_link_by_file_share_link = async (request) => {\r\n    return await this.perform_request(\r\n      GetDownloadLinkByFileShareLinkResponse,\r\n      `/storage/api/v1/files/${request.data.file_id}/links/${request.data.link_id}/`,\r\n      {\r\n        method: \"post\",\r\n        data: JSON.stringify({\r\n          password: request.data.password,\r\n        }),\r\n      }\r\n    );\r\n  };\r\n\r\n}\r\n\r\nexport { HttpApi };\r\n","import { HttpApi } from \"./api_http\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass AbstractApiProvider {\r\n  get = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n}\r\n\r\nclass HttpApiProvider extends AbstractApiProvider {\r\n  get = () => {\r\n    return new HttpApi(\r\n      process.env.NODE_ENV === \"production\"\r\n        ? window.location.origin\r\n        // : \"http://localhost\"\r\n        : \"http://10.95.27.163\"\r\n    );\r\n  };\r\n}\r\n\r\nexport { HttpApiProvider };\r\n","import Noty from \"noty\";\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass AbstractNotificator {\r\n  success = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  info = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  warning = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n\r\n  error = () => {\r\n    throw new NotImplementedError();\r\n  };\r\n}\r\n\r\nclass ConsoleNotificator extends AbstractNotificator {\r\n  success = (message) => {\r\n    console.log(\"[SUCCESS]: \" + message);\r\n  };\r\n\r\n  info = (message) => {\r\n    console.log(\"[INFO]: \" + message);\r\n  };\r\n\r\n  warning = (message) => {\r\n    console.log(\"[WARNING]: \" + message);\r\n  };\r\n\r\n  error = (message) => {\r\n    console.log(\"[ERROR]: \" + message);\r\n  };\r\n}\r\n\r\nclass NotyNotificator extends AbstractNotificator {\r\n  constructor () {\r\n    super();\r\n    this.default = {\r\n      layout: \"topRight\",\r\n      theme: \"relax\",\r\n      timeout: \"3000\",\r\n      progressBar: false\r\n    }\r\n  }\r\n\r\n  do = (type, text) => {\r\n    new Noty(Object.assign(this.default, {\r\n      type: type,\r\n      text: text,\r\n    })).show();\r\n  }\r\n\r\n  success = (message) => {\r\n    this.do('success', message);\r\n  };\r\n\r\n  info = (message) => {\r\n    this.do('info', message);\r\n  };\r\n\r\n  warning = (message) => {\r\n    this.do('warning', message);\r\n  };\r\n\r\n  error = (message) => {\r\n    this.do('error', message);\r\n  };\r\n}\r\n\r\nexport { ConsoleNotificator, NotyNotificator };\r\n","import { reactive } from \"vue\";\r\n\r\nclass NotImplementedError extends Error { }\r\n\r\nclass AbstractTimer {\r\n  constructor(period) {\r\n    this._callback = () => {\r\n      throw new NotImplementedError();\r\n    };\r\n    this._period = period;\r\n    this._timer = null;\r\n  }\r\n\r\n  set_callback = (f) => {\r\n    this._callback = f;\r\n  };\r\n\r\n  start = () => {\r\n    if (!this._timer) {\r\n      this._timer = setInterval(this._callback, this._period);\r\n      // console.log('START TIMER', this._timer, this._period)\r\n    }\r\n  };\r\n\r\n  stop = () => {\r\n    // console.log('STOP TIMER', this._timer, this._period)\r\n    clearInterval(this._timer);\r\n    this._timer = null;\r\n  };\r\n}\r\n\r\nclass UploadProgressTimer extends AbstractTimer {\r\n  constructor(period) {\r\n    super(period);\r\n    this._folder_id = null;\r\n    this._ids = [];\r\n  }\r\n\r\n  start = () => {\r\n    if (this._ids.length !== 0)\r\n      this._timer = setInterval(this._callback, this._period);\r\n  };\r\n\r\n  add = (id) => {\r\n    if (!this._ids.includes(id)) {\r\n      this._ids.push(id);\r\n    }\r\n    if (this._timer === null) this.start();\r\n  };\r\n\r\n  remove = (id) => {\r\n    this._ids = this._ids.filter((x) => x !== id);\r\n    if (this._ids.length === 0) this.stop();\r\n  };\r\n}\r\n\r\nclass WaitSecondsTimer {\r\n  constructor(period = 1000) {\r\n    this._timer = null;\r\n    this._period = period;\r\n    this._seconds = reactive({});\r\n\r\n    this._decrease_seconds = () => {\r\n      Object.keys(this._seconds).forEach((key) => {\r\n        if (this._seconds[key] > 0) this._seconds[key]--;\r\n      });\r\n\r\n      if (Object.values(this._seconds).reduce((s, x) => s + x, 0) === 0)\r\n        this.stop();\r\n    };\r\n  }\r\n\r\n  start = () => {\r\n    this._timer = setInterval(this._decrease_seconds, this._period);\r\n  };\r\n\r\n  stop = () => {\r\n    clearInterval(this._timer);\r\n    this._timer = null;\r\n  };\r\n\r\n  get = (id) => this._seconds[id] || 0;\r\n\r\n  set = (id, count) => {\r\n    this._seconds[id] = count;\r\n    if (this._timer === null) this.start();\r\n  };\r\n}\r\n\r\n// class CallFunctionTimer {\r\n//   constructor(period, func) {\r\n//     console.log('TIMER', period)\r\n//     this._timer = null;\r\n//     this._period = period;\r\n//   }\r\n\r\n//   start = (func) => {\r\n//     console.log('START TIMER', func);\r\n//     if (this._timer) this.stop()\r\n//     this._timer = setInterval(func, this._period);\r\n//   };\r\n\r\n//   stop = () => {\r\n//     clearInterval(this._timer);\r\n//     this._timer = null;\r\n//   };\r\n\r\n// }\r\n\r\nexport { AbstractTimer, UploadProgressTimer, WaitSecondsTimer };\r\n","const CountMixin = {\r\n  set_count(obj) {\r\n    this._set_box(\"__COUNT__\", \"__COUNT__\", obj);\r\n  },\r\n\r\n  get_count() {\r\n    return this._get_box(\"__COUNT__\", \"__COUNT__\");\r\n  },\r\n\r\n  is_count_settled() {\r\n    return this._get_box(\"__COUNT__\", \"__COUNT__\").value !== null;\r\n  },\r\n};\r\n\r\nexport { CountMixin };\r\n","import { VueFlatRepository } from \"./flat_repository\";\r\nimport { CountMixin } from \"./mixins/count\";\r\n\r\n\r\nclass VueCountableFlatRepository extends VueFlatRepository {}\r\nObject.assign(VueFlatRepository.prototype, CountMixin);\r\n\r\nexport { VueCountableFlatRepository };\r\n","import { VueFlatRepository } from \"../adapters/flat_repository\";\r\n// import { VueBoxRepository } from \"../adapters/box_repository\";\r\nimport { VueUserRepository } from \"../adapters/user_repository\";\r\n// import { VueUserGroupRepository } from \"../adapters/usergroup_repository\";\r\nimport { VueTokenRepository } from \"../adapters/token_repository\";\r\n// import { VueFolderRepository } from \"../adapters/folder_repository\";\r\n// import { VueDocRepository } from \"../adapters/doc_repository\";\r\n// import { VueFileBoxRepository } from \"../adapters/file_box_repository\";\r\nimport { VueFileFlatRepository } from \"../adapters/file_flat_repository\";\r\n// import { VueUserFolderSettingsRepository } from \"../adapters/user_folder_settings_repository\";\r\n// import { VuePermissionRepository } from \"../adapters/permission_repository\";\r\n// import { VueRolePermissionsRepository } from \"../adapters/role_permissions_repository\";\r\n// import { VueFlatCurrentRepository } from \"../adapters/flat_current_repository\";\r\nimport { HttpApiProvider } from \"../adapters/api_provider\";\r\nimport { NotyNotificator } from \"../adapters/notificator\";\r\nimport { AbstractTimer } from \"../adapters/timer\";\r\n// import { UploadProgressTimer, WaitSecondsTimer } from \"../adapters/timer\";\r\n// import { VueFolderSettings } from \"../adapters/folder_settings\";\r\n// import { VueInfoRepository } from \"../adapters/info_repository\";\r\n// import { VueCartRepository } from \"../adapters/cart_repository\";\r\nimport { VueCountableFlatRepository } from \"../adapters/countable_flat_repository\";\r\n\r\nconst token_timer = new AbstractTimer(5000);\r\nconst get_files_timer = new AbstractTimer(2000);\r\n\r\nclass AbstractUnitOfWork {\r\n  constructor() {\r\n    this.messages = [];\r\n  }\r\n\r\n  collect_new_messages = () => {\r\n    const messages = [...this.messages];\r\n    this.messages = [];\r\n\r\n    return messages;\r\n  };\r\n\r\n  push_message = (message) => {\r\n    // console.log('Push message \"' + message.constructor.name + '\"');\r\n    this.messages.push(message);\r\n  };\r\n}\r\n\r\nclass VueUnitOfWork extends AbstractUnitOfWork {\r\n  constructor() {\r\n    super();\r\n    this.api = new HttpApiProvider().get();\r\n    this.notificator = new NotyNotificator();\r\n    // this.upload_progress_timer = new UploadProgressTimer(2000); //    2 \r\n    // this.wait_seconds_timer = new WaitSecondsTimer(1000); //     \r\n    this.token_timer = token_timer\r\n    this.get_files_timer = get_files_timer\r\n\r\n    // this.info_repository = new VueInfoRepository(\"info\");\r\n    this.user_repository = new VueUserRepository(\"users\");\r\n    this.action_repository = new VueCountableFlatRepository(\"user_actions\");\r\n    this.action_repository.set_count(0)\r\n    this.cdn_server_repository = new VueFlatRepository(\"cdn_servers\");\r\n    this.token_repository = new VueTokenRepository(\"tokens\")\r\n    this.link_repository = new VueFlatRepository(\"file_share_links\")\r\n\r\n    // this.file_in_folder_repository = new VueFileBoxRepository(\r\n    //   \"files_in_folders\"\r\n    // );\r\n    this.file_repository = new VueFileFlatRepository(\"files\");\r\n    // this.permission_repository = new VuePermissionRepository(\"permissions\");\r\n    this.download_progress = new VueFileFlatRepository(\"download_progress\");\r\n\r\n    this.api.set_auth_token(this.token_repository.get_access_token());\r\n  }\r\n}\r\n\r\nexport { VueUnitOfWork };\r\n","import { render } from \"./NavigationComponent.vue?vue&type=template&id=4379e5f5\"\nimport script from \"./NavigationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./NavigationComponent.vue?vue&type=script&lang=js\"\n\nimport \"./NavigationComponent.vue?vue&type=style&index=0&id=4379e5f5&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BasePage.vue?vue&type=template&id=a72634be\"\nimport script from \"./BasePage.vue?vue&type=script&lang=js\"\nexport * from \"./BasePage.vue?vue&type=script&lang=js\"\n\nimport \"./BasePage.vue?vue&type=style&index=0&id=a72634be&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=f683d534\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"page\">\r\n    <heading-component class=\"page__heading\" text=\"\" size=\"middle\" />\r\n    <form class=\"page__input-block\">\r\n      <form-text-input\r\n        class=\"page__input\"\r\n        :value=\"credentials.username\"\r\n        @update=\"credentials.username = $event\"\r\n        @keyup.enter=\"login_action\"\r\n        :parameters=\"{ placeholder: '' }\"\r\n        autocomplete=\"username\"\r\n      />\r\n      <form-text-input\r\n        class=\"page__input\"\r\n        :value=\"credentials.password\"\r\n        @update=\"credentials.password = $event\"\r\n        @keyup.enter=\"login_action\"\r\n        :parameters=\"{ placeholder: '', secure: true }\"\r\n        autocomplete=\"current-password\"\r\n      />\r\n    </form>\r\n\r\n    <div class=\"page__button-block\">\r\n      <btn-component\r\n        class=\"page__button\"\r\n        @click=\"login_action\"\r\n        caption=\"\"\r\n        type=\"primary\"\r\n      />\r\n      <btn-component\r\n        v-if=\"is_authenticated\"\r\n        class=\"page__button\"\r\n        @click=\"logout_action\"\r\n        caption=\"\"\r\n        type=\"secondary\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { LoginWithCredentials, Logout } from \"../logic/domain/command\";\r\nimport { MessageBus } from \"../logic/service_layer/message_bus\";\r\nimport { VueUnitOfWork } from \"../logic/service_layer/uow\";\r\nimport BtnComponent from \"../components/buttons/BtnComponent.vue\";\r\nimport HeadingComponent from \"../components/HeadingComponent.vue\";\r\nimport FormTextInput from \"../components/fields/FormTextInput.vue\";\r\n\r\nexport default {\r\n  components: { BtnComponent, HeadingComponent, FormTextInput },\r\n  name: \"LoginPage\",\r\n\r\n  setup() {\r\n    const credentials = reactive({\r\n      username: \"\",\r\n      password: \"\",\r\n    });\r\n\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    const uow = new VueUnitOfWork();\r\n    const user = uow.user_repository.get_current();\r\n\r\n    const is_authenticated = uow.user_repository.is_authenticated();\r\n\r\n    const login_action = async () => {\r\n      const message = new LoginWithCredentials(\r\n        credentials.username,\r\n        credentials.password\r\n      );\r\n\r\n      await MessageBus.handle(message, uow);\r\n      if (uow.token_repository.get_access_token())\r\n        router.push({\r\n          path:\r\n            route.query.url === undefined\r\n              ? \"/\"\r\n              : decodeURIComponent(route.query.url),\r\n        });\r\n    };\r\n\r\n    const logout_action = async () => {\r\n      const message = new Logout();\r\n      await MessageBus.handle(message, uow);\r\n    };\r\n\r\n    console.log('----------------------------------')\r\n    uow.token_timer.stop();\r\n    uow.get_files_timer.stop()\r\n\r\n    return {\r\n      is_authenticated,\r\n      user,\r\n      credentials,\r\n      login_action,\r\n      logout_action,\r\n      uow,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.page {\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  align-items: stretch;\r\n}\r\n\r\n.page__heading {\r\n  padding-top: 60px;\r\n  padding-bottom: 15px;\r\n  color: white;\r\n}\r\n\r\n.page__input-block {\r\n  padding-bottom: 15px;\r\n  width: 300px;\r\n}\r\n.page__input {\r\n  margin-right: 10px;\r\n  border-color: white;\r\n}\r\n.page__button {\r\n  margin-right: 20px;\r\n}\r\n</style>\r\n","class Command { }\r\n\r\nclass Notify extends Command {\r\n  constructor(level, text) {\r\n    super();\r\n    this.level = level;\r\n    this.text = text;\r\n  }\r\n}\r\n\r\nclass NotifyApiError extends Command {\r\n  constructor(code) {\r\n    super();\r\n    this.code = code;\r\n  }\r\n}\r\n\r\nclass LoginWithCredentials extends Command {\r\n  constructor(username, password) {\r\n    super();\r\n    this.username = username;\r\n    this.password = password;\r\n  }\r\n}\r\n\r\nclass Logout extends Command { }\r\n\r\nclass MyCredentials extends Command { }\r\nclass RefreshTokens extends Command { }\r\n\r\nclass GetCdnServers extends Command { }\r\n\r\nclass AddCdnServer extends Command {\r\n  constructor(name, host, port, location, zone, latitude, longitude, is_on, is_active) {\r\n    super();\r\n    this.name = name;\r\n    this.host = host;\r\n    this.port = port;\r\n    this.location = location;\r\n    this.zone = zone;\r\n    this.latitude = latitude;\r\n    this.longitude = longitude;\r\n    this.is_on = is_on;\r\n    this.is_active = is_active;\r\n  }\r\n}\r\n\r\nclass UpdateCdnServer extends Command {\r\n  constructor(id, name, host, port, location, zone, latitude, longitude, is_on, is_active) {\r\n    super();\r\n    this.id = id;\r\n    this.name = name;\r\n    this.host = host;\r\n    this.port = port;\r\n    this.location = location;\r\n    this.zone = zone;\r\n    this.latitude = latitude;\r\n    this.longitude = longitude;\r\n    this.is_on = is_on;\r\n    this.is_active = is_active;\r\n  }\r\n}\r\n\r\nclass DeleteCdnServer extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\n\r\nclass GetUserActions extends Command {\r\n  constructor(page_num, page_size) {\r\n    super();\r\n    this.page_num = page_num;\r\n    this.page_size = page_size;\r\n  }\r\n}\r\n\r\nclass GetFiles extends Command { }\r\nclass GetFileServers extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\nclass DeleteFile extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\nclass RenameFile extends Command {\r\n  constructor(id, name) {\r\n    super();\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n}\r\n\r\nclass DownloadFile extends Command {\r\n  constructor(id) {\r\n    super();\r\n    this.id = id;\r\n  }\r\n}\r\n\r\nclass UploadFile extends Command {\r\n  constructor(file) {\r\n    super();\r\n    this.file = file; //https://developer.mozilla.org/ru/docs/Web/API/File\r\n  }\r\n}\r\n\r\nclass UploadFileByLink extends Command {\r\n  constructor(id, link, file) {\r\n    super();\r\n    this.id = id;\r\n    this.link = link;\r\n    this.file = file; //https://developer.mozilla.org/ru/docs/Web/API/File\r\n  }\r\n}\r\n\r\nclass DownloadFileByLink extends Command {\r\n  constructor(link, name, size) {\r\n    super();\r\n    this.link = link;\r\n    this.name = name;\r\n    this.size = size;\r\n  }\r\n}\r\n\r\nclass AddFileShareLink extends Command {\r\n  constructor(id, lifetime, password) {\r\n    super();\r\n    this.id = id;\r\n    this.lifetime = lifetime;\r\n    this.password = password;\r\n  }\r\n}\r\n\r\nclass GetFileShareLinks extends Command {\r\n  constructor(file_id) {\r\n    super();\r\n    this.file_id = file_id;\r\n  }\r\n}\r\n\r\nclass FlushFileShareLinks extends Command { }\r\n\r\nclass GetFileShareLink extends Command {\r\n  constructor(file_id, link_id) {\r\n    super();\r\n    this.file_id = file_id;\r\n    this.link_id = link_id;\r\n  }\r\n}\r\n\r\nclass DeleteFileShareLink extends Command {\r\n  constructor(file_id, link_id) {\r\n    super();\r\n    this.file_id = file_id;\r\n    this.link_id = link_id;\r\n  }\r\n}\r\n\r\nclass DownloadFileByFileShareLink extends Command {\r\n  constructor(file_id, link_id, password) {\r\n    super();\r\n    this.file_id = file_id;\r\n    this.link_id = link_id;\r\n    this.password = password;\r\n  }\r\n}\r\n\r\nexport {\r\n  Command,\r\n  Notify,\r\n  NotifyApiError,\r\n  // USER\r\n  LoginWithCredentials,\r\n  MyCredentials,\r\n  RefreshTokens,\r\n  Logout,\r\n  GetUserActions,\r\n  // CDN SERVERS\r\n  GetCdnServers,\r\n  AddCdnServer,\r\n  UpdateCdnServer,\r\n  DeleteCdnServer,\r\n  // FILE\r\n  GetFiles,\r\n  GetFileServers,\r\n  DeleteFile,\r\n  RenameFile,\r\n  UploadFile,\r\n  UploadFileByLink,\r\n  DownloadFile,\r\n  DownloadFileByLink,\r\n  // LINK\r\n  AddFileShareLink,\r\n  DeleteFileShareLink,\r\n  GetFileShareLinks,\r\n  FlushFileShareLinks,\r\n  GetFileShareLink,\r\n  DownloadFileByFileShareLink,\r\n};\r\n","class Event { }\r\n\r\nclass ApiError extends Event {\r\n  constructor(code) {\r\n    super();\r\n    this.code = code;\r\n  }\r\n}\r\n\r\n// class AccessPagePermissionCheckFail extends Event {}\r\nclass UserLoginSuccess extends Event { }\r\nclass AccessTokenOutdated extends Event { }\r\nclass RefreshTokenOutdated extends Event { }\r\nclass UserLogoutSuccess extends Event { }\r\n\r\nclass UploadFileError extends Event {\r\n  constructor(filename) {\r\n    super();\r\n    this.filename = filename;\r\n  }\r\n}\r\n\r\nclass UploadEmptyFileError extends UploadFileError { }\r\nclass UploadFileTooBigError extends UploadFileError { }\r\nclass UploadFileSuccess extends Event { }\r\nclass DownloadFileSuccess extends Event { }\r\nclass RenameFileSuccess extends Event { }\r\nclass DeleteFileSuccess extends Event { }\r\n\r\nclass FileShareLinkCopied extends Event { }\r\nclass FileShareLinkDeleted extends Event { }\r\n\r\nclass CdnServerAdded extends Event { }\r\nclass CdnServerUpdated extends Event { }\r\nclass CdnServerDeleted extends Event { }\r\n\r\nexport {\r\n  Event,\r\n  ApiError,\r\n\r\n  // LOGIN\r\n  UserLoginSuccess,\r\n  AccessTokenOutdated,\r\n  RefreshTokenOutdated,\r\n  UserLogoutSuccess,\r\n\r\n  // FILE\r\n  UploadFileError,\r\n  UploadEmptyFileError,\r\n  UploadFileTooBigError,\r\n  UploadFileSuccess,\r\n  DownloadFileSuccess,\r\n  RenameFileSuccess,\r\n  DeleteFileSuccess,\r\n\r\n  // LINK\r\n  FileShareLinkCopied,\r\n  FileShareLinkDeleted,\r\n\r\n  // CDN SERVER\r\n  CdnServerAdded,\r\n  CdnServerUpdated,\r\n  CdnServerDeleted,\r\n};\r\n","import { Notify } from \"../../domain/command\";\r\n\r\nclass WrongErrorType extends Error { }\r\n\r\nconst notify = (event, uow) => {\r\n  const actions = {\r\n    success: uow.notificator.success,\r\n    warning: uow.notificator.warning,\r\n    info: uow.notificator.info,\r\n    error: uow.notificator.error,\r\n  };\r\n\r\n  if (!Object.prototype.hasOwnProperty.call(actions, event.level)) {\r\n    throw new WrongErrorType('Wrong error type \"' + event.level + '\"');\r\n  }\r\n\r\n  actions[event.level](event.text);\r\n};\r\n\r\nconst notify_api_error = (event, uow) => {\r\n  const errors = {\r\n    \"User.DoesNotExist\": [\"error\", \"  \"],\r\n    \"File.DoesNotExist\": [\"error\", \"  \"],\r\n    \"File.AlreadyExists\": [\"error\", \"     \"],\r\n    \"FileShareLink.DoesNotExist\": [\"error\", \"         \"],\r\n    \"CdnServer.ConnectionError\": [\"error\", \"CDN   \"],\r\n    \"CdnServer.AlreadyExists\": [\"error\", \"  \"],\r\n    \"Auth.Error.TokenMissed\": [\"error\", null],\r\n    \"Auth.Error.TokenOutdated\": [\"error\", null],\r\n    \"Auth.Error.WrongTokenPayload\": [\"error\", null],\r\n    \"Auth.Error.NoPermission\": [\"error\", \" \"],\r\n    \"Database.Error\": [\"error\", \"  \"],\r\n    \"Request.Error.Validation\": [\"error\", \" \"],\r\n    \"Api.Server.Unavailable\": [\"error\", \" \"],\r\n    \"Api.Server.InternalError\": [\"error\", \" \"],\r\n  };\r\n\r\n  if (!Object.prototype.hasOwnProperty.call(errors, event.code)) {\r\n    console.log('   API \"' + event.code + '\"');\r\n    uow.push_message(new Notify(\"error\", \" \"));\r\n    return;\r\n  }\r\n  const [level, text] = errors[event.code];\r\n  if (text)\r\n    uow.push_message(new Notify(level, text));\r\n};\r\n\r\n\r\nexport {\r\n  notify,\r\n  notify_api_error,\r\n};\r\n","// import { v4 as uuidv4 } from \"uuid\";\r\n\r\nclass User {\r\n  constructor(\r\n    username,\r\n    email,\r\n    first_name,\r\n    last_name,\r\n    is_superuser,\r\n    permissions\r\n  ) {\r\n    this._username = username;\r\n    this._email = email;\r\n    this._first_name = first_name;\r\n    this._last_name = last_name;\r\n    this._is_superuser = is_superuser;\r\n    this._permissions = permissions;\r\n  }\r\n\r\n  reset() {\r\n    this._username = \"\";\r\n    this._email = \"\";\r\n    this._first_name = \"\";\r\n    this._last_name = \"\";\r\n    this._is_superuser = false\r\n    this._permissions = []\r\n  }\r\n\r\n  // get to_dict() {\r\n  //   return {\r\n  //     username: this._username,\r\n  //     email: this._email,\r\n  //     first_name: this._first_name,\r\n  //     last_name: this._last_name,\r\n  //     patronomic: this._patronomic,\r\n  //     position: this._position,\r\n  //     department: this._department,\r\n  //     is_active: this._is_active,\r\n  //     access_group_regex: this._access_group_regex,\r\n  //     role: this._role,\r\n  //     role_inside_group: this._role_inside_group,\r\n  //     role_outside_group: this._role_outside_group,\r\n  //     on_behalf: this._on_behalf,\r\n  //   };\r\n  // }\r\n\r\n  get username() {\r\n    return this._username;\r\n  }\r\n\r\n  // set username(value) {\r\n  //   this._username = value;\r\n  // }\r\n\r\n  get email() {\r\n    return this._email;\r\n  }\r\n\r\n  // set email(value) {\r\n  //   this._email = value;\r\n  // }\r\n\r\n  get first_name() {\r\n    return this._first_name;\r\n  }\r\n\r\n  // set first_name(value) {\r\n  //   this._first_name = value;\r\n  // }\r\n\r\n  get last_name() {\r\n    return this._last_name;\r\n  }\r\n\r\n  // set last_name(value) {\r\n  //   this._last_name = value;\r\n  // }\r\n\r\n  get is_superuser() {\r\n    return this._is_superuser;\r\n  }\r\n\r\n  get permissions() {\r\n    return this._permissions;\r\n  }\r\n}\r\n\r\nclass CdnServer {\r\n  constructor(\r\n    id,\r\n    name,\r\n    host,\r\n    port,\r\n    location,\r\n    zone,\r\n    latitude,\r\n    longitude,\r\n    is_on,\r\n    is_active,\r\n    created,\r\n    updated\r\n  ) {\r\n    this._id = id;\r\n    this._name = name;\r\n    this._host = host;\r\n    this._port = port;\r\n    this._location = location;\r\n    this._zone = zone;\r\n    this._latitude = latitude;\r\n    this._longitude = longitude;\r\n    this._is_on = is_on;\r\n    this._is_active = is_active;\r\n    this._created = created;\r\n    this._updated = updated;\r\n  }\r\n\r\n  get to_dict() {\r\n    return {\r\n      id: this._id,\r\n      name: this._name,\r\n      host: this._host,\r\n      port: this._port,\r\n      location: this._location,\r\n      zone: this._zone,\r\n      latitude: this._latitude,\r\n      longitude: this._longitude,\r\n      is_on: this._is_on,\r\n      is_active: this._is_active,\r\n      created: this._created,\r\n      updated: this._updated,\r\n    };\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  get host() {\r\n    return this._host;\r\n  }\r\n\r\n  get port() {\r\n    return this._port;\r\n  }\r\n\r\n  get location() {\r\n    return this._location;\r\n  }\r\n\r\n  get zone() {\r\n    return this._zone;\r\n  }\r\n\r\n  get latitude() {\r\n    return this._latitude;\r\n  }\r\n\r\n  get longitude() {\r\n    return this._longitude;\r\n  }\r\n\r\n  get is_on() {\r\n    return this._is_on;\r\n  }\r\n\r\n  get is_active() {\r\n    return this._is_active;\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get updated() {\r\n    return this._updated;\r\n  }\r\n\r\n}\r\n\r\nclass UserAction {\r\n  constructor(\r\n    id,\r\n    event,\r\n    data,\r\n    created,\r\n  ) {\r\n    this._id = id;\r\n    this._event = event;\r\n    this._data = data;\r\n    this._created = created;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get text() {\r\n    if (this._event === 'FILE.UPLOADED') return this._file_uploaded_text;\r\n    if (this._event === 'FILE.DOWNLOADED') return this._file_downloaded_text;\r\n    if (this._event === 'FILE.RENAMED') return this._file_renamed_text;\r\n    if (this._event === 'FILE.DELETED') return this._file_deleted_text;\r\n    if (this._event === 'FILE_SHARE_LINK.CREATED') return this._file_share_link_created_text;\r\n    if (this._event === 'FILE_SHARE_LINK.DELETED') return this._file_share_link_deleted_text;\r\n    return `Wrong event ${this._event}`;\r\n  }\r\n\r\n  get _file_uploaded_text() {\r\n    return ` \"${this._data['name']}\"  `;\r\n  }\r\n\r\n  get _file_downloaded_text() {\r\n    return ` \"${this._data['name']}\"  `;\r\n  }\r\n\r\n  get _file_renamed_text() {\r\n    return ` \"${this._data['old_name']}\"    \"${this._data['new_name']}\"`\r\n  }\r\n\r\n  get _file_deleted_text() {\r\n    return ` \"${this._data['name']}\"  `;\r\n  }\r\n\r\n  get _file_share_link_created_text() {\r\n    return `     \"${this._data['name']}\"`;\r\n  }\r\n\r\n  get _file_share_link_deleted_text() {\r\n    return `    \"${this._data['name']}\",  ${new Date(this._data['created']).toLocaleString(\"ru-RU\", {timeZone: \"Europe/Moscow\"})},  `;\r\n  }\r\n\r\n}\r\n\r\nclass ShareLink {\r\n  constructor(\r\n    id,\r\n    file,\r\n    is_secured,\r\n    expire_at,\r\n    created,\r\n  ) {\r\n    this._id = id;\r\n    this._file = file;\r\n    this._is_secured = is_secured;\r\n    this._expire_at = expire_at;\r\n    this._created = created;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get file() {\r\n    return this._file;\r\n  }\r\n\r\n  get is_secured() {\r\n    return this._is_secured;\r\n  }\r\n\r\n  get expire_at() {\r\n    return this._expire_at;\r\n  }\r\n\r\n  get is_expired() {\r\n    if (this._expire_at === null || this._expire_at > Date.now()) return false;\r\n    return true;\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get text() {\r\n    const expire_text = this._expire_at ? ' ' + this._expire_at.toLocaleString(\"ru-RU\", {timeZone: \"Europe/Moscow\"}) : '';\r\n    return `${this._is_secured ? ',  ' : '  '}.  ${expire_text}.`;\r\n  }\r\n}\r\n\r\n\r\nclass File {\r\n  constructor(id, name, total_size, created, updated) {\r\n    this._id = id;\r\n    this._name = name;\r\n    this._total_size = total_size;\r\n    this._servers = [];\r\n    this._created = created;\r\n    this._updated = updated;\r\n    this._uploaded_size = 0;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  get size() {\r\n    return this._total_size;\r\n  }\r\n\r\n  get servers() {\r\n    return this._servers;\r\n  }\r\n\r\n  get names_of_servers() {\r\n    return this._servers.map(x => x.name)\r\n  }\r\n\r\n  set servers(new_servers) {\r\n    this._servers = new_servers\r\n  }\r\n\r\n  get created() {\r\n    return this._created;\r\n  }\r\n\r\n  get updated() {\r\n    return this._updated;\r\n  }\r\n\r\n  set_total_size(size) {\r\n    this._total_size = size;\r\n  }\r\n\r\n  _formatBytes(bytes, decimals) {\r\n    if (bytes == 0) return \"0 Bytes\";\r\n    var k = 1024,\r\n      dm = decimals || 2,\r\n      sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"],\r\n      i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  }\r\n\r\n  formatted_size(decimals) {\r\n    return this._formatBytes(this._total_size, decimals);\r\n  }\r\n\r\n  get progress() {\r\n    return Math.floor((this._uploaded_size / this._total_size) * 100);\r\n  }\r\n\r\n  get uploaded() {\r\n    return this._uploaded_size >= this._total_size;\r\n  }\r\n\r\n  set_size_complete() {\r\n    this._uploaded_size = this._total_size;\r\n  }\r\n\r\n  set_size(size) {\r\n    // console.log(`Size = ${size} bytes`);\r\n    if (size < 0) {\r\n      this._uploaded_size = 0;\r\n      return;\r\n    }\r\n    if (size > this._total_size) {\r\n      this._uploaded_size = this._total_size;\r\n      return;\r\n    }\r\n\r\n    // Always increase size\r\n    if (size > this._uploaded_size) this._uploaded_size = size;\r\n  }\r\n}\r\n\r\nexport {\r\n  User,\r\n  CdnServer,\r\n  File,\r\n  ShareLink,\r\n  UserAction\r\n};\r\n","import {\r\n  NegativeResponse,\r\n  LoginCredentialsRequest,\r\n  LoginCredentialsResponse,\r\n  LogoutRequest,\r\n  LogoutResponse,\r\n  MyCredentialsRequest,\r\n  MyCredentialsResponse,\r\n  RefreshTokensRequest,\r\n  RefreshTokensResponse,\r\n  GetUserActionsRequest,\r\n  GetUserActionsResponse,\r\n} from \"../../adapters/api\";\r\n\r\nimport {\r\n  ApiError,\r\n  UserLoginSuccess,\r\n  RefreshTokenOutdated,\r\n  UserLogoutSuccess,\r\n} from \"../../domain/event\";\r\n\r\nimport { User, UserAction } from \"../../domain/model\";\r\n\r\nclass WrongResponseError extends Error { }\r\n\r\nconst convert_user_response_obj_to_model = (obj) => {\r\n  const user = new User(\r\n    obj.username,\r\n    obj.email,\r\n    obj.first_name,\r\n    obj.last_name,\r\n    obj.is_superuser,\r\n    obj.permissions\r\n  );\r\n\r\n  return user;\r\n};\r\n\r\nconst login_with_credentials = async (event, uow) => {\r\n  uow.user_repository.reset_keeping_refs();\r\n  uow.token_repository.reset();\r\n\r\n  const request = new LoginCredentialsRequest({\r\n    username: event.username,\r\n    password: event.password,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof LoginCredentialsResponse) {\r\n    uow.token_repository.set_access_token(response.data.access_token);\r\n    uow.token_repository.set_refresh_token(response.data.refresh_token);\r\n    uow.api.set_auth_token(response.data.access_token);\r\n    uow.push_message(new UserLoginSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst my_credentials = async (event, uow) => {\r\n  const request = new MyCredentialsRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof MyCredentialsResponse) {\r\n    uow.user_repository.set_current(\r\n      convert_user_response_obj_to_model(response.data)\r\n    );\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst refresh_tokens = async (event, uow) => {\r\n  const access_token = uow.token_repository.get_access_token()\r\n  const refresh_token = uow.token_repository.get_refresh_token()\r\n\r\n  console.log('CURRENT REFRESH TOKEN', refresh_token);\r\n\r\n  if (!refresh_token) {\r\n    uow.push_message(new RefreshTokenOutdated());\r\n    return;\r\n  }\r\n\r\n  if (access_token) {\r\n    return;\r\n  }\r\n\r\n  uow.api.set_auth_token(refresh_token);\r\n  // console.log('SET AUTH TOKEN - REFRESH')\r\n\r\n  const request = new RefreshTokensRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    if (response.data.code === 'Auth.Error.TokenOutdated') {\r\n      uow.push_message(new RefreshTokenOutdated());\r\n    }\r\n    else\r\n      uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof RefreshTokensResponse) {\r\n    // console.log('NEW REFRESH TOKEN', response.data.refresh_token);\r\n    uow.token_repository.set_access_token(response.data.access_token);\r\n    uow.token_repository.set_refresh_token(response.data.refresh_token);\r\n    uow.api.set_auth_token(response.data.access_token);\r\n    // console.log('SET AUTH TOKEN - NEW ACCESS')\r\n    uow.token_timer.start()\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst logout = async (event, uow) => {\r\n  const request = new LogoutRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof LogoutResponse) {\r\n    uow.user_repository.reset();\r\n    uow.token_repository.reset();\r\n    uow.push_message(new UserLogoutSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst convert_user_action_response_obj_to_model = (obj) => {\r\n  const user = new UserAction(\r\n    obj.id,\r\n    obj.event,\r\n    obj.data,\r\n    new Date(obj.created),\r\n  );\r\n\r\n  return user;\r\n};\r\n\r\n\r\nconst get_user_actions = async (event, uow) => {\r\n  uow.action_repository.reset_keeping_refs();\r\n\r\n  const request = new GetUserActionsRequest({\r\n    page_num: event.page_num,\r\n    page_size: event.page_size,\r\n  });\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetUserActionsResponse) {\r\n    uow.action_repository.set_count(response.data.count)\r\n    response.data.data.forEach((obj) =>\r\n      uow.action_repository.set(obj.id,\r\n        convert_user_action_response_obj_to_model(obj)\r\n      ))\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nexport {\r\n  login_with_credentials,\r\n  my_credentials,\r\n  refresh_tokens,\r\n  logout,\r\n  get_user_actions,\r\n};\r\n","import {\r\n  NegativeResponse,\r\n  GetCdnServersRequest,\r\n  GetCdnServersResponse,\r\n  AddCdnServerRequest,\r\n  AddCdnServerResponse,\r\n  UpdateCdnServerRequest,\r\n  UpdateCdnServerResponse,\r\n  DeleteCdnServerRequest,\r\n  DeleteCdnServerResponse,\r\n  GetFileServersRequest,\r\n  GetFileServersResponse,\r\n} from \"../../adapters/api\";\r\n\r\nimport {\r\n  ApiError, CdnServerAdded, CdnServerDeleted, CdnServerUpdated,\r\n} from \"../../domain/event\";\r\n\r\nimport { CdnServer } from \"../../domain/model\";\r\n\r\nclass WrongResponseError extends Error { }\r\n\r\nconst convert_cdn_server_response_obj_to_model = (obj) => {\r\n  const user = new CdnServer(\r\n    obj.id,\r\n    obj.name,\r\n    obj.host,\r\n    obj.port,\r\n    obj.location,\r\n    obj.zone,\r\n    obj.latitude,\r\n    obj.longitude,\r\n    obj.is_on,\r\n    obj.is_active,\r\n    obj.created,\r\n    obj.updated\r\n  );\r\n\r\n  return user;\r\n};\r\n\r\nconst get_cdn_servers = async (event, uow) => {\r\n  const request = new GetCdnServersRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetCdnServersResponse) {\r\n    response.data.forEach((obj) =>\r\n      uow.cdn_server_repository.set(obj.id,\r\n        convert_cdn_server_response_obj_to_model(obj)\r\n      ))\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst add_cdn_server = async (event, uow) => {\r\n  const request = new AddCdnServerRequest({\r\n    name: event.name,\r\n    host: event.host,\r\n    port: event.port,\r\n    location: event.location,\r\n    zone: event.zone,\r\n    latitude: event.latitude,\r\n    longitude: event.longitude,\r\n    is_on: event.is_on,\r\n    is_active: event.is_active,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof AddCdnServerResponse) {\r\n    const obj = response.data;\r\n    uow.cdn_server_repository.set(obj.id,\r\n      convert_cdn_server_response_obj_to_model(obj)\r\n    )\r\n    uow.push_message(new CdnServerAdded());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst update_cdn_server = async (event, uow) => {\r\n  const request = new UpdateCdnServerRequest({\r\n    id: event.id,\r\n    name: event.name,\r\n    host: event.host,\r\n    port: event.port,\r\n    location: event.location,\r\n    zone: event.zone,\r\n    latitude: event.latitude,\r\n    longitude: event.longitude,\r\n    is_on: event.is_on,\r\n    is_active: event.is_active,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof UpdateCdnServerResponse) {\r\n    const obj = response.data;\r\n    uow.cdn_server_repository.set(obj.id,\r\n      convert_cdn_server_response_obj_to_model(obj)\r\n    )\r\n    uow.push_message(new CdnServerUpdated());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst delete_cdn_server = async (event, uow) => {\r\n  const request = new DeleteCdnServerRequest({\r\n    id: event.id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DeleteCdnServerResponse) {\r\n    uow.cdn_server_repository.delete(event.id)\r\n    uow.push_message(new CdnServerDeleted());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst get_file_servers = async (event, uow) => {\r\n  const request = new GetFileServersRequest({ id: event.id, });\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFileServersResponse) {\r\n    const servers = response.data.map((obj) =>\r\n      convert_cdn_server_response_obj_to_model(obj))\r\n\r\n    uow.file_repository.set_servers(event.id, servers)\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nexport {\r\n  get_file_servers,\r\n  get_cdn_servers,\r\n  add_cdn_server,\r\n  update_cdn_server,\r\n  delete_cdn_server,\r\n};\r\n","const get_extension_of_file = (filename) => {\r\n  return filename.split('.').pop() || \"\";\r\n}\r\n\r\nexport { get_extension_of_file };\r\n","import { get_extension_of_file } from \"./filename\";\r\n\r\nconst js_download_file = ({ data, filename, mime, bom, inline = false }) => {\r\n  console.log(filename)\r\n  const is_pdf =\r\n    mime === \"application/pdf\" ||\r\n    get_extension_of_file(filename).toLowerCase() == \"pdf\";\r\n\r\n  const is_html =\r\n    mime === \"text/html\" ||\r\n    get_extension_of_file(filename).toLowerCase() === \"html\";\r\n\r\n  const blobData = typeof bom !== \"undefined\" ? [bom, data] : [data];\r\n\r\n  if (!mime && is_pdf) mime = \"application/pdf\";\r\n  if (!mime && is_html) mime = \"text/html\";\r\n\r\n  const blob = new Blob(blobData, { type: mime });\r\n\r\n  if (typeof window.navigator.msSaveBlob !== \"undefined\") {\r\n    // IE workaround for \"HTML7007: One or more blob URLs were\r\n    // revoked by closing the blob for which they were created.\r\n    // These URLs will no longer resolve as the data backing\r\n    // the URL has been freed.\"\r\n    window.navigator.msSaveBlob(blob, filename);\r\n  } else {\r\n    var blobURL =\r\n      window.URL && window.URL.createObjectURL\r\n        ? window.URL.createObjectURL(blob)\r\n        : window.webkitURL.createObjectURL(blob);\r\n\r\n    const tempLink = document.createElement(\"a\");\r\n    tempLink.style.display = \"none\";\r\n    tempLink.href = blobURL;\r\n\r\n    const title = document.createElement(\"title\");\r\n    title.innerText = filename;\r\n\r\n    // Safari thinks _blank anchor are pop ups. We only want to set _blank\r\n    // target if the browser does not support the HTML5 download attribute.\r\n    // This allows you to download files in desktop safari if pop up blocking\r\n    // is enabled.\r\n    if (typeof tempLink.download === \"undefined\") {\r\n      tempLink.setAttribute(\"target\", \"_blank\");\r\n    }\r\n    if (inline === true && (is_pdf || is_html))\r\n      tempLink.addEventListener(\"click\", function (event) {\r\n        event.preventDefault();\r\n        let new_window = window.open(blobURL, \"_blank\");\r\n        new_window.onload = () => new_window.document.head.appendChild(title);\r\n      });\r\n    else tempLink.setAttribute(\"download\", filename);\r\n\r\n    document.body.appendChild(tempLink);\r\n    tempLink.click();\r\n\r\n    // Fixes \"webkit blob resource error 1\"\r\n    setTimeout(function () {\r\n      document.body.removeChild(tempLink);\r\n      window.URL.revokeObjectURL(blobURL);\r\n    }, 5000);\r\n  }\r\n};\r\n\r\nexport { js_download_file };\r\n","// import { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport {\r\n  NegativeResponse,\r\n  GetFilesRequest,\r\n  GetFilesResponse,\r\n  DeleteFileRequest,\r\n  DeleteFileResponse,\r\n  RenameFileRequest,\r\n  RenameFileResponse,\r\n  UploadFileRequest,\r\n  UploadFileResponse,\r\n  GetUploadLinkRequest,\r\n  GetUploadLinkResponse,\r\n  GetDownloadLinkRequest,\r\n  GetDownloadLinkResponse,\r\n  DownloadFileRequest,\r\n  DownloadFileResponse,\r\n  AddFileShareLinkRequest,\r\n  AddFileShareLinkResponse,\r\n  GetFileShareLinksRequest,\r\n  GetFileShareLinksResponse,\r\n  GetFileShareLinkRequest,\r\n  GetFileShareLinkResponse,\r\n  DeleteFileShareLinkRequest,\r\n  DeleteFileShareLinkResponse,\r\n  GetDownloadLinkByFileShareLinkRequest,\r\n  GetDownloadLinkByFileShareLinkResponse,\r\n} from \"../../adapters/api\";\r\n\r\nimport {\r\n  UploadFileByLink,\r\n  DownloadFileByLink\r\n} from \"../../domain/command\";\r\n\r\nimport {\r\n  ApiError,\r\n  UploadFileError,\r\n  UploadFileSuccess,\r\n  DownloadFileSuccess,\r\n  DeleteFileSuccess,\r\n  RenameFileSuccess,\r\n  FileShareLinkDeleted\r\n} from \"../../domain/event\";\r\n\r\nimport { File, ShareLink } from \"../../domain/model\";\r\nimport { js_download_file } from \"../utils/file_download\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nclass WrongResponseError extends Error { }\r\n\r\nconst convert_file_response_obj_to_model = (obj) => {\r\n  const f = new File(\r\n    obj.id,\r\n    obj.name,\r\n    obj.size,\r\n    new Date(obj.created),\r\n    new Date(obj.updated),\r\n  );\r\n\r\n  return f;\r\n};\r\n\r\nconst get_files = async (event, uow) => {\r\n  const request = new GetFilesRequest();\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFilesResponse) {\r\n    uow.file_repository.reset_keeping_refs();\r\n    response.data.forEach((obj) => {\r\n      const f = convert_file_response_obj_to_model(obj);\r\n      f.set_size_complete();\r\n      uow.file_repository.set(f.id, f);\r\n    })\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nconst delete_file = async (event, uow) => {\r\n  const request = new DeleteFileRequest({\r\n    id: event.id,\r\n  });\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DeleteFileResponse) {\r\n    uow.file_repository.delete(event.id);\r\n    uow.push_message(new DeleteFileSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst rename_file = async (event, uow) => {\r\n  const request = new RenameFileRequest({\r\n    id: event.id,\r\n    name: event.name,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof RenameFileResponse) {\r\n    const f = convert_file_response_obj_to_model(response.data);\r\n    f.set_size_complete();\r\n    uow.file_repository.set(f.id, f);\r\n    uow.push_message(new RenameFileSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nconst upload_file = async (event, uow) => {\r\n  //     \r\n  const request = new GetUploadLinkRequest({\r\n    name: event.file.name,\r\n    size: event.file.size,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n  if (response instanceof GetUploadLinkResponse) {\r\n    const f = convert_file_response_obj_to_model(response.data.file)\r\n    uow.file_repository.set(f.id, f)\r\n\r\n    uow.push_message(new UploadFileByLink(f.id, response.data.link, event.file));\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst upload_file_by_link = async (event, uow) => {\r\n  const file = uow.file_repository.get(event.id) //ref\r\n  const request = new UploadFileRequest({\r\n    link: event.link,\r\n    original_file: event.file,\r\n    on_progress: (x) => file.value.set_size(x)\r\n  });\r\n\r\n  let response = null;\r\n\r\n  try {\r\n    response = await uow.api.call(request);\r\n  } catch (error) {\r\n    uow.push_message(new UploadFileError(event.file.name));\r\n    console.log(error);\r\n  }\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.file_repository.delete(event.id);\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof UploadFileResponse) {\r\n    //   ,    100%\r\n    uow.file_repository.set_size_complete(event.id);\r\n    uow.push_message(new UploadFileSuccess());\r\n    return;\r\n  }\r\n\r\n  uow.file_repository.delete(event.id);\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst download_file = async (event, uow) => {\r\n  //     \r\n  const request = new GetDownloadLinkRequest({\r\n    id: event.id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n  if (response instanceof GetDownloadLinkResponse) {\r\n    uow.push_message(new DownloadFileByLink(\r\n      response.data.link, response.data.file.name, response.data.file.size));\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst download_file_by_link = async (event, uow) => {\r\n  const id = uuidv4();\r\n\r\n  const file = new File(id, event.name, event.size, new Date(), new Date());\r\n  console.log(file)\r\n  uow.download_progress.set(id, file);\r\n\r\n  const request = new DownloadFileRequest({\r\n    set_size_method: (size) => uow.download_progress.set_size(id, size),\r\n    link: event.link,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DownloadFileResponse) {\r\n    js_download_file({\r\n      data: response.data.file,\r\n      filename: event.name,\r\n    });\r\n    uow.push_message(new DownloadFileSuccess());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst convert_file_link_response_obj_to_model = (obj) => {\r\n  const f = convert_file_response_obj_to_model(obj.file)\r\n  const link = new ShareLink(\r\n    obj.id,\r\n    f,\r\n    obj.is_secured,\r\n    obj.expire_at ? new Date(obj.expire_at) : null,\r\n    new Date(obj.created),\r\n  );\r\n\r\n  return link;\r\n};\r\n\r\nconst add_file_share_link = async (event, uow) => {\r\n  const request = new AddFileShareLinkRequest({\r\n    id: event.id,\r\n    lifetime: event.lifetime,\r\n    password: event.password\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof AddFileShareLinkResponse) {\r\n    const obj = convert_file_link_response_obj_to_model(response.data);\r\n    uow.link_repository.set(obj.id, obj);\r\n    return obj;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst get_file_share_links = async (event, uow) => {\r\n  uow.link_repository.reset_keeping_refs();\r\n  const request = new GetFileShareLinksRequest({\r\n    file_id: event.file_id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFileShareLinksResponse) {\r\n    response.data.forEach((obj) => {\r\n      const f = convert_file_link_response_obj_to_model(obj);\r\n      uow.link_repository.set(f.id, f);\r\n    })\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst flush_file_share_links = async (event, uow) => {\r\n    uow.link_repository.reset_keeping_refs();\r\n};\r\n\r\nconst get_file_share_link = async (event, uow) => {\r\n  const request = new GetFileShareLinkRequest({\r\n    file_id: event.file_id,\r\n    link_id: event.link_id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof GetFileShareLinkResponse) {\r\n    return convert_file_link_response_obj_to_model(response.data);\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst delete_file_share_link = async (event, uow) => {\r\n  const request = new DeleteFileShareLinkRequest({\r\n    file_id: event.file_id,\r\n    link_id: event.link_id,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n\r\n  if (response instanceof DeleteFileShareLinkResponse) {\r\n    console.log('LINK BEFORe', JSON.stringify(uow.link_repository.values().map(obj => obj.value.id)))\r\n    console.log('LINK BEFORe', JSON.stringify(uow.link_repository.pure_keys()))\r\n    console.log('DELETE LINK', event.link_id)\r\n    console.log('LINK AFTER', JSON.stringify(uow.link_repository.values().map(obj => obj.value.id)))\r\n    console.log('LINK AFTER', JSON.stringify(uow.link_repository.pure_keys()))\r\n    uow.link_repository.delete(event.link_id);\r\n    uow.push_message(new FileShareLinkDeleted());\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\nconst download_file_by_file_share_link = async (event, uow) => {\r\n  //     \r\n  const request = new GetDownloadLinkByFileShareLinkRequest({\r\n    file_id: event.file_id,\r\n    link_id: event.link_id,\r\n    password: event.password,\r\n  });\r\n\r\n  const response = await uow.api.call(request);\r\n\r\n  if (response instanceof NegativeResponse) {\r\n    uow.push_message(new ApiError(response.data.code));\r\n    return;\r\n  }\r\n  if (response instanceof GetDownloadLinkByFileShareLinkResponse) {\r\n    uow.push_message(new DownloadFileByLink(\r\n      response.data.link, response.data.file.name, response.data.file.size));\r\n    return;\r\n  }\r\n\r\n  throw new WrongResponseError();\r\n};\r\n\r\n\r\nexport {\r\n  upload_file,\r\n  upload_file_by_link,\r\n  get_files,\r\n  delete_file,\r\n  rename_file,\r\n  download_file,\r\n  download_file_by_link,\r\n  add_file_share_link,\r\n  get_file_share_links,\r\n  flush_file_share_links,\r\n  get_file_share_link,\r\n  delete_file_share_link,\r\n  download_file_by_file_share_link\r\n};\r\n","import {\r\n  Notify,\r\n  NotifyApiError,\r\n} from \"../domain/command\";\r\nimport router from \"../../router\";\r\n\r\nconst handle_api_error = (event, uow) => {\r\n  uow.push_message(new NotifyApiError(event.code));\r\n};\r\n\r\nconst user_login_success = async (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", \"   \"));\r\n};\r\n\r\nconst access_token_outdated = async (event, uow) => {\r\n  uow.push_message(new Notify(\"error\", \"  Access Token \"));\r\n};\r\n\r\nconst refresh_token_outdated = async (event, uow) => {\r\n  uow.push_message(new Notify(\"error\", \"  Refresh Token . ,  .\"));\r\n  router.push({\r\n    name: \"LoginPage\",\r\n    // query: { url: encodeURIComponent(route.fullPath) },\r\n  });\r\n  // await MessageBus.handle(new GetUserPermissions(), uow);\r\n};\r\n\r\nconst user_logout_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"info\", \"   \"));\r\n};\r\n\r\nconst upload_file_error = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"error\", `   ${event.filename}`)\r\n  );\r\n};\r\n\r\nconst upload_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", ` `));\r\n};\r\n\r\nconst download_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", ` `));\r\n};\r\n\r\nconst rename_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", ` `));\r\n};\r\n\r\nconst delete_file_success = (event, uow) => {\r\n  uow.push_message(new Notify(\"success\", ` `));\r\n};\r\n\r\nconst file_share_link_copied = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", `      `)\r\n  );\r\n};\r\n\r\nconst file_share_link_deleted = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", `   `)\r\n  );\r\n};\r\n\r\nconst cdn_server_added = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", ` `)\r\n  );\r\n};\r\n\r\nconst cdn_server_updated = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", ` `)\r\n  );\r\n};\r\n\r\nconst cdn_server_deleted = (event, uow) => {\r\n  uow.push_message(\r\n    new Notify(\"success\", ` `)\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\nexport {\r\n  handle_api_error,\r\n  user_login_success,\r\n  access_token_outdated,\r\n  refresh_token_outdated,\r\n  user_logout_success,\r\n  upload_file_error,\r\n  upload_file_success,\r\n  download_file_success,\r\n  rename_file_success,\r\n  delete_file_success,\r\n  file_share_link_copied,\r\n  file_share_link_deleted,\r\n  cdn_server_added,\r\n  cdn_server_updated,\r\n  cdn_server_deleted\r\n};\r\n","/*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\r\n\r\nimport { Command } from \"../domain/command\";\r\nimport { Event } from \"../domain/event\";\r\n\r\nimport {\r\n  notify,\r\n  notify_api_error,\r\n} from \"./command_handlers/common_handlers\";\r\n\r\nimport {\r\n  login_with_credentials,\r\n  my_credentials,\r\n  refresh_tokens,\r\n  logout,\r\n  get_user_actions,\r\n} from \"./command_handlers/user_handlers\";\r\n\r\nimport {\r\n  get_cdn_servers,\r\n  add_cdn_server,\r\n  update_cdn_server,\r\n  delete_cdn_server,\r\n  get_file_servers,\r\n} from \"./command_handlers/cdn_server_handlers\";\r\n\r\nimport {\r\n  get_files,\r\n  delete_file,\r\n  rename_file,\r\n  upload_file,\r\n  upload_file_by_link,\r\n  download_file,\r\n  download_file_by_link,\r\n  add_file_share_link,\r\n  get_file_share_links,\r\n  flush_file_share_links,\r\n  get_file_share_link,\r\n  delete_file_share_link,\r\n  download_file_by_file_share_link,\r\n} from \"./command_handlers/file_handlers\";\r\n\r\n\r\nimport {\r\n  handle_api_error,\r\n  upload_file_error,\r\n  upload_file_success,\r\n  download_file_success,\r\n  rename_file_success,\r\n  delete_file_success,\r\n  user_login_success,\r\n  access_token_outdated,\r\n  refresh_token_outdated,\r\n  user_logout_success,\r\n  file_share_link_copied,\r\n  file_share_link_deleted,\r\n  cdn_server_added,\r\n  cdn_server_updated,\r\n  cdn_server_deleted\r\n} from \"./event_handlers\";\r\n\r\nconst COMMAND_HANDLERS = {\r\n  Notify: [notify],\r\n  NotifyApiError: [notify_api_error],\r\n  // GetInfo: [get_info],\r\n\r\n  // USER\r\n  LoginWithCredentials: [login_with_credentials],\r\n  MyCredentials: [my_credentials],\r\n  RefreshTokens: [refresh_tokens],\r\n  // LoginWithToken: [login_with_token],\r\n  Logout: [logout],\r\n  GetUserActions: [get_user_actions],\r\n\r\n  // CDN SERVERS\r\n  GetCdnServers: [get_cdn_servers],\r\n  AddCdnServer: [add_cdn_server],\r\n  UpdateCdnServer: [update_cdn_server],\r\n  DeleteCdnServer: [delete_cdn_server],\r\n\r\n  // FILE\r\n  GetFiles: [get_files],\r\n  GetFileServers: [get_file_servers],\r\n  DeleteFile: [delete_file],\r\n  RenameFile: [rename_file],\r\n  UploadFile: [upload_file],\r\n  UploadFileByLink: [upload_file_by_link],\r\n  DownloadFile: [download_file],\r\n  DownloadFileByLink: [download_file_by_link],\r\n\r\n  // SHARE LINK\r\n  AddFileShareLink: [add_file_share_link],\r\n  GetFileShareLinks: [get_file_share_links],\r\n  FlushFileShareLinks: [flush_file_share_links],\r\n  GetFileShareLink: [get_file_share_link],\r\n  DeleteFileShareLink: [delete_file_share_link],\r\n  DownloadFileByFileShareLink: [download_file_by_file_share_link],\r\n};\r\n\r\nconst EVENT_HANDLERS = {\r\n  ApiError: [handle_api_error],\r\n  UserLoginSuccess: [user_login_success],\r\n  AccessTokenOutdated: [access_token_outdated],\r\n  RefreshTokenOutdated: [refresh_token_outdated],\r\n  UserLogoutSuccess: [user_logout_success],\r\n  UploadFileError: [upload_file_error],\r\n  UploadFileSuccess: [upload_file_success],\r\n  DownloadFileSuccess: [download_file_success],\r\n  DeleteFileSuccess: [delete_file_success],\r\n  RenameFileSuccess: [rename_file_success],\r\n  FileShareLinkCopied: [file_share_link_copied],\r\n  FileShareLinkDeleted: [file_share_link_deleted],\r\n  CdnServerAdded: [cdn_server_added],\r\n  CdnServerUpdated: [cdn_server_updated],\r\n  CdnServerDeleted: [cdn_server_deleted],\r\n};\r\n\r\nclass NotImplementedError extends Error {}\r\n\r\nclass MessageBus {\r\n  static async handle(message, uow) {\r\n    let result = [];\r\n    let quenue = [message];\r\n    // console.log(\"Enter message bus for message \", message);\r\n\r\n    while (true) {\r\n      // console.log(\"QUENUE = \", quenue);\r\n      if (quenue.length === 0) break;\r\n\r\n      const handle_function = async (current_message) => {\r\n        // console.log(current_message);\r\n\r\n        if (current_message instanceof Command) {\r\n          const new_messages = await this.handle_command(\r\n            current_message,\r\n            uow,\r\n            result\r\n          );\r\n          // console.log(\"New command messages \", new_messages);\r\n          quenue = quenue.concat(new_messages);\r\n        }\r\n\r\n        if (current_message instanceof Event) {\r\n          const new_messages = await this.handle_event(current_message, uow);\r\n          // console.log(\"New event messages \", new_messages);\r\n          quenue = quenue.concat(new_messages);\r\n        }\r\n      };\r\n\r\n      //  \"map\"   \r\n      //      \r\n      const promises = quenue.map(handle_function);\r\n      quenue = [];\r\n      await Promise.all(promises);\r\n    }\r\n\r\n    // console.log(\"Leave message bus for message \", message);\r\n    return result;\r\n  }\r\n\r\n  static async handle_command(message, uow, result) {\r\n    let new_messages = [];\r\n\r\n    if (\r\n      !Object.prototype.hasOwnProperty.call(\r\n        COMMAND_HANDLERS,\r\n        message.constructor.name\r\n      )\r\n    ) {\r\n      throw new NotImplementedError(\r\n        'There is no handler for command \"' + message.constructor.name + '\"'\r\n      );\r\n    }\r\n\r\n    const handlers = COMMAND_HANDLERS[message.constructor.name];\r\n\r\n    const handle_function = async (handler) => {\r\n      try {\r\n        const command_result = await handler(message, uow);\r\n        result.push(command_result);\r\n\r\n        const events = uow.collect_new_messages();\r\n        new_messages = new_messages.concat(events);\r\n      } catch (e) {\r\n        console.log(\r\n          'Exception \"' +\r\n            e.toString() +\r\n            '\" handling command \"' +\r\n            message.constructor.name +\r\n            '\"'\r\n        );\r\n      }\r\n    };\r\n\r\n    //  \"map\"   \r\n    //      \r\n    const promises = handlers.map(handle_function);\r\n    await Promise.all(promises);\r\n\r\n    // console.log(\"Return command new messages\");\r\n\r\n    return new_messages;\r\n  }\r\n\r\n  static async handle_event(message, uow) {\r\n    let new_messages = [];\r\n\r\n    if (\r\n      !Object.prototype.hasOwnProperty.call(\r\n        EVENT_HANDLERS,\r\n        message.constructor.name\r\n      )\r\n    ) {\r\n      throw new NotImplementedError(\r\n        'There is no handler for event \"' + message.constructor.name + '\"'\r\n      );\r\n    }\r\n\r\n    const handlers = EVENT_HANDLERS[message.constructor.name];\r\n\r\n    const handle_function = async (handler) => {\r\n      try {\r\n        await handler(message, uow);\r\n        const events = uow.collect_new_messages();\r\n        new_messages = new_messages.concat(events);\r\n      } catch (e) {\r\n        console.log(\r\n          'Exception \"' +\r\n            e.toString() +\r\n            '\" handling event \"' +\r\n            message.constructor.name +\r\n            '\"'\r\n        );\r\n      }\r\n    };\r\n\r\n    //  \"map\"   \r\n    //      \r\n    const promises = handlers.map(handle_function);\r\n    await Promise.all(promises);\r\n\r\n    // console.log(\"Return event new messages\");\r\n\r\n    return new_messages;\r\n  }\r\n}\r\n\r\nexport { MessageBus };\r\n","<template>\r\n  <button\r\n    class=\"btn\"\r\n    :class=\"{\r\n      btn_primary: type === 'primary',\r\n      btn_secondary: type === 'secondary',\r\n      btn_success: type === 'success',\r\n      btn_warning: type === 'warning',\r\n      btn_danger: type === 'danger',\r\n      btn_disabled: disabled === true,\r\n      btn_small: size === 'small',\r\n      btn_middle: size === 'middle',\r\n      btn_big: size === 'big',\r\n    }\"\r\n    :disabled=\"disabled\"\r\n  >\r\n    {{ caption }}\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"BtnComponent\",\r\n  props: {\r\n    caption: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    type: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    size: {\r\n      type: String,\r\n      required: false,\r\n      default: \"middle\",\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.btn {\r\n  display: inline-block;\r\n  padding: 0.375em 0.75em 0.375em 0.75em;\r\n  border: 1px solid;\r\n  color: white;\r\n  box-sizing: border-box;\r\n  line-height: 1.5;\r\n}\r\n\r\n.btn_small {\r\n  border-radius: 3px;\r\n  font-size: 12px;\r\n}\r\n\r\n.btn_middle {\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.btn_big {\r\n  border-radius: 8px;\r\n  font-size: 32px;\r\n}\r\n\r\n.btn_disabled {\r\n  background-color: gray !important;\r\n  border-color: gray !important;\r\n}\r\n\r\n.btn_primary {\r\n  background-color: #007bff;\r\n  border-color: #007bff;\r\n}\r\n.btn_primary:hover {\r\n  background-color: rgb(11, 94, 215);\r\n  border-color: rgb(11, 94, 215);\r\n}\r\n.btn_secondary {\r\n  background-color: #6c757d;\r\n  border-color: #6c757d;\r\n}\r\n.btn_secondary:hover {\r\n  background-color: rgb(92, 99, 106);\r\n  border-color: rgb(92, 99, 106);\r\n}\r\n.btn_success {\r\n  background-color: #28a745;\r\n  border-color: #28a745;\r\n}\r\n.btn_success:hover {\r\n  background-color: rgb(21, 115, 71);\r\n  border-color: rgb(21, 115, 71);\r\n}\r\n.btn_danger {\r\n  background-color: #dc3545;\r\n  border-color: #dc3545;\r\n}\r\n.btn_danger:hover {\r\n  background-color: rgb(187, 45, 59);\r\n  border-color: rgb(187, 45, 59);\r\n}\r\n.btn_warning {\r\n  color: black;\r\n  background-color: #ffc107;\r\n  border-color: #ffc107;\r\n}\r\n.btn_warning:hover {\r\n  background-color: rgb(255, 202, 44);\r\n  border-color: rgb(255, 202, 44);\r\n}\r\n</style>","import { render } from \"./BtnComponent.vue?vue&type=template&id=6615cd5c\"\nimport script from \"./BtnComponent.vue?vue&type=script&lang=js\"\nexport * from \"./BtnComponent.vue?vue&type=script&lang=js\"\n\nimport \"./BtnComponent.vue?vue&type=style&index=0&id=6615cd5c&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <p\r\n    class=\"heading\"\r\n    v-bind:class=\"{\r\n      heading_big: size === 'big',\r\n      heading_middle: size === 'middle',\r\n      heading_small: size === 'small',\r\n    }\"\r\n  >\r\n    {{ text }}\r\n  </p>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HeadingComponent\",\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    size: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.heading {\r\n  display: block;\r\n  font-weight: 500;\r\n}\r\n\r\n.heading_big {\r\n  font-size: 48px;\r\n}\r\n\r\n.heading_middle {\r\n  font-size: 28px;\r\n}\r\n\r\n.heading_small {\r\n  font-size: 20px;\r\n}\r\n</style>","import { render } from \"./HeadingComponent.vue?vue&type=template&id=e0de76cc\"\nimport script from \"./HeadingComponent.vue?vue&type=script&lang=js\"\nexport * from \"./HeadingComponent.vue?vue&type=script&lang=js\"\n\nimport \"./HeadingComponent.vue?vue&type=style&index=0&id=e0de76cc&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"formtextinput\">\r\n    <input\r\n      class=\"textinput\"\r\n      :style=\"style\"\r\n      :type=\"secure === true ? 'password' : 'text'\"\r\n      :value=\"value\"\r\n      :placeholder=\"placeholder\"\r\n      :disabled=\"is_disabled\"\r\n      @input=\"$emit('update', $event.target.value)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormTextInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: String,\r\n      required: false,\r\n      // default: \"\",\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || \"\";\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n    const height = computed(() => props.parameters[\"height\"] || 0);\r\n    const style = computed(() =>\r\n      height.value == 0\r\n        ? { color: color.value }\r\n        : {\r\n            color: color.value,\r\n            \"min-height\": height.value.toString() + \"px\",\r\n            \"max-height\": height.value.toString() + \"px\",\r\n          }\r\n    );\r\n\r\n    const placeholder = computed(() => props.parameters[\"placeholder\"] || \"\");\r\n    const secure = computed(() => props.parameters[\"secure\"] || false);\r\n    const is_disabled = computed(\r\n      () => props.parameters[\"is_disabled\"] || false\r\n    );\r\n    const color = computed(() => props.parameters[\"color\"] || \"black\");\r\n\r\n    return { placeholder, secure, is_disabled, color, style };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formtextinput {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.textinput {\r\n  box-sizing: border-box;\r\n}\r\n</style>\r\n","import { render } from \"./FormTextInput.vue?vue&type=template&id=fae75948&scoped=true\"\nimport script from \"./FormTextInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormTextInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormTextInput.vue?vue&type=style&index=0&id=fae75948&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fae75948\"]])\n\nexport default __exports__","import { render } from \"./LoginPage.vue?vue&type=template&id=4cf0db28&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=4cf0db28&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4cf0db28\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page\">\r\n    <heading-component\r\n      class=\"page__heading\"\r\n      text=\"  \"\r\n      size=\"middle\"\r\n    />\r\n    <div class=\"page__container\">\r\n      <div class=\"page__form-backdrop\" v-if=\"is_form_opened\">\r\n        <base-form\r\n          class=\"page__form\"\r\n          :attributes=\"form_attributes\"\r\n          :settings=\"form_pages\"\r\n          @update=\"handle_update_form_attribute($event.name, $event.value)\"\r\n          @close=\"handle_form_close()\"\r\n          @apply=\"handle_form_apply()\"\r\n        >\r\n        </base-form>\r\n      </div>\r\n      <div class=\"page__topcontainer\">\r\n        <div class=\"page__infocontainer\">\r\n          <div v-if=\"user\" class=\"page__userinfo\">\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\"> :</p>\r\n              <p class=\"page__uservalue\">{{ user.username }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">E-mail:</p>\r\n              <p class=\"page__uservalue\">{{ user.email }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">:</p>\r\n              <p class=\"page__uservalue\">{{ user.first_name }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">:</p>\r\n              <p class=\"page__uservalue\">{{ user.last_name }}</p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\"> ?:</p>\r\n              <p class=\"page__uservalue\">\r\n                {{ user.is_superuser ? \"\" : \"\" }}\r\n              </p>\r\n            </div>\r\n            <div class=\"page__userrow\">\r\n              <p class=\"page__userlabel\">:</p>\r\n              <ul class=\"page__uservalue\">\r\n                <li v-for=\"perm in user.permissions\" :key=\"perm\">{{ perm }}</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"selected_file_id\" class=\"page__fileinfo\">\r\n            <form-text-field\r\n              value=\"  \"\r\n              :parameters=\"{ font_weight: 600 }\"\r\n            />\r\n            <form-text-input\r\n              :value=\"selected_file_name\"\r\n              @update=\"selected_file_name = $event\"\r\n            />\r\n            <btn-component\r\n              \r\n              v-if=\"selected_file_name\"\r\n              class=\"fileinfo__button\"\r\n              caption=\"\"\r\n              type=\"success\"\r\n              @click=\"handle_rename_file()\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"page__filecontainer\">\r\n          <file-list\r\n            :files=\"downloading_files\"\r\n            :can_be_deleted=\"false\"\r\n            \r\n            :can_be_dragged=\"false\"\r\n          />\r\n          <file-drop-zone\r\n            class=\"page__filedropzone\"\r\n            :class=\"{ page__filedropzone_dragging: is_drag_above_file_zone }\"\r\n            @add:file=\"handle_new_file_drop($event)\"\r\n            @update:dragging=\"is_drag_above_file_zone = $event\"\r\n          >\r\n            <span v-if=\"!is_drag_above_file_zone\" class=\"page__dropzonetitle\">\r\n              Drag&Drop &lt; {{ max_file_size }} </span\r\n            >\r\n          </file-drop-zone>\r\n          \r\n          <input\r\n            type=\"file\"\r\n            id=\"file-input\"\r\n            multiple\r\n            @change=\"\r\n              Array.prototype.forEach.call($event.target.files, (f) =>\r\n                handle_new_file_drop(f)\r\n              )\r\n            \"\r\n          />\r\n        </div>\r\n        <div class=\"page__historycontainer hystorycontainer\">\r\n          <form-text-field\r\n            value=\"  :\"\r\n            :parameters=\"{ font_weight: 600 }\"\r\n          />\r\n          <document-pagination-row\r\n            :total_count=\"ua_total_count\"\r\n            :count_per_page=\"ua_count_per_page\"\r\n            :current_page=\"ua_current_page\"\r\n            :variants=\"ua_variants\"\r\n            @set:count_per_page=\"ua_select_count_per_page($event)\"\r\n            @select:page=\"ua_select_page($event)\"\r\n          />\r\n          <div\r\n            v-for=\"action in user_actions\"\r\n            :key=\"action.id\"\r\n            class=\"historycontainer__row history__row\"\r\n          >\r\n            <div class=\"history__date\">\r\n              {{\r\n                action.created.toLocaleString(\"ru-RU\", {\r\n                  timeZone: \"Europe/Moscow\",\r\n                })\r\n              }}\r\n            </div>\r\n            <div class=\"history__text\">{{ action.text }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"page__linkcontainer linkcontainer\">\r\n          <form-text-field\r\n            value=\"  ( ):\"\r\n            :parameters=\"{ font_weight: 600 }\"\r\n          />\r\n          <div\r\n            v-for=\"link in share_links\"\r\n            :key=\"link.id\"\r\n            class=\"linkcontainer__row link__row\"\r\n          >\r\n            <div class=\"link__delete\" @click=\"handle_delete_link(link.id)\" />\r\n            <div class=\"link__date\">\r\n              {{\r\n                link.created.toLocaleString(\"ru-RU\", {\r\n                  timeZone: \"Europe/Moscow\",\r\n                })\r\n              }}\r\n            </div>\r\n            <div v-if=\"link.is_expired\" class=\"link__text link__text_expired\">\r\n                 \r\n            </div>\r\n            <div v-else class=\"link__text\">\r\n              <a :href=\"make_share_link_for_selected_file(link.id)\"></a\r\n              >{{ link.text }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"page__middlecontainer\">\r\n        <div class=\"filerowheader\">\r\n          <div class=\"filerow__button\" />\r\n          <div class=\"filerow__name\"></div>\r\n\r\n          <div class=\"filerow__date\"></div>\r\n          <div class=\"filerow__date\"></div>\r\n\r\n          <div\r\n            v-for=\"server in servers\"\r\n            :key=\"server.id\"\r\n            class=\"filerow__server server\"\r\n          >\r\n            <p>{{ server.name }}</p>\r\n            <p>{{ server.location }}</p>\r\n            <p>{{ server.zone }}</p>\r\n            <p>: {{ server.latitude }}</p>\r\n            <p>: {{ server.longitude }}</p>\r\n            <form-boolean-input\r\n              v-if=\"can_change_server\"\r\n              class=\"server__activator\"\r\n              :value=\"server.is_active\"\r\n              :parameters=\"{ size: 20, hint: '' }\"\r\n              @update=\"handle_activate_server(server, $event)\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          v-for=\"file in files\"\r\n          :key=\"file.id\"\r\n          class=\"filerow\"\r\n          :class=\"{ filerow_selected: file.id === selected_file_id }\"\r\n        >\r\n          <div class=\"filerow__selector\">\r\n            <form-boolean-input\r\n              :value=\"file.id === selected_file_id\"\r\n              :parameters=\"{ size: 26 }\"\r\n              @click=\"handle_select_file(file.id, file.name)\"\r\n            />\r\n          </div>\r\n          <div class=\"filerow__button\">\r\n            <div\r\n              class=\"filerow__img filerow__img_delete\"\r\n              @click=\"handle_delete(file.id)\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"filerow__name\">\r\n            <file-block\r\n              :file=\"file\"\r\n              @download:file=\"handle_download(file.id)\"\r\n              @copy_link_to:file=\"handle_copy_link(file.id)\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"filerow__date\">\r\n            {{\r\n              file.created.toLocaleString(\"ru-RU\", {\r\n                timeZone: \"Europe/Moscow\",\r\n              })\r\n            }}\r\n          </div>\r\n\r\n          <div class=\"filerow__date\">\r\n            {{\r\n              file.updated.toLocaleString(\"ru-RU\", {\r\n                timeZone: \"Europe/Moscow\",\r\n              })\r\n            }}\r\n          </div>\r\n\r\n          <div\r\n            v-for=\"server in servers\"\r\n            :key=\"server.name\"\r\n            class=\"filerow__server\"\r\n          >\r\n            <div\r\n              class=\"filerow__img\"\r\n              :class=\"{\r\n                filerow__img_yes: file.names_of_servers.includes(server.name),\r\n                filerow__img_no: !file.names_of_servers.includes(server.name),\r\n              }\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted, watch } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { VueUnitOfWork } from \"../logic/service_layer/uow\";\r\nimport {\r\n  Notify,\r\n  GetCdnServers,\r\n  GetUserActions,\r\n  GetFiles,\r\n  GetFileServers,\r\n  RefreshTokens,\r\n  UploadFile,\r\n  DeleteFile,\r\n  DownloadFile,\r\n  RenameFile,\r\n  AddFileShareLink,\r\n  GetFileShareLinks,\r\n  FlushFileShareLinks,\r\n  DeleteFileShareLink,\r\n  UpdateCdnServer,\r\n} from \"../logic/domain/command\";\r\nimport {\r\n  UploadFileTooBigError,\r\n  FileShareLinkCopied,\r\n} from \"../logic/domain/event\";\r\nimport HeadingComponent from \"../components/HeadingComponent.vue\";\r\nimport DocumentPaginationRow from \"../components/document/DocumentPaginationRow.vue\";\r\nimport FileDropZone from \"../components/file/FileDropZone.vue\";\r\nimport FileBlock from \"../components/file/FileBlock.vue\";\r\nimport FileList from \"../components/file/FileList.vue\";\r\nimport { MessageBus } from \"../logic/service_layer/message_bus\";\r\n\r\nimport BaseForm from \"../components/forms/BaseForm.vue\";\r\nimport FormTextField from \"../components/fields/FormTextField.vue\";\r\nimport FormTextInput from \"../components/fields/FormTextInput.vue\";\r\nimport FormBooleanInput from \"../components/fields/FormBooleanInput.vue\";\r\nimport BtnComponent from \"../components/buttons/BtnComponent.vue\";\r\nimport { useBeforeEnterPage } from \"../logic/service_layer/use_modules\";\r\n\r\nexport default {\r\n  components: {\r\n    HeadingComponent,\r\n    FileBlock,\r\n    FileDropZone,\r\n    FileList,\r\n    FormTextField,\r\n    FormTextInput,\r\n    FormBooleanInput,\r\n    DocumentPaginationRow,\r\n    BaseForm,\r\n    BtnComponent,\r\n    // FolderTreeNode,\r\n    // ToggleTextButton,\r\n  },\r\n  name: \"MainPage\",\r\n\r\n  setup() {\r\n    const router = useRouter();\r\n    const uow = new VueUnitOfWork();\r\n    const max_file_size = 100; // MB\r\n\r\n    // CDN SERVERS\r\n    const can_change_server = computed(() =>\r\n      user.value\r\n        ? user.value.permissions.includes(\"can_change_cdnserver\")\r\n        : false\r\n    );\r\n\r\n    const servers = computed(() =>\r\n      uow.cdn_server_repository\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .filter((obj) => obj.is_on)\r\n        .toSorted((a, b) => a.zone.localeCompare(b.zone))\r\n    );\r\n\r\n    const handle_activate_server = async (server, is_active) => {\r\n      await MessageBus.handle(\r\n        new UpdateCdnServer(\r\n          server.id,\r\n          server.name,\r\n          server.host,\r\n          server.port,\r\n          server.location,\r\n          server.zone,\r\n          server.latitude,\r\n          server.longitude,\r\n          server.is_on,\r\n          is_active\r\n        ),\r\n        uow\r\n      );\r\n    };\r\n\r\n    // HISTORY\r\n    const user_actions = computed(() =>\r\n      uow.action_repository\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .toSorted((a, b) => b.created - a.created)\r\n    );\r\n    const ua_total_count = uow.action_repository.get_count(); // Ref\r\n    const ua_current_page = ref(1);\r\n    const ua_count_per_page = ref(10);\r\n    const ua_variants = ref([5, 10]);\r\n\r\n    const ua_select_page = (page_num) => (ua_current_page.value = page_num);\r\n    const ua_select_count_per_page = (page_size) =>\r\n      (ua_count_per_page.value = page_size);\r\n\r\n    watch([ua_current_page, ua_count_per_page], async () => {\r\n      await refresh_actions();\r\n    });\r\n\r\n    const refresh_actions = async () =>\r\n      await MessageBus.handle(\r\n        new GetUserActions(ua_current_page.value, ua_count_per_page.value),\r\n        uow\r\n      );\r\n\r\n    // FILES\r\n    const files = computed(() =>\r\n      uow.file_repository.values().map((obj) => obj.value)\r\n    );\r\n\r\n    const downloading_files = computed(() =>\r\n      uow.download_progress\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .filter((f) => !f.uploaded)\r\n    );\r\n\r\n    watch(files, async (arr) => {\r\n      arr.forEach(async (f) => {\r\n        if (f.servers.length < servers.value.length)\r\n          await MessageBus.handle(new GetFileServers(f.id), uow);\r\n      });\r\n    });\r\n\r\n    const handle_delete = async (id) => {\r\n      await MessageBus.handle(new FlushFileShareLinks(), uow);\r\n      await MessageBus.handle(new DeleteFile(id), uow);\r\n      selected_file_id.value = null;\r\n      selected_file_name.value = \"\";\r\n      await refresh_actions();\r\n    };\r\n\r\n    const handle_download = async (id) => {\r\n      await MessageBus.handle(new DownloadFile(id), uow);\r\n      await refresh_actions();\r\n    };\r\n\r\n    const selected_file_id = ref(null);\r\n    const selected_file_name = ref(\"\");\r\n\r\n    const handle_select_file = async (id, name) => {\r\n      selected_file_id.value = id;\r\n      selected_file_name.value = name;\r\n      await MessageBus.handle(new GetFileShareLinks(id), uow);\r\n    };\r\n\r\n    const handle_rename_file = async () => {\r\n      await MessageBus.handle(\r\n        new RenameFile(selected_file_id.value, selected_file_name.value),\r\n        uow\r\n      );\r\n      await refresh_actions();\r\n    };\r\n\r\n    // DRAGGING\r\n    const is_drag_above_file_zone = ref(false);\r\n\r\n    // DROP\r\n    const handle_new_file_drop = async (file) => {\r\n      let message = null;\r\n      if (file.size > max_file_size * 1024 * 1024) {\r\n        message = new UploadFileTooBigError(file.name);\r\n      } else {\r\n        message = new UploadFile(file);\r\n      }\r\n      await MessageBus.handle(message, uow);\r\n      await refresh_actions();\r\n    };\r\n\r\n    // SHARE LINKS\r\n    const share_links = computed(() => {\r\n      let links = uow.link_repository\r\n        .values()\r\n        .map((obj) => obj.value)\r\n        .toSorted((a, b) => b.created - a.created);\r\n      return links;\r\n    });\r\n\r\n    const make_share_link = (file_id, link_id) => {\r\n      const props = router.resolve({\r\n        name: \"DownloadFilePage\",\r\n        params: {\r\n          file_id: file_id,\r\n          link_id: link_id,\r\n        },\r\n      });\r\n\r\n      return window.location.origin + props.href;\r\n    };\r\n\r\n    const make_share_link_for_selected_file = (link_id) =>\r\n      make_share_link(selected_file_id.value, link_id);\r\n\r\n    const handle_copy_link_into_clipboard = (file_id, link_id) => {\r\n      const url = make_share_link(file_id, link_id);\r\n\r\n      if (navigator.clipboard)\r\n        navigator.clipboard\r\n          .writeText(url)\r\n          .then(() => MessageBus.handle(new FileShareLinkCopied(), uow));\r\n      else console.log(url);\r\n    };\r\n\r\n    const handle_delete_link = async (link_id) => {\r\n      await MessageBus.handle(\r\n        new DeleteFileShareLink(selected_file_id.value, link_id),\r\n        uow\r\n      );\r\n    };\r\n\r\n    // FORM\r\n    const is_form_opened = ref(false);\r\n    const form_attributes = reactive({\r\n      FILE_ID: null,\r\n      LIFETIME: \"0\",\r\n      PASSWORD: \"\",\r\n    });\r\n\r\n    const handle_copy_link = (file_id) => {\r\n      handle_update_form_attribute(\"FILE_ID\", file_id);\r\n      selected_file_id.value = file_id;\r\n      is_form_opened.value = true;\r\n    };\r\n\r\n    const handle_form_close = () => {\r\n      is_form_opened.value = false;\r\n    };\r\n\r\n    const handle_form_apply = async () => {\r\n      const file_id = form_attributes[\"FILE_ID\"];\r\n      let lifetime = Number.parseInt(form_attributes[\"LIFETIME\"]);\r\n      let password = form_attributes[\"PASSWORD\"];\r\n\r\n      if (!password) password = null;\r\n\r\n      if (isNaN(lifetime) || lifetime < 0) {\r\n        await MessageBus.handle(\r\n          new Notify(\"error\", \"     \"),\r\n          uow\r\n        );\r\n        return;\r\n      }\r\n\r\n      if (lifetime === 0) {\r\n        lifetime = null;\r\n      } else {\r\n        lifetime *= 60;\r\n      }\r\n\r\n      is_form_opened.value = false;\r\n      const results = await MessageBus.handle(\r\n        new AddFileShareLink(file_id, lifetime, password),\r\n        uow\r\n      );\r\n      const link = results[0];\r\n      handle_copy_link_into_clipboard(file_id, link.id);\r\n      await refresh_actions();\r\n    };\r\n\r\n    const handle_update_form_attribute = (name, value) =>\r\n      (form_attributes[name] = value);\r\n\r\n    const form_pages = [\r\n      {\r\n        size: 400,\r\n        name: \" \",\r\n        fields: [\r\n          {\r\n            type: \"FormTextField\",\r\n            parameters: {\r\n              font_weight: \"bold\",\r\n            },\r\n            value: \"     (0 - ):\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"LIFETIME\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            parameters: {\r\n              font_weight: \"bold\",\r\n            },\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"PASSWORD\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    // TIMERS\r\n    const refresh_tokens = async () =>\r\n      await MessageBus.handle(new RefreshTokens(), uow);\r\n\r\n    uow.token_timer.set_callback(refresh_tokens);\r\n    uow.token_timer.start();\r\n\r\n    const get_files = async () => {\r\n      files.value.forEach(async (f) => {\r\n        if (f.servers.length < servers.value.length)\r\n          await MessageBus.handle(new GetFileServers(f.id), uow);\r\n      });\r\n    };\r\n\r\n    uow.get_files_timer.set_callback(get_files);\r\n    // uow.get_files_timer.start();\r\n\r\n    const user = uow.user_repository.get_current(); // Ref\r\n\r\n    onMounted(async () => {\r\n      await useBeforeEnterPage(uow, []);\r\n      await MessageBus.handle(new GetCdnServers(), uow);\r\n      await MessageBus.handle(new GetFiles(), uow);\r\n      await refresh_actions();\r\n    });\r\n\r\n    return {\r\n      // USER\r\n      user,\r\n\r\n      // USER ACTIONS\r\n      user_actions,\r\n      ua_total_count,\r\n      ua_current_page,\r\n      ua_count_per_page,\r\n      ua_variants,\r\n      ua_select_page,\r\n      ua_select_count_per_page,\r\n\r\n      // SERVER\r\n      can_change_server,\r\n      servers,\r\n      handle_activate_server,\r\n\r\n      // FILE\r\n      files,\r\n      selected_file_id,\r\n      selected_file_name,\r\n      handle_select_file,\r\n      downloading_files,\r\n      max_file_size,\r\n      is_drag_above_file_zone,\r\n      handle_new_file_drop,\r\n      handle_delete,\r\n      handle_download,\r\n      handle_copy_link,\r\n      handle_rename_file,\r\n\r\n      // FORM\r\n      is_form_opened,\r\n      form_pages,\r\n      form_attributes,\r\n      handle_update_form_attribute,\r\n      handle_form_apply,\r\n      handle_form_close,\r\n\r\n      // SHARE LINK\r\n      share_links,\r\n      make_share_link,\r\n      make_share_link_for_selected_file,\r\n      handle_copy_link_into_clipboard,\r\n      handle_delete_link,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  padding-right: 60px;\r\n}\r\n\r\n.page__heading {\r\n  padding-top: 60px;\r\n  padding-bottom: 15px;\r\n}\r\n.page__container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* max-width: 1000px; */\r\n}\r\n\r\n.page__topcontainer {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: stretch;\r\n}\r\n\r\n.page__userinfo {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.page__userrow {\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 3px;\r\n}\r\n\r\n.page__userlabel {\r\n  min-width: 200px;\r\n  font-weight: 500;\r\n}\r\n.page__uservalue {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n}\r\n\r\n.page__filedropzone {\r\n  width: 100%;\r\n  max-width: 300px;\r\n  max-height: 200px;\r\n  border: 2px dashed grey;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n  margin: 5px;\r\n}\r\n\r\n.page__filedropzone_dragging {\r\n  background: repeating-linear-gradient(\r\n    45deg,\r\n    #606dbc,\r\n    #606dbc 10px,\r\n    #465298 10px,\r\n    #465298 20px\r\n  );\r\n}\r\n\r\n.page__dropzonetitle {\r\n  font-size: 24px;\r\n}\r\n\r\n.page__middlecontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 20px;\r\n}\r\n\r\n.page__filecontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-left: 20px;\r\n  min-height: 300px;\r\n}\r\n\r\n.page__historycontainer,\r\n.page__linkcontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  margin-left: 20px;\r\n}\r\n\r\n.page__historycontainer {\r\n  flex-grow: 1;\r\n}\r\n\r\n.page__linkcontainer {\r\n  min-width: 450px;\r\n  max-width: 450px;\r\n}\r\n\r\n.filerow,\r\n.filerowheader {\r\n  display: flex;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  align-items: center;\r\n}\r\n\r\n.filerow {\r\n  cursor: pointer;\r\n}\r\n\r\n.filerow_selected {\r\n  background-color: lightgray !important;\r\n}\r\n\r\n.filerowheader {\r\n  font-weight: 600;\r\n  text-align: center;\r\n}\r\n\r\n.filerow:nth-child(odd) {\r\n  background-color: lightyellow;\r\n}\r\n\r\n.filerow:nth-child(even) {\r\n  background-color: rgb(215, 242, 255);\r\n}\r\n\r\n.filerow__name {\r\n  flex-grow: 1;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n\r\n.filerow__button {\r\n  min-width: 30px;\r\n  max-width: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.filerow__selector,\r\n.server__activator {\r\n  min-width: 30px;\r\n  max-width: 30px;\r\n}\r\n\r\n.filerow__server {\r\n  min-width: 150px;\r\n  max-width: 150px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.filerow__date {\r\n  min-width: 100px;\r\n  max-width: 100px;\r\n  text-align: center;\r\n}\r\n\r\n.filerow__img {\r\n  min-width: 26px;\r\n  max-width: 26px;\r\n  min-height: 26px;\r\n  max-height: 26px;\r\n}\r\n\r\n.filerow__img_yes {\r\n  background: url(\"../../public/check.png\") top left/26px 26px no-repeat;\r\n}\r\n\r\n.filerow__img_no {\r\n  background: url(\"../../public/cancel.png\") top left/26px 26px no-repeat;\r\n}\r\n\r\n.filerow__img_delete {\r\n  background: url(\"../../public/delete.png\") top left/26px 26px no-repeat;\r\n  cursor: pointer;\r\n}\r\n\r\n.history__row,\r\n.link__row {\r\n  display: flex;\r\n}\r\n\r\n.history__date,\r\n.link__date {\r\n  min-width: 150px;\r\n}\r\n\r\n.history__text,\r\n.link__text {\r\n  margin-left: 20px;\r\n  flex-grow: 1;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.link__text_expired {\r\n  text-decoration: line-through;\r\n}\r\n\r\n.link__delete {\r\n  background: url(\"../../public/delete.png\") top left/20px 20px no-repeat;\r\n  cursor: pointer;\r\n  min-width: 20px;\r\n  max-width: 20px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.page__form-backdrop {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.page__form {\r\n  background: #ffffff;\r\n  box-shadow: 2px 2px 20px 1px;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.filerowdescription {\r\n  text-align: end;\r\n}\r\n\r\n.page__infocontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.page__fileinfo {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.fileinfo__button {\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"documentpaginationrow\">\r\n    <span></span>\r\n    <div\r\n      class=\"documentpaginationrow__variants\"\r\n      v-for=\"count in variants\"\r\n      :key=\"count\"\r\n    >\r\n      <text-button\r\n        class=\"documentpaginationrow__textbutton\"\r\n        :class=\"{\r\n          documentpaginationrow__textbutton_active: count === count_per_page,\r\n        }\"\r\n        :title=\"count.toString()\"\r\n        @click=\"\r\n          $emit('select:page', 1);\r\n          $emit('set:count_per_page', count);\r\n        \"\r\n      />\r\n    </div>\r\n    <span> |  </span>\r\n\r\n    <div\r\n      v-if=\"!is_intermediate_part_shown && has_intermediate_part\"\r\n      class=\"documentpaginationrow__container\"\r\n    >\r\n      <div\r\n        class=\"documentpaginationrow__subcontainer\"\r\n        v-for=\"page in pages_before\"\r\n        :key=\"page.index\"\r\n      >\r\n        <text-button\r\n          class=\"documentpaginationrow__textbutton\"\r\n          :class=\"{\r\n            documentpaginationrow__textbutton_active:\r\n              page.index === current_page,\r\n          }\"\r\n          :title=\"page.index.toString()\"\r\n          @click=\"$emit('select:page', page.index)\"\r\n        />\r\n      </div>\r\n\r\n      <text-button\r\n        class=\"documentpaginationrow__textbutton\"\r\n        title=\"...\"\r\n        @click=\"$emit('show:pages')\"\r\n      />\r\n\r\n      <div\r\n        class=\"documentpaginationrow__subcontainer\"\r\n        v-for=\"page in pages_after\"\r\n        :key=\"page.index\"\r\n      >\r\n        <text-button\r\n          class=\"documentpaginationrow__textbutton\"\r\n          :class=\"{\r\n            documentpaginationrow__textbutton_active:\r\n              page.index === current_page,\r\n          }\"\r\n          :title=\"page.index.toString()\"\r\n          @click=\"$emit('select:page', page.index)\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"documentpaginationrow__container\">\r\n      <div\r\n        class=\"documentpaginationrow__subcontainer\"\r\n        v-for=\"page in pages\"\r\n        :key=\"page.index\"\r\n      >\r\n        <text-button\r\n          class=\"documentpaginationrow__textbutton\"\r\n          :class=\"{\r\n            documentpaginationrow__textbutton_active:\r\n              page.index === current_page,\r\n          }\"\r\n          :title=\"page.index.toString()\"\r\n          @click=\"$emit('select:page', page.index)\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, watch, onMounted } from \"vue\";\r\nimport TextButton from \"../buttons/TextButton.vue\";\r\nexport default {\r\n  components: { TextButton },\r\n  name: \"DocumentPaginationRow\",\r\n  props: {\r\n    total_count: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    count_per_page: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    current_page: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    variants: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    max_count_of_pages: {\r\n      type: Number,\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    count_before: {\r\n      type: Number,\r\n      required: false,\r\n      default: 10,\r\n    },\r\n    count_after: {\r\n      type: Number,\r\n      required: false,\r\n      default: 5,\r\n    },\r\n    is_intermediate_part_shown: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true,\r\n    },\r\n  },\r\n  emits: [\"select:page\", \"set:count_per_page\", \"set:page_range\", \"show:pages\"],\r\n\r\n  setup(props, { emit }) {\r\n    const pages = computed(() => {\r\n      return Array.from(\r\n        Array(Math.ceil(props.total_count / props.count_per_page)).keys()\r\n      ).map((num) => {\r\n        const min = num * props.count_per_page;\r\n        const max = (num + 1) * props.count_per_page - 1;\r\n        return {\r\n          index: num + 1,\r\n          min: min,\r\n          max: Math.min(max, props.total_count - 1),\r\n        };\r\n      });\r\n    });\r\n\r\n    const has_intermediate_part = computed(\r\n      () => pages.value.length - props.count_before - props.count_after > 0\r\n    );\r\n\r\n    const pages_before = computed(() =>\r\n      pages.value.filter((x) => x.index <= props.count_before)\r\n    );\r\n\r\n    const pages_after = computed(() =>\r\n      pages.value.filter(\r\n        (x) => x.index >= pages.value.length - props.count_after + 1\r\n      )\r\n    );\r\n\r\n    const page = computed(() =>\r\n      pages.value.find((e) => e.index === props.current_page)\r\n    );\r\n\r\n    watch(page, (newValue) => emit(\"set:page_range\", newValue));\r\n\r\n    onMounted(() => emit(\"set:page_range\", page.value));\r\n\r\n    return {\r\n      page,\r\n      pages,\r\n      has_intermediate_part,\r\n      pages_before,\r\n      pages_after,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.documentpaginationrow,\r\n.documentpaginationrow__container,\r\n.documentpaginationrow__subcontainer {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.documentpaginationrow__textbutton_active {\r\n  color: red;\r\n}\r\n</style>","<template>\r\n  <div class=\"textbutton\" :class=\"{ textbutton_disabled: disabled }\">\r\n    {{ title }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TextButton\",\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.textbutton {\r\n  color: #447e9b;\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  user-select: none;\r\n}\r\n.textbutton:hover {\r\n  color: #062a3b;\r\n}\r\n.textbutton_disabled {\r\n  pointer-events: none;\r\n  opacity: 0.4;\r\n}\r\n</style>","import { render } from \"./TextButton.vue?vue&type=template&id=2869d17a\"\nimport script from \"./TextButton.vue?vue&type=script&lang=js\"\nexport * from \"./TextButton.vue?vue&type=script&lang=js\"\n\nimport \"./TextButton.vue?vue&type=style&index=0&id=2869d17a&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentPaginationRow.vue?vue&type=template&id=6eebb904&scoped=true\"\nimport script from \"./DocumentPaginationRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPaginationRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPaginationRow.vue?vue&type=style&index=0&id=6eebb904&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6eebb904\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"filedropzone\"\r\n    @drop.prevent=\"handleDrop($event)\"\r\n    @dragover.prevent\r\n    @dragenter.prevent=\"is_dragging = true\"\r\n    @dragleave.prevent=\"is_dragging = false\"\r\n  >\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { watch, ref } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FileDropZone\",\r\n  props: {\r\n    filename_pattern: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => /.*/,\r\n    },\r\n  },\r\n  emits: [\"add:file\", \"update:dragging\", \"wrong:filename\"],\r\n\r\n  setup(props, { emit }) {\r\n    const is_dragging = ref(false);\r\n    const regexp = new RegExp(props.filename_pattern);\r\n\r\n    const handleDrop = (e) => {\r\n      is_dragging.value = false;\r\n      Array.prototype.forEach.call(e.dataTransfer.files, (file) => {\r\n        if (file.name.toString().match(regexp))\r\n          emit(\"add:file\", file);\r\n        else emit(\"wrong:filename\", file.name.toString());\r\n      });\r\n    };\r\n\r\n    watch(is_dragging, (newValue, oldValue) => {\r\n      if (newValue !== oldValue) {\r\n        emit(\"update:dragging\", newValue);\r\n      }\r\n    });\r\n\r\n    return { handleDrop, is_dragging };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./FileDropZone.vue?vue&type=template&id=1310559a\"\nimport script from \"./FileDropZone.vue?vue&type=script&lang=js\"\nexport * from \"./FileDropZone.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"file.progress === 100\" class=\"fileblock\">\r\n    <span\r\n      v-if=\"can_be_deleted\"\r\n      class=\"fileblock__deletebutton\"\r\n      @click=\"$emit('delete:file')\"\r\n      >(X)\r\n    </span>\r\n\r\n    <form-text-input\r\n      v-if=\"is_rename_active\"\r\n      class=\"fileblock__input\"\r\n      :value=\"filename\"\r\n      @update=\"filename = $event\"\r\n    />\r\n    <a\r\n      v-else\r\n      class=\"fileblock__link\"\r\n      href=\"#\"\r\n      :draggable=\"can_be_dragged\"\r\n      @dragstart=\"handle_drag_start($event)\"\r\n      @dragend=\"$emit('dragend:file')\"\r\n      @click=\"\r\n        if (is_uploaded === true) {\r\n          $emit('download:file', false);\r\n        }\r\n      \"\r\n    >\r\n      {{ file.name }} ({{ file.formatted_size() }})</a\r\n    >\r\n\r\n    <span class=\"fileblock__linkbutton\" @click=\"$emit('copy_link_to:file')\"\r\n      >&#128279;\r\n    </span>\r\n\r\n    <toggle-text-button\r\n      v-if=\"can_be_renamed && filename.length > 0\"\r\n      class=\"fileblock__renamebutton\"\r\n      :class=\"{fileblock__renamebutton_red: is_rename_active}\"\r\n      activeTitle=\"\"\r\n      passiveTitle=\"\"\r\n      :isActive=\"is_rename_active\"\r\n      @click=\"handle_click_on_rename_button()\"\r\n    />\r\n  </div>\r\n  <span v-else class=\"fileblock__title\"\r\n    >{{ file.name }} ({{ file.formatted_size() }}){{ progress_str }}</span\r\n  >\r\n</template>\r\n\r\n<script>\r\nimport { watch, ref, computed } from \"vue\";\r\nimport ToggleTextButton from \"../buttons/ToggleTextButton.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\nimport { get_extension_of_file } from \"../../logic/service_layer/utils/filename\";\r\n\r\nexport default {\r\n  name: \"FileBlock\",\r\n  components: { ToggleTextButton, FormTextInput },\r\n  props: {\r\n    file: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    can_be_deleted: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    can_be_dragged: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    can_be_renamed: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\r\n    \"delete:file\",\r\n    \"dragstart:file\",\r\n    \"dragend:file\",\r\n    \"download:file\",\r\n    \"copy_link_to:file\",\r\n    \"rename:file\",\r\n    \"rename:activated\",\r\n  ],\r\n\r\n  setup(props, { emit }) {\r\n    const progress_str = ref(\"\");\r\n    watch(\r\n      () => props.file.progress,\r\n      (newValue) => {\r\n        progress_str.value = newValue < 100 ? ` (${newValue}%)` : \"\";\r\n      }\r\n    );\r\n\r\n    const handle_drag_start = (evt) => {\r\n      evt.dataTransfer.setData(\"text/plain\", props.file.id);\r\n      emit(\"dragstart:file\");\r\n    };\r\n\r\n    const is_uploaded = computed(() => props.file.progress === 100);\r\n\r\n    const ext = get_extension_of_file(props.file.name);\r\n    const basename = ext\r\n      ? props.file.name.substring(0, props.file.name.length - ext.length - 1)\r\n      : props.file.name;\r\n\r\n    const is_rename_active = ref(false);\r\n    const filename = ref(basename);\r\n\r\n    const handle_click_on_rename_button = () => {\r\n      if (is_rename_active.value) {\r\n        emit(\"rename:file\", filename.value + (ext ? \".\" + ext : \"\"));\r\n      } else {\r\n        emit(\"rename:activated\");\r\n      }\r\n      is_rename_active.value = !is_rename_active.value;\r\n    };\r\n\r\n    return {\r\n      progress_str,\r\n      handle_drag_start,\r\n      is_uploaded,\r\n      is_rename_active,\r\n      filename,\r\n      handle_click_on_rename_button,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.fileblock {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.fileblock__deletebutton,\r\n.fileblock__linkbutton {\r\n  user-select: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.fileblock__linkbutton_rename {\r\n  font-size: 20px;\r\n}\r\n\r\n.fileblock__renamebutton_red {\r\n  color: red;\r\n}\r\n\r\n.fileblock__renamebutton_red:hover {\r\n  color: red;\r\n}\r\n</style>","<template>\r\n  <div class=\"toggletextbutton\">\r\n    {{ isActive ? activeTitle : passiveTitle }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ToggleTextButton\",\r\n  props: {\r\n    isActive: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    activeTitle: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    passiveTitle: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.toggletextbutton {\r\n  color: #447e9b;\r\n  cursor: pointer;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n}\r\n.toggletextbutton:hover {\r\n  color: #062a3b;\r\n}\r\n</style>","import { render } from \"./ToggleTextButton.vue?vue&type=template&id=cb9d649a\"\nimport script from \"./ToggleTextButton.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleTextButton.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleTextButton.vue?vue&type=style&index=0&id=cb9d649a&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FileBlock.vue?vue&type=template&id=940c9aaa\"\nimport script from \"./FileBlock.vue?vue&type=script&lang=js\"\nexport * from \"./FileBlock.vue?vue&type=script&lang=js\"\n\nimport \"./FileBlock.vue?vue&type=style&index=0&id=940c9aaa&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"filelist\">\r\n    <file-block\r\n      class=\"filelist__fileblock\"\r\n      v-for=\"file in files\"\r\n      :key=\"file.id\"\r\n      :file=\"file\"\r\n      :can_be_dragged=\"can_be_dragged\"\r\n      :can_be_deleted=\"can_be_deleted\"\r\n      :can_be_renamed=\"can_be_renamed\"\r\n      @dragstart:file=\"$emit('dragstart:file')\"\r\n      @dragend=\"$emit('dragend:file')\"\r\n      @download:file=\"$emit('download:file', [file, $event])\"\r\n      @delete:file=\"$emit('delete:file', file.id)\"\r\n      @rename:file=\"$emit('rename:file', [file.id, $event])\"\r\n      @rename:activated=\"$emit('rename:activated', file.id)\"\r\n      @copy_link_to:file=\"$emit('copy_link_to:file', file)\"\r\n      >{{ file.name }}\r\n    </file-block>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FileBlock from \"./FileBlock.vue\";\r\n\r\nexport default {\r\n  components: { FileBlock },\r\n  name: \"FileList\",\r\n  props: {\r\n    files: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    can_be_dragged: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    can_be_deleted: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    can_be_renamed: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\r\n    \"dragstart:file\",\r\n    \"dragend:file\",\r\n    \"download:file\",\r\n    \"delete:file\",\r\n    \"rename:file\",\r\n    \"rename:activated\",\r\n    \"copy_link_to:file\",\r\n  ],\r\n};\r\n</script>\r\n<style scoped>\r\n.filelist {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.filelist__fileblock {\r\n  padding-top: 3px;\r\n  padding-bottom: 3px;\r\n}\r\n</style>","import { render } from \"./FileList.vue?vue&type=template&id=15d69ea0&scoped=true\"\nimport script from \"./FileList.vue?vue&type=script&lang=js\"\nexport * from \"./FileList.vue?vue&type=script&lang=js\"\n\nimport \"./FileList.vue?vue&type=style&index=0&id=15d69ea0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15d69ea0\"]])\n\nexport default __exports__","<template>\r\n    <div\r\n      class=\"baseform\"\r\n      :style=\"{width: form_width.toString() + 'px'}\"\r\n    >\r\n      <div class=\"baseform-header\" v-if=\"is_header_required\">\r\n        <div class=\"baseform-header__pagenum\">{{ page_index + 1 }}.</div>\r\n        <div class=\"baseform-header__name\">{{ page_name }}</div>\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_left\"\r\n          title=\" \"\r\n          v-if=\"page_index > 0\"\r\n          @click=\"page_index = Math.max(0, page_index - 1)\"\r\n        />\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_right\"\r\n          title=\" \"\r\n          v-if=\"page_index < page_count - 1\"\r\n          @click=\"page_index = Math.min(page_index + 1, page_count - 1)\"\r\n        />\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_apply\"\r\n          title=\"\"\r\n          @click=\"$emit('apply')\"\r\n        />\r\n        <div\r\n          class=\"baseform-header__button baseform-header__button_close\"\r\n          title=\"\"\r\n          @click=\"$emit('close')\"\r\n        />\r\n      </div>\r\n      <div class=\"baseform-body\">\r\n        <component\r\n          class=\"baseform-body__field\"\r\n          v-for=\"(field, index) in page_fields\"\r\n          :is=\"field.type\"\r\n          :key=\"page_index.toString() + '|' + field.type + '|' + index.toString()\"\r\n          :parameters=\"field.parameters\"\r\n          :context=\"make_field_context(field)\"\r\n          :value=\"field.value ? field.value : attributes[field.bind]\"\r\n          @update=\"\r\n            if (field.bind) {\r\n              $emit('update', { name: field.bind, value: $event });\r\n            }\r\n          \"\r\n        >\r\n          {{ attributes }}\r\n        </component>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from \"vue\";\r\n\r\nimport FormTextField from \"../fields/FormTextField.vue\";\r\nimport FormHtmlField from \"../fields/FormHtmlField.vue\";\r\nimport FormBooleanInput from \"../fields/FormBooleanInput.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\nimport FormMultilineTextInput from \"../fields/FormMultilineTextInput.vue\";\r\nimport FormDateInput from \"../fields/FormDateInput.vue\";\r\nimport FormEmailToAddressField from \"../fields/FormEmailToAddressField.vue\";\r\nimport FormEmailToAddressInput from \"../fields/FormEmailToAddressInput.vue\";\r\nimport FormHtmlInput from \"../fields/FormHtmlInput.vue\";\r\n// import FormHiddenInput from \"../fields/FormHiddenInput.vue\";\r\nimport FormSelectInput from \"../fields/FormSelectInput.vue\";\r\nimport FormFilteredSelectInput from \"../fields/FormFilteredSelectInput.vue\";\r\n\r\nexport default {\r\n  name: \"BaseForm\",\r\n  components: {\r\n    FormTextField,\r\n    FormHtmlField,\r\n    FormBooleanInput,\r\n    FormTextInput,\r\n    FormMultilineTextInput,\r\n    FormEmailToAddressField,\r\n    FormEmailToAddressInput,\r\n    FormDateInput,\r\n    FormHtmlInput,\r\n    // FormHiddenInput,\r\n    FormSelectInput,\r\n    FormFilteredSelectInput,\r\n  },\r\n  props: {\r\n    settings: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    context: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    attributes: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    is_header_required: {\r\n      type:Boolean,\r\n      required: false,\r\n      default: true\r\n    }\r\n  },\r\n  emits: [\"apply\", \"close\", \"update\"],\r\n\r\n  setup(props) {\r\n    // PAGE\r\n    const page_index = ref(0);\r\n    const page_count = computed(() => props.settings.length);\r\n\r\n    const page_settings = computed(\r\n      () => props.settings[page_index.value]\r\n    );\r\n\r\n    // GEOMETRY\r\n    const form_width = computed(\r\n      () => page_settings.value[\"size\"] || \"w500\"\r\n    );\r\n    const page_name = computed(\r\n      () => page_settings.value[\"name\"] || \"\"\r\n    );\r\n\r\n    // FIELDS\r\n    const page_fields = computed(() => page_settings.value[\"fields\"] || []);\r\n\r\n    // CONTEXT\r\n    const make_field_context = (field) => {\r\n      if (!field.bind_context) return {};\r\n\r\n      let result = {};\r\n      Object.keys(field.bind_context).forEach(\r\n        (key) => (result[key] = props.context[field.bind_context[key]])\r\n      );\r\n\r\n      return result;\r\n    };\r\n\r\n    return {\r\n      // PAGE\r\n      page_settings,\r\n      page_index,\r\n      page_count,\r\n      page_name,\r\n\r\n      // GEOMETRY\r\n      form_width,\r\n\r\n      // FIELDS\r\n      page_fields,\r\n\r\n      // CONTEXT\r\n      make_field_context,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.baseform {\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.baseform-header {\r\n  display: flex;\r\n  height: 33px;\r\n  border-bottom: 1px solid black;\r\n  align-items: center;\r\n}\r\n\r\n.baseform-header__pagenum {\r\n  font-size: 20px;\r\n  padding: 3px;\r\n}\r\n\r\n.baseform-header__name {\r\n  font-size: 20px;\r\n  padding: 3px;\r\n  flex-grow: 1;\r\n}\r\n\r\n.baseform-header__button {\r\n  min-width: 30px;\r\n  min-height: 30px;\r\n  padding: 3px;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  color: lightcoral;\r\n}\r\n\r\n.baseform-header__button:hover {\r\n  mask-image: linear-gradient(rgba(0, 0, 0, 1), transparent, rgba(0, 0, 0, 1));\r\n}\r\n\r\n.baseform-header__button_left {\r\n  background: url(\"../../../public/left.png\") center center/24px 24px no-repeat;\r\n}\r\n\r\n.baseform-header__button_right {\r\n  background: url(\"../../../public/right.png\") center center/24px 24px no-repeat;\r\n}\r\n\r\n.baseform-header__button_apply {\r\n  background: url(\"../../../public/check.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.baseform-header__button_close {\r\n  background: url(\"../../../public/cancel.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.baseform-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.baseform-body__field {\r\n  margin: 3px 0px;\r\n}\r\n</style>","<template>\r\n  <div\r\n    class=\"formtextfield\"\r\n    :style=\"{ 'text-align': align, 'font-weight': font_weight }\"\r\n    :title=\"hint\"\r\n  >\r\n    {{ value }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormTextField\",\r\n\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const align = computed(() => props.parameters[\"align\"] || \"left\");\r\n    const font_weight = computed(\r\n      () => props.parameters[\"font_weight\"] || \"normal\"\r\n    );\r\n    const hint = computed(() => props.parameters[\"hint\"] || \"\");\r\n\r\n    return { align, font_weight, hint };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.formtextfield {\r\n  display: block;\r\n}\r\n</style>","import { render } from \"./FormTextField.vue?vue&type=template&id=43049fc2\"\nimport script from \"./FormTextField.vue?vue&type=script&lang=js\"\nexport * from \"./FormTextField.vue?vue&type=script&lang=js\"\n\nimport \"./FormTextField.vue?vue&type=style&index=0&id=43049fc2&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"formhtmlfield\" :style=\"{ height: height.toString() + 'px' }\">\r\n    <iframe class=\"formhtmlfield__iframe\" :srcdoc=\"value\"> </iframe>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormHtmlField\",\r\n\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const height = computed(() => props.parameters[\"height\"] || 500);\r\n    return { height };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.formhtmlfield {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.formhtmlfield__iframe {\r\n  flex-grow: 1;\r\n  border: none;\r\n}\r\n</style>","import { render } from \"./FormHtmlField.vue?vue&type=template&id=be019dbe\"\nimport script from \"./FormHtmlField.vue?vue&type=script&lang=js\"\nexport * from \"./FormHtmlField.vue?vue&type=script&lang=js\"\n\nimport \"./FormHtmlField.vue?vue&type=style&index=0&id=be019dbe&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"formbooleaninput\">\r\n    <input\r\n      class=\"booleaninput\"\r\n      :style=\"style\"\r\n      type=\"checkbox\"\r\n      :title=\"hint\"\r\n      :checked=\"value\"\r\n      :disabled=\"is_disabled\"\r\n      @change=\"$emit('update', $event.target.checked)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormBooleanInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: undefined,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || false;\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n    const size = computed(() => props.parameters[\"size\"] || 0);\r\n    const style = computed(() =>\r\n      size.value == 0\r\n        ? {}\r\n        : {\r\n            \"min-width\": size.value.toString() + \"px\",\r\n            \"max-width\": size.value.toString() + \"px\",\r\n            \"min-height\": size.value.toString() + \"px\",\r\n            \"max-height\": size.value.toString() + \"px\",\r\n          }\r\n    );\r\n\r\n    const hint = computed(() => props.parameters[\"hint\"] || \"\");\r\n    const is_disabled = computed(\r\n      () => props.parameters[\"is_disabled\"] || false\r\n    );\r\n\r\n    return { size, hint, is_disabled, style };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formbooleaninput {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.booleaninput {\r\n  margin: 0;\r\n  /* min-width: 100%;\r\n  min-height: 100%;\r\n  max-width: 100%;\r\n  max-height: 100%; */\r\n  box-sizing: border-box;\r\n}\r\n</style>","import { render } from \"./FormBooleanInput.vue?vue&type=template&id=1381d60c&scoped=true\"\nimport script from \"./FormBooleanInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormBooleanInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormBooleanInput.vue?vue&type=style&index=0&id=1381d60c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1381d60c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"form-multiline-text-input\">\r\n    <textarea\r\n      class=\"multiline-text-input\"\r\n      :style=\"{ color: color, resize: resize}\"\r\n      :disabled=\"is_disabled\"\r\n      :rows=\"rows\"\r\n      v-model=\"text\"\r\n      @input=\"$emit('update', $event.target.value)\"\r\n      ></textarea\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch, computed} from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormMultilineTextInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: String,\r\n      required: false,\r\n      // default: \"\",\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || \"\";\r\n    // if (!props.value) emit(\"update\", default_value);\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n\r\n    const rows = computed(() => props.parameters[\"rows\"] || 10);\r\n    const is_disabled = computed(() => props.parameters[\"is_disabled\"] || false);\r\n    const color = computed(() => props.parameters[\"color\"] || 'black');\r\n    const resize = computed(() => props.parameters[\"resize\"] || 'none');\r\n\r\n    const text = ref(\"\")\r\n    watch(() => props.value, (newValue) => text.value = newValue);\r\n\r\n    return { rows, is_disabled, color, resize, text};\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.form-multiline-text-input {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./FormMultilineTextInput.vue?vue&type=template&id=67b6f645&scoped=true\"\nimport script from \"./FormMultilineTextInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormMultilineTextInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormMultilineTextInput.vue?vue&type=style&index=0&id=67b6f645&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-67b6f645\"]])\n\nexport default __exports__","<template>\r\n  <input\r\n    class=\"formdateinput\"\r\n    type=\"date\"\r\n    :value=\"date_str\"\r\n    @input=\"handle_update_date($event)\"\r\n    :disabled=\"is_disabled\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormDateInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || 0;\r\n\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n    const is_disabled = props.parameters[\"is_disabled\"] || false;\r\n\r\n    const date_str = computed(() => {\r\n      const date = new Date((props.value || default_value) * 1000);\r\n      return date.toISOString().slice(0, 10);\r\n    });\r\n\r\n    const handle_update_date = (evt) =>\r\n      emit(\"update\", Math.floor(evt.target.valueAsNumber / 1000) || 0);\r\n\r\n    return { date_str, is_disabled, handle_update_date };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./FormDateInput.vue?vue&type=template&id=41f62af6\"\nimport script from \"./FormDateInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormDateInput.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"formemailaddressfield\">\r\n    <form-text-field\r\n      v-if=\"to\"\r\n      class=\"formemailaddressfield__label\"\r\n      :parameters=\"{ font_weight: 'bold' }\"\r\n      value=\":\"\r\n    />\r\n    <form-text-field\r\n      v-if=\"to\"\r\n      class=\"formemailaddressfield__address\"\r\n      :value=\"convert(to)\"\r\n    />\r\n    <form-text-field\r\n      v-if=\"cc\"\r\n      class=\"formemailaddressfield__label\"\r\n      :parameters=\"{ font_weight: 'bold' }\"\r\n      value=\":\"\r\n    />\r\n    <form-text-field\r\n      v-if=\"cc\"\r\n      class=\"formemailaddressfield__address\"\r\n      :value=\"convert(cc)\"\r\n    />\r\n    <form-text-field\r\n      v-if=\"bcc\"\r\n      class=\"formemailaddressfield__label\"\r\n      :parameters=\"{ font_weight: 'bold' }\"\r\n      value=\" :\"\r\n    />\r\n    <form-text-field\r\n      v-if=\"bcc\"\r\n      class=\"formemailaddressfield__address\"\r\n      :value=\"convert(bcc)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport FormTextField from \"./FormTextField.vue\";\r\n\r\nexport default {\r\n  name: \"FormEmailToAddressField\",\r\n  components: {\r\n    FormTextField,\r\n  },\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const address = computed(() => props.value || { TO: \"\", CC: \"\", BCC: \"\" });\r\n    const to = computed(() => address.value[\"TO\"]);\r\n    const cc = computed(() => address.value[\"CC\"]);\r\n    const bcc = computed(() => address.value[\"BCC\"]);\r\n\r\n    const convert = (text) => text.split(\" \").join(\"; \");\r\n\r\n    return {\r\n      to,\r\n      cc,\r\n      bcc,\r\n      convert,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formemailaddressfield {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>\r\n","import { render } from \"./FormEmailToAddressField.vue?vue&type=template&id=2e722576&scoped=true\"\nimport script from \"./FormEmailToAddressField.vue?vue&type=script&lang=js\"\nexport * from \"./FormEmailToAddressField.vue?vue&type=script&lang=js\"\n\nimport \"./FormEmailToAddressField.vue?vue&type=style&index=0&id=2e722576&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e722576\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"formemailaddressinput\">\r\n    <div class=\"formemailaddressinput__container\">\r\n      <form-text-field\r\n        class=\"formemailaddressinput__label\"\r\n        :parameters=\"{ align: 'center' }\"\r\n        :value=\"\r\n          variant_idx == 0\r\n            ? ' '\r\n            : '   : ' + variant_idx.toString()\r\n        \"\r\n      />\r\n      <div class=\"formemailaddressinput__header\">\r\n        <div\r\n          class=\"\r\n            formemailaddressinput__button formemailaddressinput__button_left\r\n          \"\r\n          :class=\"{\r\n            formemailaddressinput__button_inactive:\r\n              variant_idx === variant_count - 1,\r\n          }\"\r\n          @click=\"goto_next_letter()\"\r\n          title=\" \"\r\n        />\r\n        <div\r\n          class=\"\r\n            formemailaddressinput__button formemailaddressinput__button_right\r\n          \"\r\n          :class=\"{ formemailaddressinput__button_inactive: variant_idx === 0 }\"\r\n          title=\" \"\r\n          @click=\"goto_previous_letter()\"\r\n        />\r\n        <form-text-input\r\n          class=\"formemailaddressinput__search\"\r\n          :parameters=\"search_field_parameters\"\r\n          :value=\"search_query\"\r\n          @update=\"search_query = $event\"\r\n        />\r\n        <div\r\n          class=\"\r\n            formemailaddressinput__button formemailaddressinput__button_add\r\n          \"\r\n          :class=\"{\r\n            formemailaddressinput__button_inactive:\r\n              validate_email(search_query) === false || variant_idx > 0,\r\n          }\"\r\n          @click=\"add_email(search_query)\"\r\n          title=\" e-mail\"\r\n        />\r\n        <div\r\n          class=\"\r\n            formemailaddressinput__button formemailaddressinput__button_approve\r\n          \"\r\n          :class=\"{\r\n            formemailaddressinput__button_inactive:\r\n              variant_idx === 0 || search_query != '',\r\n          }\"\r\n          @click=\"use_the_letter_as_current()\"\r\n          title=\"    \"\r\n        />\r\n      </div>\r\n      <div class=\"formemailaddressinput__rowcontainer\">\r\n        <div\r\n          class=\"formemailaddressinput__row\"\r\n          :class=\"{\r\n            formemailaddressinput__row_to: row.designation == 1,\r\n            formemailaddressinput__row_cc: row.designation == 2,\r\n            formemailaddressinput__row_bcc: row.designation == 3,\r\n          }\"\r\n          v-for=\"row in sorted_current_variant\"\r\n          :key=\"row.full_email\"\r\n          :title=\"get_row_title(row.designation)\"\r\n          @click=\"change_designation(row.full_email)\"\r\n        >\r\n          <div class=\"formemailaddressinput__description\">\r\n            {{ row.description }}\r\n          </div>\r\n          <div class=\"formemailaddressinput__email\">\r\n            {{ row.email }}\r\n          </div>\r\n          <div class=\"formemailaddressinput__@\">@</div>\r\n          <div class=\"formemailaddressinput__domain\">\r\n            {{ row.domain }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from \"vue\";\r\nimport FormTextInput from \"./FormTextInput.vue\";\r\nimport FormTextField from \"./FormTextField.vue\";\r\n\r\nexport default {\r\n  name: \"FormEmailToAddressInput\",\r\n  components: {\r\n    FormTextInput,\r\n    FormTextField,\r\n  },\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    // REQUIRED CONTEXT EXPLANATION\r\n    // 1. ADDRESS\r\n    //      Array of objects. Each objects has keys TO, CC, BCC with value\r\n    //      as string of email addresses separated by space ' '\r\n    // 2. KNOWN_EMAILS\r\n    //      Objects with addresses as keys, description of user as values\r\n    context: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || {\r\n      TO: \"\",\r\n      CC: \"\",\r\n      BCC: \"\",\r\n    };\r\n    // if (!props.value) emit(\"update\", default_value);\r\n    if (props.value === undefined || props.value === null)\r\n      emit(\"update\", default_value);\r\n\r\n    // Computes is used because might be async value\r\n    const addresses = computed(() => props.context[\"ADDRESS\"]);\r\n    const known_emails = computed(() => props.context[\"KNOWN_EMAILS\"]);\r\n\r\n    // DECODE\r\n\r\n    const address_decode_str = (result, text, designation) => {\r\n      if (!text) return;\r\n      text\r\n        .split(\" \")\r\n        .filter((e) => e != \"\")\r\n        .forEach((e) => (result[e] = designation));\r\n    };\r\n\r\n    const address_decode = (obj) => {\r\n      let result = {};\r\n\r\n      address_decode_str(result, obj[\"NA\"], 4);\r\n      address_decode_str(result, obj[\"BCC\"], 3);\r\n      address_decode_str(result, obj[\"CC\"], 2);\r\n      address_decode_str(result, obj[\"TO\"], 1);\r\n\r\n      return Object.entries(result).map(([a, b]) => {\r\n        return {\r\n          description: known_emails.value ? known_emails.value[a] || \"\" : \"\",\r\n          email: a.split(\"@\")[0],\r\n          domain: a.split(\"@\")[1],\r\n          full_email: a,\r\n          designation: b,\r\n        };\r\n      });\r\n    };\r\n\r\n    // ENCODE\r\n    const address_encode = (obj) => {\r\n      let result = { 1: [], 2: [], 3: [], 4: [] };\r\n      obj.forEach((row) => result[row.designation].push(row.full_email));\r\n      return {\r\n        TO: result[1].join(\" \"),\r\n        CC: result[2].join(\" \"),\r\n        BCC: result[3].join(\" \"),\r\n      };\r\n    };\r\n\r\n    // VARIANTS\r\n    const obj_with_all_NA_addresses = computed(() => {\r\n      let all = [];\r\n      if (props.value)\r\n        all = all.concat(\r\n          props.value[\"TO\"],\r\n          props.value[\"CC\"],\r\n          props.value[\"BCC\"]\r\n        );\r\n\r\n      if (addresses.value) {\r\n        addresses.value.forEach(\r\n          (e) =>\r\n            (all = all\r\n              .concat(e[\"TO\"] || [])\r\n              .concat(e[\"CC\"] || [])\r\n              .concat(e[\"BCC\"] || []))\r\n        );\r\n      }\r\n\r\n      if (known_emails.value) all = all.concat(Object.keys(known_emails.value));\r\n      return { NA: all.filter((e) => e != \"\").join(\" \") };\r\n    });\r\n\r\n    const variants = computed(() => {\r\n      let arr = [\r\n        address_decode(\r\n          Object.assign({}, props.value, obj_with_all_NA_addresses.value)\r\n        ),\r\n      ];\r\n      if (!addresses.value) return arr;\r\n\r\n      addresses.value.forEach((e) => arr.push(address_decode(e)));\r\n      return arr;\r\n    });\r\n\r\n    const variant_idx = ref(0);\r\n    const variant_count = computed(() => variants.value.length);\r\n\r\n    const current_variant = computed(() => {\r\n      return variants.value[variant_idx.value];\r\n    });\r\n\r\n    // PAGES\r\n    const goto_previous_letter = () => {\r\n      variant_idx.value = Math.max(0, variant_idx.value - 1);\r\n    };\r\n\r\n    const goto_next_letter = () => {\r\n      variant_idx.value = Math.min(\r\n        variant_idx.value + 1,\r\n        variant_count.value - 1\r\n      );\r\n    };\r\n\r\n    const use_the_letter_as_current = () => {\r\n      if (variant_idx.value == 0 || search_query.value != \"\") return;\r\n      emit(\"update\", addresses.value[variant_idx.value - 1]);\r\n      variant_idx.value = 0;\r\n    };\r\n\r\n    const get_row_title = (designation) => {\r\n      switch (designation) {\r\n        case 1:\r\n          return \"\";\r\n        case 2:\r\n          return \"\";\r\n        case 3:\r\n          return \" \";\r\n        default:\r\n          return null;\r\n      }\r\n    };\r\n\r\n    // NEW EMAIL\r\n    const validate_email = (text) =>\r\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        text\r\n      );\r\n\r\n    const add_email = (email) => {\r\n      if (validate_email(email) === false || variant_idx.value > 0) return;\r\n      let modified_current_variant = structuredClone(current_variant.value);\r\n      modified_current_variant.push({\r\n        description: \"\",\r\n        designation: 1,\r\n        domain: \"\",\r\n        email: \"\",\r\n        full_email: email.toLowerCase(),\r\n      });\r\n      emit(\"update\", address_encode(modified_current_variant));\r\n      search_query.value = \"\";\r\n    };\r\n\r\n    // CHOOSING\r\n    const next_designation = (x) => (x == 4 ? 1 : x + 1);\r\n\r\n    const change_designation = (full_email) => {\r\n      if (variant_idx.value > 0) return;\r\n\r\n      let modified_current_variant = structuredClone(current_variant.value);\r\n      modified_current_variant.forEach((e) => {\r\n        if (e.full_email === full_email)\r\n          e.designation = next_designation(e.designation);\r\n      });\r\n\r\n      emit(\"update\", address_encode(modified_current_variant));\r\n    };\r\n\r\n    // SEARCH\r\n    const search_query = ref(\"\");\r\n    const search_field_parameters = {\r\n      placeholder: \" email   ..\",\r\n      height: 30\r\n    };\r\n\r\n    const filtered_current_variant = computed(() => {\r\n      return current_variant.value.filter(\r\n        (e) =>\r\n          e.description\r\n            .toLowerCase()\r\n            .includes(search_query.value.toLowerCase()) ||\r\n          (e.email + \"@\" + e.domain)\r\n            .toLowerCase()\r\n            .includes(search_query.value.toLowerCase())\r\n      );\r\n    });\r\n\r\n    // SORT\r\n    const sorted_current_variant = computed(() => {\r\n      let arr = structuredClone(filtered_current_variant.value);\r\n      arr.sort((a, b) => {\r\n        let cmp = 0;\r\n\r\n        if (a.designation == 4 || b.designation == 4)\r\n          cmp = a.designation - b.designation;\r\n        if (cmp != 0) return cmp;\r\n\r\n        cmp = a.description.localeCompare(b.description);\r\n        if (cmp != 0) return cmp;\r\n\r\n        cmp = a.email.localeCompare(b.email);\r\n        return cmp;\r\n      });\r\n      return arr;\r\n    });\r\n\r\n    return {\r\n      variants,\r\n      variant_idx,\r\n      variant_count,\r\n      current_variant,\r\n      sorted_current_variant,\r\n      search_query,\r\n      search_field_parameters,\r\n      obj_with_all_NA_addresses,\r\n      change_designation,\r\n\r\n      // PAGES\r\n      get_row_title,\r\n      goto_previous_letter,\r\n      goto_next_letter,\r\n      use_the_letter_as_current,\r\n\r\n      // NEW EMAIL\r\n      validate_email,\r\n      add_email,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formemailaddressinput {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.formemailaddressinput__container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.formemailaddressinput__header,\r\n.formemailaddressinput__row {\r\n  display: flex;\r\n}\r\n\r\n.formemailaddressinput__email,\r\n.formemailaddressinput__description,\r\n.formemailaddressinput__domain {\r\n  flex-grow: 1;\r\n  flex-basis: 100px;\r\n}\r\n\r\n.formemailaddressinput__email {\r\n  margin-right: 10px;\r\n  text-align: right;\r\n}\r\n\r\n.formemailaddressinput__designation {\r\n  width: 50px;\r\n}\r\n\r\n.formemailaddressinput__search {\r\n  flex-grow: 1;\r\n}\r\n\r\n.formemailaddressinput__button {\r\n  min-width: 30px;\r\n  min-height: 30px;\r\n  padding: 3px;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  color: lightcoral;\r\n}\r\n\r\n.formemailaddressinput__button:hover {\r\n  mask-image: linear-gradient(rgba(0, 0, 0, 1), transparent, rgba(0, 0, 0, 1));\r\n}\r\n\r\n.formemailaddressinput__button_left {\r\n  background: url(\"../../../public/left.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.formemailaddressinput__button_right {\r\n  background: url(\"../../../public/right.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.formemailaddressinput__button_approve {\r\n  background: url(\"../../../public/check.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.formemailaddressinput__button_add {\r\n  background: url(\"../../../public/plus.png\") center center/24px 24px\r\n    no-repeat;\r\n}\r\n\r\n.formemailaddressinput__button_inactive {\r\n  filter: gray;\r\n  -webkit-filter: grayscale(100%);\r\n}\r\n\r\n.formemailaddressinput__label {\r\n  padding: 3px;\r\n}\r\n\r\n.formemailaddressinput__rowcontainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 300px;\r\n  max-height: 300px;\r\n  overflow-y: scroll;\r\n  padding: 3px;\r\n}\r\n.formemailaddressinput__row {\r\n  margin: 1px;\r\n  padding: 1px 30px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n\r\n.formemailaddressinput__row_to {\r\n  background-color: rgb(152, 251, 152);\r\n}\r\n\r\n.formemailaddressinput__row_cc {\r\n  background-color: rgb(255, 250, 205);\r\n}\r\n\r\n.formemailaddressinput__row_bcc {\r\n  background-color: rgb(240, 240, 240);\r\n}\r\n</style>\r\n","import { render } from \"./FormEmailToAddressInput.vue?vue&type=template&id=c2578df8&scoped=true\"\nimport script from \"./FormEmailToAddressInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormEmailToAddressInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormEmailToAddressInput.vue?vue&type=style&index=0&id=c2578df8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c2578df8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"formhtmlinput\">\r\n    <ckeditor\r\n      id=\"formhtmlinput-editor\"\r\n      class=\"formhtmlinput__editor\"\r\n      :style=\"{ height: height }\"\r\n      v-model=\"body_html\"\r\n      :config=\"editor_config\"\r\n      @namespaceloaded=\"onNamespaceLoaded\"\r\n    ></ckeditor>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, watch, ref } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormHtmlInput\",\r\n\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  setup(props, { emit }) {\r\n    const height = computed(() => props.parameters[\"height\"] || 500);\r\n    const default_value = computed(() => props.parameters[\"default\"] || \"\");\r\n\r\n    const body_html = ref(props.value || default_value.value);\r\n\r\n    const height_in_px = height.value - 30;\r\n\r\n    const editor_config = {\r\n      fullPage: true,\r\n      allowedContent: true,\r\n      extraPlugins: [\"autogrow\", \"colorbutton\"],\r\n      resize_enabled: false,\r\n      autoGrow_minHeight: height_in_px,\r\n      autoGrow_maxHeight: height_in_px,\r\n      toolbar: [\r\n        { name: \"clipboard\", items: [\"Undo\"] },\r\n        { name: \"basicstyles\", items: [\"Bold\", \"Italic\", \"RemoveFormat\"] },\r\n        { name: \"colorbutton\", items: [\"BGColor\", \"TextColor\"] },\r\n      ],\r\n      colorButton_colors:\r\n        \"000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,\" +\r\n        \"B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,\" +\r\n        \"F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,\" +\r\n        \"FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,\" +\r\n        \"FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF\",\r\n      removePlugins: \"elementspath\",\r\n    };\r\n\r\n    const onNamespaceLoaded = (CKEDITOR) => {\r\n      // Plugin   public\r\n      CKEDITOR.plugins.addExternal(\"colorbutton\", \"/colorbutton/\");\r\n    };\r\n\r\n    watch(body_html, (newValue) => emit(\"update\", newValue));\r\n\r\n    return { height, body_html, editor_config, onNamespaceLoaded };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.formhtmlinput {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.formhtmlinput__editor {\r\n  flex-grow: 1;\r\n  border: none;\r\n}\r\n</style>","import { render } from \"./FormHtmlInput.vue?vue&type=template&id=74cfadbf\"\nimport script from \"./FormHtmlInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormHtmlInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormHtmlInput.vue?vue&type=style&index=0&id=74cfadbf&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <select\r\n      class=\"formselectinput\"\r\n      :disabled=\"is_disabled\"\r\n      :size=\"size.toString()\"\r\n      @input=\"handle_choose_value($event.target.value)\"\r\n    >\r\n      <option\r\n        v-for=\"(option, index) in parameters.options\"\r\n        :selected=\"value !== undefined && value !== null && option.value === value\"\r\n        :key=\"option.value\"\r\n        :value=\"index\"\r\n      >\r\n        {{ option.name }}\r\n      </option>\r\n    </select>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"FormSelectInput\",\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || \"\";\r\n    if ((props.value === undefined || props.value === null) && default_value) {\r\n      emit(\"update\", default_value);\r\n    }\r\n\r\n\r\n    const size = computed(() => props.parameters[\"size\"] || 1);\r\n    const is_disabled = computed(() => props.parameters[\"is_disabled\"] || false);\r\n\r\n    const handle_choose_value = (str_index) => {\r\n      emit('update', props.parameters.options[parseInt(str_index)].value)\r\n    }\r\n\r\n    return { size, is_disabled, handle_choose_value };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formselectinput {\r\n  width: 100%;\r\n}\r\n</style>","import { render } from \"./FormSelectInput.vue?vue&type=template&id=20d58ba5&scoped=true\"\nimport script from \"./FormSelectInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormSelectInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormSelectInput.vue?vue&type=style&index=0&id=20d58ba5&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20d58ba5\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"formfilteredselectinput\">\r\n    <form-select-input\r\n      class=\"formfilteredselectinput__target\"\r\n      :parameters=\"{\r\n        options: parameters.options,\r\n        is_disabled: is_disabled,\r\n      }\"\r\n      :value=\"value\"\r\n      @mousedown=\"handle_click_on_target($event)\"\r\n    />\r\n    <form-text-input\r\n      v-if=\"!is_selected\"\r\n      class=\"formfilteredselectinput__search\"\r\n      :parameters=\"{\r\n        placeholder: placeholder,\r\n        height: 30\r\n      }\"\r\n      :value=\"query\"\r\n      @update=\"query = $event\"\r\n    />\r\n    <form-select-input\r\n      v-if=\"!is_selected\"\r\n      class=\"formfilteredselectinput__list\"\r\n      :parameters=\"{\r\n        options: filtered_options,\r\n        size: size,\r\n      }\"\r\n      :value=\"value\"\r\n      @update=\"\r\n        $emit('update', $event);\r\n        is_selected = !is_selected;\r\n      \"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from \"vue\";\r\n\r\nimport FormTextInput from \"./FormTextInput.vue\";\r\nimport FormSelectInput from \"./FormSelectInput.vue\";\r\n\r\nexport default {\r\n  name: \"FormFilteredSelectInput\",\r\n  components: {\r\n    FormTextInput,\r\n    FormSelectInput,\r\n  },\r\n  props: {\r\n    parameters: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n    value: {\r\n      required: false,\r\n    },\r\n  },\r\n\r\n  emits: [\"update\"],\r\n\r\n  setup(props, { emit }) {\r\n    const default_value = props.parameters[\"default\"] || \"\";\r\n    if ((props.value === undefined || props.value === null) && default_value) {\r\n      emit(\"update\", default_value);\r\n    }\r\n\r\n    const size = computed(() => props.parameters[\"size\"] || 3);\r\n    const is_disabled = computed(\r\n      () => props.parameters[\"is_disabled\"] || false\r\n    );\r\n    const placeholder = computed(() => props.parameters[\"placeholder\"] || \"\");\r\n\r\n    const is_selected = ref(true);\r\n    const query = ref(\"\");\r\n\r\n    const filtered_options = computed(() =>\r\n      props.parameters.options.filter((obj) =>\r\n        obj.name.toUpperCase().includes(query.value.toUpperCase())\r\n      )\r\n    );\r\n\r\n    const handle_click_on_target = (e) => {\r\n      e.preventDefault();\r\n      if (is_disabled.value === true) return;\r\n      is_selected.value = !is_selected.value;\r\n    };\r\n\r\n    return {\r\n      size,\r\n      is_disabled,\r\n      placeholder,\r\n      is_selected,\r\n      query,\r\n      filtered_options,\r\n      handle_click_on_target,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.formfilteredselectinput {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n</style>","import { render } from \"./FormFilteredSelectInput.vue?vue&type=template&id=3d606cee&scoped=true\"\nimport script from \"./FormFilteredSelectInput.vue?vue&type=script&lang=js\"\nexport * from \"./FormFilteredSelectInput.vue?vue&type=script&lang=js\"\n\nimport \"./FormFilteredSelectInput.vue?vue&type=style&index=0&id=3d606cee&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d606cee\"]])\n\nexport default __exports__","import { render } from \"./BaseForm.vue?vue&type=template&id=312010b1&scoped=true\"\nimport script from \"./BaseForm.vue?vue&type=script&lang=js\"\nexport * from \"./BaseForm.vue?vue&type=script&lang=js\"\n\nimport \"./BaseForm.vue?vue&type=style&index=0&id=312010b1&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-312010b1\"]])\n\nexport default __exports__","// import Ajv from \"ajv\";\r\n// import AjvErrors from \"ajv-errors\";\r\n\r\nimport { ref, computed, watch } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport {\r\n  MyCredentials,\r\n  // GetInfo,\r\n  // GetFolders,\r\n  // GetRoles,\r\n  // GetUserFolderSettings,\r\n  // GetUsers,\r\n  // GetUserReplacements,\r\n  // GetOnBehalfUsers,\r\n  // GetUserGroups,\r\n  // GetPermissions,\r\n  // GetUserPermissionsForFolder,\r\n  // GetUserSearchSchema,\r\n  // GetSpareFiles,\r\n  // GetFlowItem,\r\n  // GetFlowItemSteps,\r\n  // GetDocument,\r\n  // ValidateDocument,\r\n  // GetWaitingDocumentApprovals,\r\n  // GetDocumentApprovals,\r\n  // GetDocumentApprovalSpareFiles,\r\n  // GetDocumentApprovalFlow,\r\n  // GetCart,\r\n  // GetServerSettings,\r\n  // GetMailBoxes,\r\n  // GetMailChannels,\r\n  // GetCounters,\r\n  // // CONTEXT\r\n  // GetDocumentAttributesContext,\r\n  // GetDocumentPreviousAttributeContext,\r\n  // GetUserEmailContext,\r\n} from \"../domain/command\";\r\n// import { AccessPagePermissionCheckFail } from \"../domain/event\";\r\nimport { MessageBus } from \"./message_bus\";\r\nimport router from \"../../router\";\r\n\r\nconst deepObjectCopy = (obj) => {\r\n  return JSON.parse(JSON.stringify(obj));\r\n};\r\n\r\n// const filterArrayOfObjects = (\r\n//   arrOfObjects,\r\n//   queryObject,\r\n//   caseSensitive = true\r\n// ) => {\r\n//   return arrOfObjects.filter((obj) => {\r\n//     let to_be_taken = true;\r\n\r\n//     Object.keys(queryObject).forEach((key) => {\r\n//       let value = obj[key];\r\n\r\n//       if (value === undefined) {\r\n//         to_be_taken = false;\r\n//         return;\r\n//       }\r\n\r\n//       //   NULL\r\n//       if (value === null) {\r\n//         //   ,    \r\n//         //   , \r\n//         if (queryObject[key]) to_be_taken = false;\r\n//         return;\r\n//       }\r\n\r\n//       let needle = queryObject[key];\r\n\r\n//       if (!caseSensitive) {\r\n//         value = value.toLowerCase();\r\n//         needle = needle.toLowerCase();\r\n//       }\r\n\r\n//       if (!String.prototype.includes.call(value, needle)) to_be_taken = false;\r\n//     });\r\n\r\n//     return to_be_taken;\r\n//   });\r\n// };\r\n\r\nconst filterArrayOfObjectsByQuery = (arrOfObjects, queryObject) => {\r\n  return arrOfObjects.filter((obj) => {\r\n    let to_be_taken = true;\r\n\r\n    //    query\r\n    //  A__B__C__X   ,  '__'\r\n    //  - property \r\n    // B, C, D ... -   ,    -  \r\n    // X -   exact | iexact | contains | icontains | gt | gte | lt | lte\r\n    Object.keys(queryObject).forEach((key) => {\r\n      if (!to_be_taken) return;\r\n\r\n      //   \r\n      const needle = queryObject[key];\r\n      if (!(needle || needle === 0)) return;\r\n\r\n      //    \r\n      let key_names = key.split(\"__\");\r\n      const rule = key_names.length <= 1 ? \"exact\" : key_names.pop();\r\n\r\n      //  \r\n      let haystack = obj;\r\n      key_names.forEach((x) => (haystack = haystack[x]));\r\n\r\n      //  ,    , \r\n      //   \r\n      if (!(haystack || haystack === 0)) {\r\n        to_be_taken = false;\r\n        return;\r\n      }\r\n\r\n      switch (rule) {\r\n        case \"exact\":\r\n          to_be_taken = haystack == needle;\r\n          break;\r\n\r\n        case \"iexact\":\r\n          to_be_taken = haystack.toLowerCase() == needle.toLowerCase();\r\n          break;\r\n\r\n        case \"contains\":\r\n          to_be_taken = String.prototype.includes.call(haystack, needle);\r\n          break;\r\n\r\n        case \"icontains\":\r\n          to_be_taken = String.prototype.includes.call(\r\n            haystack.toLowerCase(),\r\n            needle.toLowerCase()\r\n          );\r\n          break;\r\n\r\n        case \"gt\":\r\n          to_be_taken = haystack > needle;\r\n          break;\r\n\r\n        case \"gte\":\r\n          to_be_taken = haystack >= needle;\r\n          break;\r\n\r\n        case \"lt\":\r\n          to_be_taken = haystack < needle;\r\n          break;\r\n\r\n        case \"lte\":\r\n          to_be_taken = haystack <= needle;\r\n          break;\r\n\r\n        default:\r\n          console.log(\"Wrong comparison rule \" + rule.toString() + \"!\");\r\n          to_be_taken = false;\r\n      }\r\n    });\r\n\r\n    return to_be_taken;\r\n  });\r\n};\r\n\r\nconst useBeforeEnterPage = async (\r\n  uow,\r\n  // required_permissions,\r\n  // folder_id = null,\r\n  // usergroup_id = null\r\n) => {\r\n\r\n  const route = useRoute();\r\n\r\n  const auto_login_action = async (uow) => {\r\n    if (\r\n      !uow.user_repository.is_authenticated() &&\r\n      uow.token_repository.get_access_token()\r\n    ) {\r\n      await MessageBus.handle(new MyCredentials(), uow);\r\n    }\r\n  };\r\n\r\n  await auto_login_action(uow);\r\n  // //  \r\n  // if (folder_id !== null && usergroup_id !== null) {\r\n  //   await MessageBus.handle(\r\n  //     new GetUserPermissionsForFolder(folder_id, usergroup_id),\r\n  //     uow\r\n  //   );\r\n  // }\r\n  if (!uow.user_repository.is_authenticated())\r\n    router.push({\r\n      name: \"LoginPage\",\r\n      query: { url: encodeURIComponent(route.fullPath) },\r\n    });\r\n\r\n  // required_permissions.forEach((e) => {\r\n  //   if (\r\n  //     uow.permission_repository.has(e).value !== true &&\r\n  //     uow.permission_repository.has_for_folder(folder_id, e).value !== true\r\n  //   ) {\r\n  //     router.push({\r\n  //       name: \"LoginPage\",\r\n  //       query: { url: encodeURIComponent(route.fullPath) },\r\n  //     });\r\n  //     // TODO\r\n  //     MessageBus.handle(new AccessPagePermissionCheckFail(), uow);\r\n  //   }\r\n  // });\r\n};\r\n\r\n// const useGetInfo = async (uow) => {\r\n//   const message = new GetInfo();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetFolders = async (uow) => {\r\n//   const message = new GetFolders();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetPermissions = async (uow) => {\r\n//   const message = new GetPermissions();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetRoles = async (uow) => {\r\n//   const message = new GetRoles();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetUserFolderSettings = async (uow) => {\r\n//   const message = new GetUserFolderSettings();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetUsers = async (uow) => {\r\n//   const message = new GetUsers();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetUserReplacements = async (uow) => {\r\n//   const message = new GetUserReplacements();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetOnBehalfUsers = async (uow) => {\r\n//   const message = new GetOnBehalfUsers();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetUserGroups = async (uow) => {\r\n//   const message = new GetUserGroups();\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetUserSearchSchema = async (uow, folder_id, usergroup_id) => {\r\n//   const message = new GetUserSearchSchema(folder_id, usergroup_id);\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetSpareFiles = async (uow, folder_id, usergroup_id) => {\r\n//   const message = new GetSpareFiles(folder_id, usergroup_id);\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetFlowItem = async (uow, flowitem_id) => {\r\n//   const message = new GetFlowItem(flowitem_id);\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetFlowItemSteps = async (uow, flowitem_id) => {\r\n//   const message = new GetFlowItemSteps(flowitem_id);\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetDocument = async (uow, folder_id, usergroup_id, doc_id) => {\r\n//   const message = new GetDocument(folder_id, usergroup_id, doc_id);\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useValidateDocument = async (uow, folder_id, usergroup_id, doc_id) => {\r\n//   const message = new ValidateDocument(folder_id, usergroup_id, doc_id);\r\n//   await MessageBus.handle(message, uow);\r\n// };\r\n\r\n// const useGetDocumentsWaitingApproval = async (uow) => {\r\n//   await MessageBus.handle(new GetWaitingDocumentApprovals(), uow);\r\n// };\r\n\r\n// const useGetDocumentApprovalsWithSpareFiles = async (\r\n//   uow,\r\n//   folder_id,\r\n//   usergroup_id,\r\n//   doc_id\r\n// ) => {\r\n//   await Promise.all([\r\n//     MessageBus.handle(\r\n//       new GetDocumentApprovals(folder_id, usergroup_id, doc_id),\r\n//       uow\r\n//     ),\r\n\r\n//     MessageBus.handle(\r\n//       new GetDocumentApprovalSpareFiles(folder_id, usergroup_id, doc_id),\r\n//       uow\r\n//     ),\r\n//   ]);\r\n// };\r\n\r\n// const useGetDocumentApprovalFlow = async (\r\n//   uow,\r\n//   folder_id,\r\n//   usergroup_id,\r\n//   doc_id\r\n// ) => {\r\n//   await MessageBus.handle(\r\n//     new GetDocumentApprovalFlow(folder_id, usergroup_id, doc_id),\r\n//     uow\r\n//   );\r\n// };\r\n\r\n// const useGetCart = async (uow) => {\r\n//   await MessageBus.handle(new GetCart(), uow);\r\n// };\r\n\r\n// const useGetServerSettings = async (uow) => {\r\n//   await MessageBus.handle(new GetServerSettings(), uow);\r\n// };\r\n\r\n// const useGetMailBoxes = async (uow) => {\r\n//   await MessageBus.handle(new GetMailBoxes(), uow);\r\n// };\r\n\r\n// const useGetMailChannels = async (uow) => {\r\n//   await MessageBus.handle(new GetMailChannels(), uow);\r\n// };\r\n\r\n// const useGetCounters = async (uow) => {\r\n//   await MessageBus.handle(new GetCounters(), uow);\r\n// };\r\n\r\n// // CONTEXT\r\n\r\n// const useGetContext = async (uow, uid, settings, ...props) => {\r\n//   const context_map = {\r\n//     DOCUMENT_ATTRIBUTES: useGetDocumentAttributesContext,\r\n//     PREVIOUS_DOCUMENTS_ATTRIBUTE: useGetDocumentPreviousContext,\r\n//     USERS_EMAILS: useGetUserEmailContext,\r\n//   };\r\n\r\n//   uow.context_repository.reset(uid);\r\n//   await Promise.all(\r\n//     settings.map((e) => {\r\n//       const func = context_map[e[\"type\"]];\r\n//       return func(uow, uid, e[\"name\"], e[\"parameters\"] || {}, ...props);\r\n//     })\r\n//   );\r\n// };\r\n\r\n// const useGetDocumentAttributesContext = (\r\n//   uow,\r\n//   ctx_id,\r\n//   ctx_name,\r\n//   parameters,\r\n//   folder_id,\r\n//   usergroup_id,\r\n//   document_id\r\n// ) => {\r\n//   MessageBus.handle(\r\n//     new GetDocumentAttributesContext(\r\n//       ctx_id,\r\n//       ctx_name,\r\n//       folder_id,\r\n//       document_id,\r\n//       parameters[\"is_raw_attribute\"]\r\n//     ),\r\n//     uow\r\n//   );\r\n// };\r\n\r\n// const useGetDocumentPreviousContext = async (\r\n//   uow,\r\n//   ctx_id,\r\n//   ctx_name,\r\n//   parameters,\r\n//   folder_id,\r\n//   usergroup_id,\r\n//   document_id\r\n// ) => {\r\n//   await MessageBus.handle(\r\n//     new GetDocumentPreviousAttributeContext(\r\n//       ctx_id,\r\n//       ctx_name,\r\n//       folder_id,\r\n//       usergroup_id,\r\n//       document_id,\r\n//       parameters[\"attribute_name\"],\r\n//       parameters[\"is_raw_attribute\"],\r\n//       parameters[\"count\"]\r\n//     ),\r\n//     uow\r\n//   );\r\n// };\r\n\r\n// const useGetUserEmailContext = (uow, ctx_id, ctx_name) => {\r\n//   MessageBus.handle(new GetUserEmailContext(ctx_id, ctx_name), uow);\r\n// };\r\n\r\n// const use404 = () => {\r\n//   router.push({ name: \"PageNotFound\" });\r\n// };\r\n\r\n// const useValidateIntOr404 = (value) => {\r\n//   const num = Number.parseInt(value, 10);\r\n//   if (isNaN(num)) use404();\r\n//   return num;\r\n// };\r\n\r\nconst convertStringToDate = (value, rule) => {\r\n  const parts = value.split(\".\");\r\n  let date = NaN;\r\n\r\n  try {\r\n    //  <, <=   \r\n    if (rule === null || rule === \"lt\" || rule === \"lte\") {\r\n      date = new Date(\r\n        parseInt(parts[2], 10),\r\n        parseInt(parts[1], 10) - 1,\r\n        parseInt(parts[0], 10),\r\n        23,\r\n        59,\r\n        59\r\n      );\r\n    }\r\n\r\n    //  >, >=   \r\n    if (rule === \"gt\" || rule === \"gte\") {\r\n      date = new Date(\r\n        parseInt(parts[2], 10),\r\n        parseInt(parts[1], 10) - 1,\r\n        parseInt(parts[0], 10)\r\n      );\r\n    }\r\n\r\n    return date;\r\n  } catch (e) {\r\n    return NaN;\r\n  }\r\n};\r\n\r\nconst useDataEncode = (value, rule = null, converter = null) => {\r\n  if (!converter) return value;\r\n\r\n  const converters = {\r\n    date_to_timestamp: convertDateToTimestamp,\r\n    date_to_iso_string: convertDateToIsoString,\r\n    date_to_date_object: convertDateToDateObject,\r\n  };\r\n\r\n  const converter_func = Object.prototype.hasOwnProperty.call(\r\n    converters,\r\n    converter\r\n  )\r\n    ? converters[converter]\r\n    : null;\r\n\r\n  return converter_func ? converter_func(value, rule) : \"\";\r\n};\r\n\r\n// MIXINS\r\n\r\n// init_obj -   \r\n// repository - ,     \r\n// from_repository_convertion -         \r\nconst useCurrentMixin = (init_obj, repository, from_repository_convertion) => {\r\n  const current_id = ref(null);\r\n  const current = ref(convertObject(init_obj, from_repository_convertion));\r\n\r\n  const handle_update_attribute = (name, value) =>\r\n    (current.value[name] = value);\r\n\r\n  watch(current_id, (newValue) => {\r\n    if (newValue === null) return;\r\n    // console.log(newValue);\r\n    const obj = repository.get(newValue).value;\r\n    // console.log(obj);\r\n    current.value = convertObject(obj.to_dict, from_repository_convertion);\r\n  });\r\n\r\n  return {\r\n    current_id,\r\n    current,\r\n    handle_update_attribute,\r\n  };\r\n};\r\n\r\n// all_items - Must be Ref\r\n// filtered_items - Must be Ref\r\nconst useSelectionMixin = (all_items, items_seen_on_page) => {\r\n  //    \r\n  // key: str|int - ID \r\n  // value: bool - true , false  \r\n  const selected_item_ids = ref({});\r\n\r\n  //   \r\n  const count_of_selected_items = computed(\r\n    () =>\r\n      Object.values(selected_item_ids.value).filter((x) => x === true).length\r\n  );\r\n\r\n  //      ID\r\n  const handle_select_item = (id) => {\r\n    if (id in selected_item_ids.value)\r\n      selected_item_ids.value[id] = !selected_item_ids.value[id];\r\n    else selected_item_ids.value[id] = true;\r\n  };\r\n\r\n  //    \r\n  const reset_selection = () => {\r\n    is_all_selected.value = false;\r\n    selected_item_ids.value = {};\r\n  };\r\n\r\n  //    ,  \r\n  watch(\r\n    () => all_items.value,\r\n    () => reset_selection()\r\n  );\r\n\r\n  const is_all_selected = ref(false);\r\n\r\n  //        \r\n  const handle_select_all_items = () => {\r\n    if (is_all_selected.value === true) {\r\n      reset_selection();\r\n      is_all_selected.value = false;\r\n    } else {\r\n      is_all_selected.value = true;\r\n      items_seen_on_page.value.forEach(\r\n        (item) => (selected_item_ids.value[item.id] = true)\r\n      );\r\n    }\r\n  };\r\n\r\n  const selected_items = computed(() =>\r\n    items_seen_on_page.value.filter(\r\n      (item) =>\r\n        item.id in selected_item_ids.value &&\r\n        selected_item_ids.value[item.id] === true\r\n    )\r\n  );\r\n\r\n  return {\r\n    selected_item_ids,\r\n    selected_items,\r\n    count_of_selected_items,\r\n    is_all_selected,\r\n    handle_select_all_items,\r\n    handle_select_item,\r\n    reset_selection,\r\n  };\r\n};\r\n\r\n// items: array of Object -  ,     \r\n// variants: array of int -   -   \r\n// count: int -  -   .      variants\r\nconst usePaginationMixin = (\r\n  items, // Ref\r\n  variants = [20, 100, 500, 1000],\r\n  count = 100\r\n) => {\r\n  const pagination_variants = ref(variants);\r\n  const pagination_count_per_page = ref(count);\r\n  const pagination_current_page = ref(1);\r\n\r\n  const pagination_min_index = ref(0);\r\n  const pagination_max_index = ref(100);\r\n\r\n  const handle_set_page_range = (min, max) => {\r\n    pagination_min_index.value = min;\r\n    pagination_max_index.value = max;\r\n  };\r\n\r\n  const paginated_items = computed(() =>\r\n    items.value.slice(\r\n      pagination_min_index.value,\r\n      pagination_max_index.value + 1\r\n    )\r\n  );\r\n\r\n  return {\r\n    pagination_variants,\r\n    pagination_count_per_page,\r\n    pagination_current_page,\r\n    pagination_min_index,\r\n    pagination_max_index,\r\n    paginated_items,\r\n    handle_set_page_range,\r\n  };\r\n};\r\n\r\n// // promises: array of Promises -  ,   \r\n// // chunk_size: int - - Promise,    \r\n// // progress: Ref(int) -  \r\n// const usePromiseExecuteMixin = async (\r\n//   promises,\r\n//   chunk_size,\r\n//   progress = null\r\n// ) => {\r\n//   if (progress !== null) progress.value = 0;\r\n//   let promises_executed = 0;\r\n\r\n//   let start = 0;\r\n\r\n//   while (start < promises.length) {\r\n//     await Promise.all(\r\n//       promises.slice(start, start + chunk_size).map(async (f) => {\r\n//         // console.log(\"PROMISE\", f);\r\n//         await f();\r\n//         promises_executed++;\r\n//         // console.log(\"EXECUTED:\", promises_executed);\r\n\r\n//         if (progress !== null)\r\n//           progress.value = Math.round(\r\n//             (promises_executed / promises.length) * 100\r\n//           );\r\n//       })\r\n//     );\r\n\r\n//     start += chunk_size;\r\n//   }\r\n// };\r\n\r\n// // items: array of Object -  ,     actions c ,\r\n// //                            \r\n// // simultaneous_process_count: int -    \r\n// const usePerformActionMixin = (\r\n//   items, // Ref\r\n//   simultaneous_process_count\r\n// ) => {\r\n//   const action_progress = ref(100);\r\n\r\n//   const perform_action_on_items = async (action_name) => {\r\n//     const actions = items.value\r\n//       .filter((item) => item.actions[action_name])\r\n//       .map((item) => item.actions[action_name]);\r\n\r\n//     await usePromiseExecuteMixin(\r\n//       actions,\r\n//       simultaneous_process_count,\r\n//       action_progress\r\n//     );\r\n//   };\r\n\r\n//   return {\r\n//     action_progress,\r\n//     perform_action_on_items,\r\n//   };\r\n// };\r\n\r\n// // DECORATORS\r\n\r\n// // uow: - Unit of Work\r\n// // cmd: - ,        \r\n// // in_progress: Ref(bool) -     \r\n// // execution_time: Ref(Number) -   \r\n// const useExecutionTimeDecorator = async (\r\n//   uow,\r\n//   cmd,\r\n//   execution_time,\r\n//   in_progress = null\r\n// ) => {\r\n//   if (in_progress !== null) in_progress.value = true;\r\n\r\n//   const t0 = performance.now();\r\n//   await MessageBus.handle(cmd, uow);\r\n//   execution_time.value = Math.round(performance.now() - t0) / 1000;\r\n\r\n//   if (in_progress !== null) in_progress.value = false;\r\n// };\r\n\r\n// FUNCTIONS\r\n\r\nconst convertObject = (obj, convert_functions, exclude_keys = []) => {\r\n  let result = {};\r\n  //  ,   \r\n  Object.keys(obj)\r\n    .filter((key) => !exclude_keys.includes(key))\r\n    .forEach(\r\n      (key) =>\r\n        (result[key] = Object.prototype.hasOwnProperty.call(\r\n          convert_functions,\r\n          key\r\n        )\r\n          ? convert_functions[key](obj[key])\r\n          : obj[key])\r\n    );\r\n  //  ,      \r\n  Object.keys(convert_functions)\r\n    .filter((key) => !Object.prototype.hasOwnProperty.call(obj, key))\r\n    .forEach((key) => (result[key] = convert_functions[key]()));\r\n  return result;\r\n};\r\n\r\nconst convertDateToDateObject = (value, rule) =>\r\n  convertStringToDate(value, rule);\r\n\r\nconst convertDateToTimestamp = (value, rule) => {\r\n  const date = convertStringToDate(value, rule);\r\n  return isNaN(date) ? \"\" : Math.floor(date.getTime() / 1000);\r\n};\r\n\r\nconst convertDateToIsoString = (value, rule) => {\r\n  const date = convertStringToDate(value, rule);\r\n  return isNaN(date) ? \"\" : date.toISOString();\r\n};\r\n\r\nconst convertDateToDateString = (date) => {\r\n  return [\r\n    date.getDate().toString().padStart(2, \"0\"),\r\n    (date.getMonth() + 1).toString().padStart(2, \"0\"),\r\n    date.getFullYear().toString(),\r\n  ].join(\".\");\r\n};\r\n\r\nconst convertDateToDateTimeString = (date) => {\r\n  return date.toLocaleString(\"ru-RU\", {timeZone: \"Europe/Moscow\"});\r\n};\r\n\r\nconst useGetSortFunction = (name) => {\r\n  const sort_default = (a, b) => {\r\n    if (a === b) return 0;\r\n    return a > b ? 1 : -1;\r\n  };\r\n\r\n  const sort_numbers = (a, b) => {\r\n    return a - b;\r\n  };\r\n\r\n  const sort_strings = (a, b) => {\r\n    return a.localeCompare(b);\r\n  };\r\n\r\n  const sort_change_order_number = (a, b) => {\r\n    try {\r\n      const [id_a, year_a] = a.split(\"-\", 2);\r\n      const [id_b, year_b] = b.split(\"-\", 2);\r\n\r\n      // console.log(id_a, year_a, \"<>\", id_b, year_b)\r\n\r\n      const compare_years = Number.parseInt(year_a) - Number.parseInt(year_b);\r\n      if (compare_years !== 0) {\r\n        return compare_years;\r\n      }\r\n\r\n      const compare_ids = Number.parseInt(id_a) - Number.parseInt(id_b);\r\n      return compare_ids;\r\n    } catch (e) {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  if (name === null || name === undefined) name = \"DEFAULT\";\r\n\r\n  const rules = {\r\n    DEFAULT: sort_default,\r\n    INTEGER: sort_numbers,\r\n    STRING: sort_strings,\r\n    BOOL: sort_default,\r\n    DATE: sort_default,\r\n    CHANGE_ORDER_NUMBER: sort_change_order_number,\r\n  };\r\n\r\n  if (!Object.prototype.hasOwnProperty.call(rules, name)) name = \"DEFAULT\";\r\n\r\n  return rules[name];\r\n};\r\n\r\n// const shuffleArray = (array) => {\r\n//   var m = array.length,\r\n//     t,\r\n//     i;\r\n\r\n//   while (m) {\r\n//     i = Math.floor(Math.random() * m--);\r\n\r\n//     t = array[m];\r\n//     array[m] = array[i];\r\n//     array[i] = t;\r\n//   }\r\n\r\n//   return array;\r\n// };\r\n\r\n// const generate_states_obj_from_approvals = (approvals) => {\r\n//   if (approvals.length === 0) return {};\r\n\r\n//   let approval_by_id = {};\r\n//   approvals.forEach((x) => {\r\n//     approval_by_id[x.id] = x;\r\n//   });\r\n\r\n//   let approval_state_by_username = {};\r\n\r\n//   //  ,     ,\r\n//   //     \r\n//   const approvals_copy = approvals.map((x) => x);\r\n\r\n//   approvals_copy\r\n//     .sort((a, b) => a.updated_at - b.updated_at)\r\n//     .map((approval) => {\r\n//       const state = approval.state;\r\n//       approval_state_by_username[approval.to_username] = state;\r\n\r\n//       //       \r\n//       while (approval.delegated_from) {\r\n//         approval = approval_by_id[approval.delegated_from];\r\n//         approval_state_by_username[approval.to_username] = state;\r\n//       }\r\n//     });\r\n\r\n//   return approval_state_by_username;\r\n// };\r\n\r\n// const validate_json = (text, schema_obj = null) => {\r\n//   let obj = null;\r\n//   try {\r\n//     obj = JSON.parse(text);\r\n//   } catch (e) {\r\n//     return false;\r\n//   }\r\n\r\n//   if (schema_obj === null) return true;\r\n\r\n//   const ajv = new Ajv({ allErrors: true, allowUnionTypes: true });\r\n//   AjvErrors(ajv);\r\n\r\n//   const validate = ajv.compile(schema_obj);\r\n//   validate(obj);\r\n\r\n//   if (validate.errors !== null) {\r\n//     validate.errors.forEach((err) => console.log(err.message));\r\n//     return false;\r\n//   }\r\n\r\n//   return true;\r\n// };\r\n\r\nexport {\r\n  deepObjectCopy,\r\n  useBeforeEnterPage,\r\n  // useGetInfo,\r\n  // useGetFolders,\r\n  // useGetPermissions,\r\n  // useGetRoles,\r\n  // useGetUserFolderSettings,\r\n  // useGetUsers,\r\n  // useGetUserReplacements,\r\n  // useGetOnBehalfUsers,\r\n  // useGetUserGroups,\r\n  // useGetUserSearchSchema,\r\n  // useGetSpareFiles,\r\n  // useGetFlowItem,\r\n  // useGetFlowItemSteps,\r\n  // useGetDocument,\r\n  // useValidateDocument,\r\n  // useGetDocumentsWaitingApproval,\r\n  // useGetDocumentApprovalsWithSpareFiles,\r\n  // useGetDocumentApprovalFlow,\r\n  // useGetCart,\r\n  // useGetServerSettings,\r\n  // useGetMailBoxes,\r\n  // useGetMailChannels,\r\n  // useGetCounters,\r\n  // use404,\r\n  // useValidateIntOr404,\r\n  useDataEncode,\r\n  useGetSortFunction,\r\n  // // CONTEXT\r\n  // useGetContext,\r\n  // MIXINS\r\n  useCurrentMixin,\r\n  useSelectionMixin,\r\n  usePaginationMixin,\r\n  // usePromiseExecuteMixin,\r\n  // usePerformActionMixin,\r\n  // // DECORATORS\r\n  // useExecutionTimeDecorator,\r\n  // // FUNCTIONS\r\n  convertObject,\r\n  convertDateToDateString,\r\n  convertDateToDateTimeString,\r\n  convertDateToDateObject,\r\n  // shuffleArray,\r\n  // generate_states_obj_from_approvals,\r\n  // // VALIDATION\r\n  // validate_json,\r\n  // FILTERS\r\n  // filterArrayOfObjects,\r\n  filterArrayOfObjectsByQuery,\r\n};\r\n","import { render } from \"./MainPage.vue?vue&type=template&id=28488e4e&scoped=true\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js\"\n\nimport \"./MainPage.vue?vue&type=style&index=0&id=28488e4e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28488e4e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page\">\r\n    <heading-component class=\"page__heading\" text=\"CDNs\" size=\"middle\" />\r\n    <div class=\"page__container\">\r\n      <div class=\"page__editblock\">\r\n        <base-form\r\n          class=\"page__form\"\r\n          :attributes=\"current\"\r\n          :settings=\"form_pages\"\r\n          :is_edit_mode=\"true\"\r\n          :is_header_required=\"false\"\r\n          @update=\"handle_update_attribute($event.name, $event.value)\"\r\n        >\r\n        </base-form>\r\n\r\n        <div class=\"page__editrow\">\r\n          <btn-component\r\n            class=\"page__button\"\r\n            @click=\"add_action()\"\r\n            caption=\"\"\r\n            type=\"primary\"\r\n            :disabled=\"!is_edit_block_valid\"\r\n            v-if=\"can_add && !current_id\"\r\n          />\r\n          <btn-component\r\n            class=\"page__button\"\r\n            @click=\"update_action()\"\r\n            caption=\"\"\r\n            type=\"success\"\r\n            :disabled=\"!is_edit_block_valid\"\r\n            v-if=\"can_change && current_id\"\r\n          />\r\n          <btn-component\r\n            class=\"page__button\"\r\n            @click=\"delete_action()\"\r\n            caption=\"\"\r\n            type=\"danger\"\r\n            v-if=\"can_delete && current_id\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <search-component\r\n        class=\"page__searchblock\"\r\n        :schema=\"search_schema\"\r\n        :model_objects=\"model_objects\"\r\n        :convert_obj_to_item=\"convert_model_to_item\"\r\n        :current_id=\"current_id\"\r\n        sort_by=\"name\"\r\n        :sort_asc=\"true\"\r\n        :search_time=\"search_time\"\r\n        :is_searching=\"is_searching\"\r\n        :should_emit_search_event_on_any_keypress=\"true\"\r\n        @choose=\"current_id = $event\"\r\n        @search=\"search_action($event)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, ref } from \"vue\";\r\nimport {\r\n  RefreshTokens,\r\n  GetCdnServers,\r\n  AddCdnServer,\r\n  UpdateCdnServer,\r\n  DeleteCdnServer,\r\n} from \"../logic/domain/command\";\r\nimport { MessageBus } from \"../logic/service_layer/message_bus\";\r\nimport { VueUnitOfWork } from \"../logic/service_layer/uow\";\r\nimport {\r\n  convertObject,\r\n  // useBeforeEnterPage,\r\n  filterArrayOfObjectsByQuery,\r\n  // validate_json,\r\n  useCurrentMixin,\r\n  // useGetFolders,\r\n  convertDateToDateTimeString,\r\n} from \"../logic/service_layer/use_modules\";\r\n// import { FolderSettings } from \"../logic/adapters/api_responses/models/folder/folder_settings\";\r\n\r\nimport HeadingComponent from \"../components/HeadingComponent.vue\";\r\nimport BtnComponent from \"../components/buttons/BtnComponent.vue\";\r\nimport BaseForm from \"../components/forms/BaseForm.vue\";\r\nimport SearchComponent from \"../components/SearchComponent.vue\";\r\n\r\nimport { useBeforeEnterPage } from \"../logic/service_layer/use_modules\";\r\n\r\nexport default {\r\n  components: {\r\n    HeadingComponent,\r\n    BtnComponent,\r\n    BaseForm,\r\n    SearchComponent,\r\n  },\r\n  name: \"ServersPage\",\r\n\r\n  setup() {\r\n    const uow = new VueUnitOfWork();\r\n    const user = uow.user_repository.get_current(); // Ref\r\n\r\n    const convert_model_to_item = (obj) => {\r\n      return {\r\n        id: obj.id,\r\n        attributes: {\r\n          id: obj.id.toString(),\r\n          name: obj.name,\r\n          host: obj.host,\r\n          port: obj.port.toString(),\r\n          location: obj.location,\r\n          zone: obj.zone,\r\n          latitude: obj.latitude.toString(),\r\n          longitude: obj.longitude.toString(),\r\n          is_on: obj.is_on === true ? \"Y\" : \"N\",\r\n          is_active: obj.is_active === true ? \"Y\" : \"N\",\r\n          created: convertDateToDateTimeString(obj.created),\r\n          updated: convertDateToDateTimeString(obj.updated),\r\n        },\r\n        actions: {},\r\n      };\r\n    };\r\n\r\n    const query_for_internal_search = ref({});\r\n    const model_objects = computed(() =>\r\n      filterArrayOfObjectsByQuery(\r\n        uow.cdn_server_repository.values().map((obj) => obj.value),\r\n        query_for_internal_search.value\r\n      )\r\n    );\r\n\r\n    const can_add = computed(() =>\r\n      user.value ? user.value.permissions.includes(\"can_add_cdnserver\") : false\r\n    );\r\n    const can_change = computed(() =>\r\n      user.value\r\n        ? user.value.permissions.includes(\"can_change_cdnserver\")\r\n        : false\r\n    );\r\n    const can_delete = computed(() =>\r\n      user.value\r\n        ? user.value.permissions.includes(\"can_delete_cdnserver\")\r\n        : false\r\n    );\r\n\r\n    // STATUS\r\n    const search_time = ref(0);\r\n    const is_searching = ref(false);\r\n\r\n    const search_action = (query) => (query_for_internal_search.value = query);\r\n\r\n    const search_schema = [\r\n      {\r\n        name: \"name\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"location\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"zone\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"host\",\r\n        size: \"w200\",\r\n        grow: true,\r\n        fields: [\r\n          {\r\n            placeholder: \"Host\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"port\",\r\n        size: \"w100\",\r\n        fields: [\r\n          {\r\n            placeholder: \"Port\",\r\n            rule: \"icontains\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"is_on\",\r\n        size: \"w30\",\r\n        fields: [\r\n          {\r\n            type: \"bool\",\r\n            placeholder: \"?\",\r\n            rule: \"exact\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"is_active\",\r\n        size: \"w30\",\r\n        fields: [\r\n          {\r\n            type: \"bool\",\r\n            placeholder: \"?\",\r\n            rule: \"exact\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    // FORM\r\n    const init_obj = {\r\n      id: null,\r\n      name: \"\",\r\n      host: \"\",\r\n      port: \"\",\r\n      location: \"\",\r\n      zone: \"\",\r\n      latitude: \"\",\r\n      longitude: \"\",\r\n      is_on: false,\r\n      is_active: false,\r\n      created: Date.now(),\r\n      updated: Date.now(),\r\n    };\r\n\r\n    const to_repository_convertion = {\r\n      port: (x) => parseInt(x),\r\n      latitude: (x) => parseFloat(x),\r\n      longitude: (x) => parseFloat(x),\r\n    };\r\n\r\n    const from_repository_convertion = {\r\n      port: (x) => x.toString(),\r\n      latitude: (x) => x.toString(),\r\n      longitude: (x) => x.toString(),\r\n    };\r\n\r\n    const { current_id, current, handle_update_attribute } = useCurrentMixin(\r\n      init_obj,\r\n      uow.cdn_server_repository,\r\n      from_repository_convertion\r\n    );\r\n\r\n    const is_edit_block_valid = computed(\r\n      () => current.value.name.length > 0\r\n       && current.value.host.length > 0 \r\n       && parseInt(current.value.port) \r\n       && current.value.location.length > 0 \r\n       && current.value.zone.length > 0 \r\n       && parseFloat(current.value.latitude)\r\n       && parseFloat(current.value.longitude)\r\n    );\r\n\r\n    const add_action = async () => {\r\n      const message = new AddCdnServer(\r\n        ...[\r\n          \"name\",\r\n          \"host\",\r\n          \"port\",\r\n          \"location\",\r\n          \"zone\",\r\n          \"latitude\",\r\n          \"longitude\",\r\n          \"is_on\",\r\n          \"is_active\",\r\n        ].map((k) => convertObject(current.value, to_repository_convertion)[k])\r\n      );\r\n      await MessageBus.handle(message, uow);\r\n    };\r\n\r\n    const update_action = async () => {\r\n      const message = new UpdateCdnServer(\r\n        ...[\r\n          \"id\",\r\n          \"name\",\r\n          \"host\",\r\n          \"port\",\r\n          \"location\",\r\n          \"zone\",\r\n          \"latitude\",\r\n          \"longitude\",\r\n          \"is_on\",\r\n          \"is_active\",\r\n        ].map((k) => convertObject(current.value, to_repository_convertion)[k])\r\n      );\r\n      await MessageBus.handle(message, uow);\r\n    };\r\n\r\n    const delete_action = async () => {\r\n      const message = new DeleteCdnServer(current_id.value);\r\n      await MessageBus.handle(message, uow);\r\n      current_id.value = null;\r\n    };\r\n\r\n    const form_pages = computed(() => [\r\n      {\r\n        size: \"w450\",\r\n        fields: [\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"name\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"host\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"port\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"location\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"zone\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"latitude\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \":\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"longitude\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \" ?\",\r\n          },\r\n          {\r\n            type: \"FormBooleanInput\",\r\n            bind: \"is_on\",\r\n          },\r\n          {\r\n            type: \"FormTextField\",\r\n            value: \" ?\",\r\n          },\r\n          {\r\n            type: \"FormBooleanInput\",\r\n            bind: \"is_active\",\r\n          },\r\n        ],\r\n      },\r\n    ]);\r\n\r\n    // TIMERS\r\n    const refresh_tokens = async () =>\r\n      await MessageBus.handle(new RefreshTokens(), uow);\r\n\r\n    uow.token_timer.set_callback(refresh_tokens);\r\n    uow.token_timer.start();\r\n\r\n    onMounted(async () => {\r\n      //   a\r\n      // await useBeforeEnterPage(uow, [\"can_view_flow\"]);\r\n      // await useGetFolders(uow);\r\n      await useBeforeEnterPage(uow, []);\r\n      await MessageBus.handle(new GetCdnServers(), uow);\r\n    });\r\n\r\n    return {\r\n      // ACTION\r\n      search_action,\r\n      add_action,\r\n      update_action,\r\n      delete_action,\r\n\r\n      // PERMISSION\r\n      can_add,\r\n      can_change,\r\n      can_delete,\r\n\r\n      // EDIT\r\n      current_id,\r\n      current,\r\n      is_edit_block_valid,\r\n      handle_update_attribute,\r\n      form_pages,\r\n\r\n      // SEARCH\r\n      search_schema,\r\n      model_objects,\r\n      convert_model_to_item,\r\n      search_time,\r\n      is_searching,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  padding-right: 60px;\r\n}\r\n\r\n.page__heading {\r\n  padding-top: 60px;\r\n  padding-bottom: 15px;\r\n}\r\n.page__container {\r\n  display: flex;\r\n}\r\n\r\n.page__editblock {\r\n  width: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-right: 15px;\r\n}\r\n\r\n.page__searchblock {\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 15px;\r\n  border-left: 1px solid black;\r\n}\r\n\r\n.page__button {\r\n  margin: 5px;\r\n}\r\n\r\n.page__editrow {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"searchcomponent\">\r\n    <document-page-search-row\r\n      class=\"searchcomponent__searchrow\"\r\n      :search_schema=\"schema\"\r\n      :should_emit_search_event_on_any_keypress=\"\r\n        should_emit_search_event_on_any_keypress\r\n      \"\r\n      :required_space_for_link=\"has_link\"\r\n      :is_selection_required=\"is_selection_required\"\r\n      :is_all_selected=\"false\"\r\n      @search:docs=\"$emit('search', $event)\"\r\n      @selectall:docs=\"handle_select_all_items()\"\r\n    />\r\n    <document-search-status-row\r\n      class=\"searchcomponent__searchstatus\"\r\n      :count=\"items.length\"\r\n      :time=\"search_time\"\r\n      :min_index=\"pagination_min_index\"\r\n      :max_index=\"pagination_max_index\"\r\n    />\r\n    <document-page-sort-row\r\n      class=\"searchcomponent__sortrow\"\r\n      :search_schema=\"schema\"\r\n      :sort_asc=\"var_sort_asc\"\r\n      :sort_by=\"var_sort_by\"\r\n      @toggle:direction=\"var_sort_asc = !var_sort_asc\"\r\n      @sort:by=\"[var_sort_by, var_sort_rule] = $event\"\r\n    />\r\n    <document-pagination-row\r\n      class=\"searchcomponent__paginationrow\"\r\n      v-if=\"items.length > 0\"\r\n      :total_count=\"items.length\"\r\n      :count_per_page=\"pagination_count_per_page\"\r\n      :current_page=\"pagination_current_page\"\r\n      :variants=\"pagination_variants\"\r\n      @set:page_range=\"handle_set_page_range($event.min, $event.max)\"\r\n      @select:page=\"pagination_current_page = $event\"\r\n      @set:count_per_page=\"pagination_count_per_page = $event\"\r\n    />\r\n    <!-- <div v-if=\"is_object_list_shown\" class=\"searchcomponent__listcontainer\"> -->\r\n    <div\r\n      class=\"searchcomponent__row\"\r\n      v-for=\"obj in paginated_items\"\r\n      :key=\"obj.id\"\r\n      :class=\"{ searchcomponent__row_selected: current_id === obj.id }\"\r\n      @click=\"$emit('choose', obj.id)\"\r\n    >\r\n      <document-attribute-row\r\n        class=\"searchcomponent__attributerow\"\r\n        :id=\"obj.id\"\r\n        :search_schema=\"schema\"\r\n        :has_link=\"has_link\"\r\n        :link_route_obj=\"obj.link_to_single_page\"\r\n        :attributes=\"obj.attributes\"\r\n        :is_selection_required=\"is_selection_required\"\r\n        :is_selected=\"obj.id in selected_item_ids\"\r\n        @select:doc=\"handle_select_item(obj.id)\"\r\n      />\r\n      <document-files-row\r\n        class=\"searchcomponent__filerow\"\r\n        v-if=\"is_files_shown\"\r\n        :files=\"obj.attachments\"\r\n        @download:file=\"\r\n          $emit('download:file', {\r\n            id: obj.id,\r\n            file: $event[0],\r\n            inline: $event[1],\r\n          })\r\n        \"\r\n        @copy_link_to:file=\"\r\n          $emit('copy_link_to:file', { id: obj.id, file: $event })\r\n        \"\r\n      />\r\n    </div>\r\n    <!-- </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, watch } from \"vue\";\r\nimport {\r\n  useGetSortFunction,\r\n  usePaginationMixin,\r\n  useSelectionMixin,\r\n} from \"../logic/service_layer/use_modules\";\r\nimport DocumentPageSearchRow from \"./document/DocumentPageSearchRow.vue\";\r\nimport DocumentAttributeRow from \"./document/DocumentAttributeRow.vue\";\r\nimport DocumentPageSortRow from \"./document/DocumentPageSortRow.vue\";\r\nimport DocumentPaginationRow from \"./document/DocumentPaginationRow.vue\";\r\nimport DocumentSearchStatusRow from \"./document/DocumentSearchStatusRow.vue\";\r\nimport DocumentFilesRow from \"./document/DocumentFilesRow.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPageSearchRow,\r\n    DocumentAttributeRow,\r\n    DocumentPageSortRow,\r\n    DocumentPaginationRow,\r\n    DocumentSearchStatusRow,\r\n    DocumentFilesRow,\r\n  },\r\n  name: \"SearchComponent\",\r\n\r\n  props: {\r\n    model_objects: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    // total_count_of_model_objects: {\r\n    //   type: Number,\r\n    //   required: false,\r\n    //   default: 0\r\n    // },\r\n    schema: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    sort_by: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    sort_asc: { type: Boolean, required: false, default: false },\r\n    sort_rule: {\r\n      type: String,\r\n      required: false,\r\n      default: \"DEFAULT\",\r\n    },\r\n    convert_obj_to_item: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    current_id: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    search_time: {\r\n      type: Number,\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    is_searching: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    should_emit_search_event_on_any_keypress: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    // should_sort: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: false,\r\n    // },\r\n    is_selection_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    has_link: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_files_shown: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    // is_search_row_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_search_status_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_sorting_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_pagination_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n    // is_object_list_shown: {\r\n    //   type: Boolean,\r\n    //   required: false,\r\n    //   default: true,\r\n    // },\r\n  },\r\n\r\n  emits: [\r\n    \"choose\",\r\n    \"search\",\r\n    \"download:file\",\r\n    \"copy_link_to:file\",\r\n    \"select\",\r\n    // \"select:sort_by\",\r\n    // \"select:sort_asc\",\r\n    // \"select:page\",\r\n    // \"select:count_per_page\",\r\n  ],\r\n\r\n  setup(props, { emit }) {\r\n    // SEARCH\r\n    const var_sort_by = ref(props.sort_by);\r\n    const var_sort_asc = ref(props.sort_asc);\r\n    const var_sort_rule = ref(props.sort_rule);\r\n    const var_sort_func = ref(useGetSortFunction(var_sort_rule.value));\r\n\r\n    // watch(\r\n    //   var_sort_by,\r\n    //   () => emit('select:sort_by', var_sort_by.value)\r\n    // );\r\n\r\n    // watch(\r\n    //   var_sort_asc,\r\n    //   () => emit('select:sort_asc', var_sort_asc.value)\r\n    // );\r\n\r\n    watch(\r\n      var_sort_rule,\r\n      (newValue) => (var_sort_func.value = useGetSortFunction(newValue))\r\n    );\r\n\r\n    // ITEMS\r\n    const items = computed(() => {\r\n      let arr = props.model_objects;\r\n\r\n      arr.sort(\r\n        (a, b) =>\r\n          (var_sort_asc.value === true ? 1 : -1) *\r\n          var_sort_func.value(a[var_sort_by.value], b[var_sort_by.value])\r\n      );\r\n      return arr.map((obj) => props.convert_obj_to_item(obj));\r\n    });\r\n\r\n    // PAGINATION\r\n    const {\r\n      pagination_variants,\r\n      pagination_count_per_page,\r\n      pagination_current_page,\r\n      pagination_min_index,\r\n      pagination_max_index,\r\n      paginated_items,\r\n      handle_set_page_range,\r\n    } = usePaginationMixin(items);\r\n    // } = usePaginationMixin(items, props.total_count_of_model_objects);\r\n\r\n    // watch(\r\n    //   pagination_current_page,\r\n    //   () => emit('select:page', pagination_current_page.value)\r\n    // );\r\n\r\n    // watch(\r\n    //   pagination_count_per_page,\r\n    //   () => emit('select:count_per_page', pagination_count_per_page.value)\r\n    // );\r\n\r\n    // SELECTION\r\n    const {\r\n      selected_item_ids,\r\n      selected_items,\r\n      count_of_selected_items,\r\n      handle_select_all_items,\r\n      handle_select_item,\r\n      reset_selection,\r\n    } = useSelectionMixin(items, paginated_items);\r\n\r\n    watch(selected_items, (newValue) => emit(\"select\", newValue));\r\n\r\n    return {\r\n      items,\r\n\r\n      // SEARCH\r\n      var_sort_by,\r\n      var_sort_asc,\r\n      var_sort_rule,\r\n\r\n      // PAGINATION\r\n      paginated_items,\r\n      handle_set_page_range,\r\n      pagination_variants,\r\n      pagination_count_per_page,\r\n      pagination_current_page,\r\n      pagination_min_index,\r\n      pagination_max_index,\r\n\r\n      // SELECTION\r\n      selected_item_ids,\r\n      selected_items,\r\n      count_of_selected_items,\r\n      handle_select_all_items,\r\n      handle_select_item,\r\n      reset_selection,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.searchcomponent {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.searchcomponent__searchstatus {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 10px;\r\n}\r\n\r\n.searchcomponent__searchrow {\r\n  display: flex;\r\n}\r\n\r\n.searchcomponent__row {\r\n  cursor: pointer;\r\n}\r\n\r\n.searchcomponent__row:nth-child(even) {\r\n  background-color: rgb(215, 242, 255);\r\n}\r\n\r\n.searchcomponent__row_selected {\r\n  background-color: lightyellow !important;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"documentpagesearchrow\">\r\n    <sized-div\r\n      v-if=\"is_selection_required\"\r\n      class=\"documentpagesearchrow__sizedblock\"\r\n      size=\"w30\"\r\n    >\r\n      <form-boolean-input\r\n        class=\"documentpagesearchrow__input\"\r\n        :value=\"is_all_selected\"\r\n        :parameters=\"{ size: 30 }\"\r\n        @update=\"$emit('selectall:docs')\"\r\n      />\r\n    </sized-div>\r\n\r\n    <sized-div\r\n      class=\"documentpagesearchrow__sizedblock\"\r\n      size=\"w30\"\r\n      v-if=\"required_space_for_link\"\r\n    >\r\n    </sized-div>\r\n\r\n    <sized-div\r\n      v-for=\"block in search_schema\"\r\n      :key=\"block.name\"\r\n      class=\"documentpagesearchrow__sizedblock\"\r\n      :size=\"block.size\"\r\n      :grow=\"block.grow\"\r\n    >\r\n      <component\r\n        class=\"documentpagesearchrow__input\"\r\n        v-for=\"field in block.fields\"\r\n        :key=\"field\"\r\n        :is=\"get_component_name(field)\"\r\n        :value=\"get_query_value(block, field)\"\r\n        :parameters=\"get_parameters(block, field)\"\r\n        @keyup.enter=\"emit_search_event()\"\r\n        @update=\"set_query_value(block, field, $event)\"\r\n      />\r\n\r\n      <tuning-item\r\n        class=\"documentpagesearchrow__tuningitem\"\r\n        v-if=\"is_tuning_mode\"\r\n        :size=\"block.size\"\r\n        :grow=\"block.grow\"\r\n        @change:size=\"$emit('change:size', { name: block.name, value: $event })\"\r\n        @change:grow=\"$emit('change:grow', { name: block.name, value: $event })\"\r\n        @delete:field=\"$emit('delete:field', block.name)\"\r\n      />\r\n    </sized-div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, watch, computed } from \"vue\";\r\nimport { useDataEncode } from \"../../logic/service_layer/use_modules\";\r\nimport SizedDiv from \"../SizedDiv.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\nimport FormSelectInput from \"../fields/FormSelectInput.vue\";\r\nimport FormFilteredSelectInput from \"../fields/FormFilteredSelectInput.vue\";\r\nimport FormBooleanInput from \"../fields/FormBooleanInput.vue\";\r\nimport TuningItem from \"./TuningItem.vue\";\r\nexport default {\r\n  name: \"DocumentPageSearchRow\",\r\n  components: {\r\n    SizedDiv,\r\n    FormTextInput,\r\n    FormSelectInput,\r\n    FormFilteredSelectInput,\r\n    TuningItem,\r\n    FormBooleanInput,\r\n  },\r\n  props: {\r\n    search_schema: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    is_disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_clean_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_tuning_mode: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    required_space_for_link: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_selection_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_all_selected: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    should_emit_search_event_on_any_keypress: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\r\n    \"search:docs\",\r\n    \"selectall:docs\",\r\n    \"clean:query\",\r\n    \"change:size\",\r\n    \"change:grow\",\r\n    \"delete:field\",\r\n  ],\r\n\r\n  setup(props, { emit }) {\r\n    const query = reactive({});\r\n\r\n    const get_query_key = (name, rule) => {\r\n      return name + \"__\" + rule;\r\n    };\r\n\r\n    const encoded_query = computed(() => {\r\n      const result = {};\r\n      Object.keys(query).forEach((key) => {\r\n        const property = query[key];\r\n        const converter = property.converter ? property.converter : null;\r\n        let value = property.value;\r\n\r\n        //     \r\n        //    \r\n        if (property.re)\r\n          if (is_pattern_valid(property.re, property.value) === false)\r\n            value = \"\";\r\n\r\n        result[key] =\r\n          value === \"\" ? value : useDataEncode(value, property.rule, converter);\r\n      });\r\n      return result;\r\n    });\r\n\r\n    const get_initial_value = (type) => {\r\n      if (type === \"bool\") return false;\r\n      return \"\";\r\n    };\r\n\r\n    const reset_query = () => {\r\n      //     ,\r\n      //     \r\n      props.search_schema.forEach((block) => {\r\n        block.fields.forEach((field) => {\r\n          query[get_query_key(block.name, field.rule)] = {\r\n            type: field.type,\r\n            name: block.name,\r\n            rule: field.rule,\r\n            re: field.re,\r\n            converter: field.converter,\r\n            value: get_initial_value(field.type),\r\n          };\r\n        });\r\n      });\r\n    };\r\n\r\n    const is_pattern_valid = (regexp_str, str) => {\r\n      return String.prototype.match.call(str, new RegExp(regexp_str)) !== null;\r\n    };\r\n\r\n    watch(\r\n      () => props.is_clean_required,\r\n      (newValue) => {\r\n        if (newValue === true) {\r\n          reset_query();\r\n          emit(\"clean:query\");\r\n        }\r\n      }\r\n    );\r\n\r\n    reset_query();\r\n\r\n    // SEACRH EVENT\r\n\r\n    const emit_search_event = () => emit(\"search:docs\", encoded_query.value);\r\n\r\n    // COMPONENT\r\n    const get_component_name = (field) => {\r\n      if (field.type === \"bool\") return \"FormBooleanInput\";\r\n      if (field.type === \"select\") return \"FormSelectInput\";\r\n      if (field.type === \"filtered_select\") return \"FormFilteredSelectInput\";\r\n      return \"FormTextInput\";\r\n    };\r\n\r\n    const get_query_item = (block, field) =>\r\n      query[get_query_key(block.name, field.rule)];\r\n\r\n    const get_query_value = (block, field) =>\r\n      get_query_item(block, field)[\"value\"];\r\n\r\n    const set_query_value = (block, field, value) => {\r\n      get_query_item(block, field)[\"value\"] = value;\r\n      if (props.should_emit_search_event_on_any_keypress) emit_search_event();\r\n    };\r\n\r\n    const get_parameters = (block, field) => {\r\n      if (field.type === \"bool\") return boolean_input_parameters(field);\r\n\r\n      if ([\"select\", \"filtered_select\"].includes(field.type))\r\n        return select_input_parameters(field);\r\n\r\n      return text_input_parameters(block, field);\r\n    };\r\n\r\n    const text_input_parameters = (block, field) => {\r\n      return {\r\n        color: !is_pattern_valid(\r\n          get_query_item(block, field)[\"re\"],\r\n          get_query_item(block, field)[\"value\"]\r\n        )\r\n          ? \"red\"\r\n          : \"\",\r\n\r\n        placeholder: field.placeholder,\r\n        is_disabled: props.is_disabled,\r\n        height: 30,\r\n      };\r\n    };\r\n\r\n    const boolean_input_parameters = (field) => {\r\n      return {\r\n        hint: field.placeholder,\r\n        is_disabled: props.is_disabled,\r\n        size: 28,\r\n      };\r\n    };\r\n\r\n    const select_input_parameters = (field) => {\r\n      return {\r\n        hint: field.placeholder,\r\n        is_disabled: props.is_disabled,\r\n        options: field.options,\r\n      };\r\n    };\r\n\r\n    return {\r\n      query,\r\n      encoded_query,\r\n      get_query_key,\r\n      is_pattern_valid,\r\n\r\n      // GETTERS\r\n      get_component_name,\r\n      get_parameters,\r\n      get_query_value,\r\n      set_query_value,\r\n\r\n      // EVENT\r\n      emit_search_event,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentpagesearchrow {\r\n  display: flex;\r\n}\r\n\r\n.documentpagesearchrow__sizedblock {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n}\r\n\r\n.documentpagesearchrow__input {\r\n  min-height: 30px;\r\n  max-height: 30px;\r\n  padding: 0px 1px;\r\n  box-sizing: border-box;\r\n}\r\n</style>","<template>\r\n  <div\r\n    class=\"sizeddiv\"\r\n    v-bind:class=\"{\r\n      sizeddiv_w30: size === 'w30' && grow === false,\r\n      sizeddiv_w35: size === 'w35' && grow === false,\r\n      sizeddiv_w40: size === 'w40' && grow === false,\r\n      sizeddiv_w50: size === 'w50' && grow === false,\r\n      sizeddiv_w100: size === 'w100' && grow === false,\r\n      sizeddiv_w150: size === 'w150' && grow === false,\r\n      sizeddiv_w200: size === 'w200' && grow === false,\r\n      sizeddiv_w250: size === 'w250' && grow === false,\r\n      sizeddiv_w300: size === 'w300' && grow === false,\r\n      sizeddiv_w350: size === 'w350' && grow === false,\r\n      sizeddiv_w400: size === 'w400' && grow === false,\r\n      sizeddiv_growable: grow === true,\r\n    }\"\r\n  >\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SizedDiv\",\r\n  props: {\r\n    size: {\r\n      type: String,\r\n      required: false,\r\n      default: \"\",\r\n    },\r\n    grow: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.sizeddiv {\r\n  display: flex;\r\n}\r\n\r\n.sizeddiv_w30 {\r\n  min-width: 30px;\r\n  max-width: 30px;\r\n}\r\n\r\n.sizeddiv_w35 {\r\n  min-width: 35px;\r\n  max-width: 35px;\r\n}\r\n\r\n.sizeddiv_w40 {\r\n  min-width: 40px;\r\n  max-width: 40px;\r\n}\r\n\r\n.sizeddiv_w50 {\r\n  min-width: 50px;\r\n  max-width: 50px;\r\n}\r\n\r\n.sizeddiv_w100 {\r\n  min-width: 100px;\r\n  max-width: 100px;\r\n}\r\n\r\n.sizeddiv_w150 {\r\n  min-width: 150px;\r\n  max-width: 150px;\r\n}\r\n.sizeddiv_w200 {\r\n  min-width: 200px;\r\n  max-width: 200px;\r\n}\r\n.sizeddiv_w250 {\r\n  min-width: 250px;\r\n  max-width: 250px;\r\n}\r\n.sizeddiv_w300 {\r\n  min-width: 300px;\r\n  max-width: 300px;\r\n}\r\n.sizeddiv_w350 {\r\n  min-width: 350px;\r\n  max-width: 350px;\r\n}\r\n.sizeddiv_w400 {\r\n  min-width: 400px;\r\n  max-width: 400px;\r\n}\r\n\r\n.sizeddiv_growable {\r\n  width: 50px;\r\n  flex-grow: 1;\r\n}\r\n</style>","import { render } from \"./SizedDiv.vue?vue&type=template&id=09f6cb8c\"\nimport script from \"./SizedDiv.vue?vue&type=script&lang=js\"\nexport * from \"./SizedDiv.vue?vue&type=script&lang=js\"\n\nimport \"./SizedDiv.vue?vue&type=style&index=0&id=09f6cb8c&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"tuningitem\">\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"-\"\r\n      @click=\"$emit('change:size', prev_size(size))\"\r\n    />\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"+\"\r\n      @click=\"$emit('change:size', next_size(size))\"\r\n    />\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"&#8660;\"\r\n      icon_off=\"&#10500;\"\r\n      :is_active=\"grow\"\r\n      @click=\"$emit('change:grow', !grow)\"\r\n    />\r\n    <icon-button\r\n      class=\"tuningitem__button\"\r\n      icon_on=\"X\"\r\n      @click=\"$emit('delete:field')\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IconButton from \"../buttons/IconButton.vue\";\r\nexport default {\r\n  components: { IconButton },\r\n  name: \"TuningItem\",\r\n  props: {\r\n    size: {\r\n      type: String,\r\n      required: false,\r\n      default: \"w50\",\r\n    },\r\n    grow: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\"change:size\", \"change:grow\", \"delete:field\"],\r\n  setup() {\r\n    const size_variants = [\r\n      \"w50\",\r\n      \"w100\",\r\n      \"w150\",\r\n      \"w200\",\r\n      \"w250\",\r\n      \"w300\",\r\n      \"w350\",\r\n      \"w400\",\r\n    ];\r\n\r\n    const prev_size = (size) => {\r\n      let idx = size_variants.indexOf(size) - 1;\r\n      idx = Math.max(0, idx);\r\n      return size_variants[idx];\r\n    };\r\n\r\n    const next_size = (size) => {\r\n      let idx = size_variants.indexOf(size) + 1;\r\n      idx = Math.min(idx, size_variants.length - 1);\r\n      return size_variants[idx];\r\n    };\r\n\r\n    return { prev_size, next_size };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.tuningitem {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  padding: 3px;\r\n}\r\n\r\n.tuningitem__button {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n.tuningitem__sizecontainer {\r\n  display: flex;\r\n}\r\n</style>","<template>\r\n  <div class=\"iconbutton\" @click=\"$emit('toggle')\">\r\n    <div class=\"iconbutton__icon\">\r\n      {{ is_active === true ? icon_on : icon_off }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"IconButton\",\r\n  props: {\r\n    icon_on: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    icon_off: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n    is_active: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.iconbutton {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.iconbutton__icon {\r\n  flex-grow: 1;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n}\r\n</style>","import { render } from \"./IconButton.vue?vue&type=template&id=5f810ad4\"\nimport script from \"./IconButton.vue?vue&type=script&lang=js\"\nexport * from \"./IconButton.vue?vue&type=script&lang=js\"\n\nimport \"./IconButton.vue?vue&type=style&index=0&id=5f810ad4&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TuningItem.vue?vue&type=template&id=9319ab66\"\nimport script from \"./TuningItem.vue?vue&type=script&lang=js\"\nexport * from \"./TuningItem.vue?vue&type=script&lang=js\"\n\nimport \"./TuningItem.vue?vue&type=style&index=0&id=9319ab66&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentPageSearchRow.vue?vue&type=template&id=74028ffa&scoped=true\"\nimport script from \"./DocumentPageSearchRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPageSearchRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPageSearchRow.vue?vue&type=style&index=0&id=74028ffa&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74028ffa\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"documentattributerow\"\r\n    :class=\"{ documentattributerow_modified: is_highlighted }\"\r\n  >\r\n    <sized-div\r\n      v-if=\"is_selection_required\"\r\n      class=\"documentattributerow__sizedblock_center\"\r\n      size=\"w30\"\r\n    >\r\n      <form-boolean-input\r\n        class=\"documentattributerow__checkbox\"\r\n        :value=\"is_selected\"\r\n        :parameters=\"{ size: 20 }\"\r\n        @click=\"$emit('select:doc')\"\r\n      />\r\n    </sized-div>\r\n    <sized-div\r\n      v-if=\"has_link\"\r\n      class=\"documentattributerow__sizedblock_center\"\r\n      size=\"w30\"\r\n    >\r\n      <router-link class=\"documentattributerow__href\" :to=\"link_route_obj\">\r\n        <form-text-field class=\"documentattributerow__textfield\" value=\"@\" />\r\n      </router-link>\r\n    </sized-div>\r\n\r\n    <sized-div\r\n      v-for=\"block in search_schema\"\r\n      :key=\"block.name\"\r\n      class=\"documentattributerow__sizedblock\"\r\n      :size=\"block.size\"\r\n      :grow=\"block.grow\"\r\n    >\r\n      <form-text-input\r\n        v-if=\"is_edit_mode && !block.name.toLowerCase().includes('date')\"\r\n        class=\"documentattributerow__textinput\"\r\n        :value=\"attributes[block.name]\"\r\n        :parameters=\"{\r\n          is_disabled: get_bool_attribute(block.is_disabled) || is_disabled,\r\n          default: block.default,\r\n        }\"\r\n        @update=\"\r\n          $emit('update:doc', { id: id, name: block.name, value: $event })\r\n        \"\r\n      />\r\n      <form-date-input\r\n        v-if=\"is_edit_mode && block.name.toLowerCase().includes('date')\"\r\n        class=\"documentattributerow__dateinput\"\r\n        :value=\"attributes[block.name]\"\r\n        :parameters=\"{\r\n          is_disabled: get_bool_attribute(block.is_disabled) || is_disabled,\r\n          default:\r\n            block.default === undefined || block.default === null\r\n              ? Math.round(Date.now() / 1000)\r\n              : block.default,\r\n        }\"\r\n        @update=\"\r\n          $emit('update:doc', { id: id, name: block.name, value: $event })\r\n        \"\r\n      />\r\n      <form-text-field\r\n        v-if=\"!is_edit_mode\"\r\n        class=\"documentattributerow__textfield\"\r\n        :value=\"attributes[block.name]\"\r\n        :parameters=\"{\r\n          align: block.align ? block.align : 'center',\r\n          default: block.default,\r\n        }\"\r\n      />\r\n    </sized-div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SizedDiv from \"../SizedDiv.vue\";\r\nimport FormTextField from \"../fields/FormTextField.vue\";\r\nimport FormTextInput from \"../fields/FormTextInput.vue\";\r\nimport FormDateInput from \"../fields/FormDateInput.vue\";\r\nimport FormBooleanInput from \"../fields/FormBooleanInput.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    SizedDiv,\r\n    FormTextField,\r\n    FormTextInput,\r\n    FormDateInput,\r\n    FormBooleanInput,\r\n  },\r\n  name: \"DocumentAttributeRow\",\r\n  props: {\r\n    id: {\r\n      type: [String, Number],\r\n      required: true,\r\n    },\r\n    search_schema: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    attributes: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    is_selection_required: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_selected: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_edit_mode: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_highlighted: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    is_disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    has_link: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    link_route_obj: {\r\n      type: Object,\r\n    },\r\n  },\r\n  emits: [\"update:doc\", \"select:doc\"],\r\n  setup() {\r\n    const get_bool_attribute = (value) => {\r\n      return value === true ? true : false;\r\n    };\r\n\r\n    return {\r\n      get_bool_attribute,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentattributerow {\r\n  display: flex;\r\n}\r\n.documentattributerow__sizedblock_center {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.documentattributerow__checkbox {\r\n  min-width: 20px;\r\n  max-width: 20px;\r\n  min-height: 20px;\r\n  max-height: 20px;\r\n}\r\n\r\n.documentattributerow__textfield {\r\n  flex-grow: 1;\r\n  padding: 3px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.documentattributerow__href {\r\n  flex-grow: 1;\r\n  text-decoration: none;\r\n}\r\n\r\n.documentattributerow__textinput,\r\n.documentattributerow__dateinput {\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.documentattributerow__textinput {\r\n  padding: 3px;\r\n}\r\n\r\n.documentattributerow__dateinput {\r\n  margin: 3px;\r\n}\r\n\r\n.documentattributerow_modified {\r\n  border: 2px solid orange;\r\n}\r\n\r\n.documentattributerow_blocked {\r\n  border: 2px solid red;\r\n}\r\n</style>","import { render } from \"./DocumentAttributeRow.vue?vue&type=template&id=6127c01a&scoped=true\"\nimport script from \"./DocumentAttributeRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentAttributeRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentAttributeRow.vue?vue&type=style&index=0&id=6127c01a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6127c01a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"documentpagesortrow\">\r\n    <sized-div\r\n      v-for=\"block in search_schema\"\r\n      :key=\"block.name\"\r\n      class=\"documentpagesortrow__sizedblock\"\r\n      :size=\"block.size\"\r\n      :grow=\"block.grow\"\r\n    >\r\n      <arrow-switch\r\n        class=\"documentpagesortrow__arrow\"\r\n        :is_checked=\"sort_asc === true\"\r\n        :is_selected=\"sort_by === block.name\"\r\n        @click=\"\r\n          sort_by === block.name\r\n            ? $emit('toggle:direction')\r\n            : $emit(\r\n                'sort:by',\r\n                getSortNameAndFunction(block.name, block.sort_rule)\r\n              )\r\n        \"\r\n      />\r\n    </sized-div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SizedDiv from \"../SizedDiv.vue\";\r\nimport ArrowSwitch from \"../buttons/ArrowSwitch.vue\";\r\n\r\nexport default {\r\n  name: \"DocumentPageSortRow\",\r\n  components: { SizedDiv, ArrowSwitch },\r\n  props: {\r\n    search_schema: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    sort_asc: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    sort_by: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n  emits: [\"toggle:direction\", \"sort:by\"],\r\n  setup() {\r\n    const getSortNameAndFunction = (block_name, sort_rule_name) => [\r\n      block_name,\r\n      sort_rule_name,\r\n    ];\r\n\r\n    return { getSortNameAndFunction };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentpagesortrow {\r\n  display: flex;\r\n}\r\n\r\n.documentpagesortrow__sizedblock {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n}\r\n\r\n.documentpagesortrow__arrow {\r\n  text-align: center;\r\n}\r\n</style>","<template>\r\n  <div\r\n    class=\"arrowswitch\"\r\n    v-bind:class=\"{\r\n      arrowswitch_selected: is_selected === true,\r\n      arrowswitch_checked: is_checked === true,\r\n    }\"\r\n  >\r\n    {{ is_checked ? \"&#x25bc;\" : \"&#x25b2;\" }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ArrowSwitch\",\r\n  props: {\r\n    is_selected: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    is_checked: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.arrowswitch {\r\n  display: block;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  color: lightgrey;\r\n  user-select: none;\r\n}\r\n\r\n.arrowswitch_selected {\r\n  color: lightsalmon;\r\n}\r\n</style>","import { render } from \"./ArrowSwitch.vue?vue&type=template&id=1e2cf47e\"\nimport script from \"./ArrowSwitch.vue?vue&type=script&lang=js\"\nexport * from \"./ArrowSwitch.vue?vue&type=script&lang=js\"\n\nimport \"./ArrowSwitch.vue?vue&type=style&index=0&id=1e2cf47e&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DocumentPageSortRow.vue?vue&type=template&id=29807a96&scoped=true\"\nimport script from \"./DocumentPageSortRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPageSortRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPageSortRow.vue?vue&type=style&index=0&id=29807a96&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-29807a96\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"documentsearchstatusrow\">\r\n    <form-text-field :value=\"status\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport FormTextField from \"../fields/FormTextField.vue\";\r\nexport default {\r\n  components: { FormTextField },\r\n  name: \"DocumentSearchStatusRow\",\r\n  props: {\r\n    time: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    count: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    min_index: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    max_index: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    count_of_selected: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    is_searching: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  setup(props) {\r\n    const status = computed(() => {\r\n      if (props.is_searching) return ('...')\r\n      \r\n      let result =\r\n        \"   ENTER   .  \" + props.count.toString() + \".\";\r\n      if (props.time) result += \" (\" + props.time.toString() + \" .)\";\r\n\r\n      if (props.min_index !== undefined && props.max_index !== undefined)\r\n        result +=\r\n          \"  \" +\r\n          (props.min_index + 1).toString() +\r\n          \"-\" +\r\n          (props.max_index + 1).toString() +\r\n          \".\";\r\n\r\n      if (props.count_of_selected !== undefined)\r\n        result += \"  \" + props.count_of_selected.toString() + \".\";\r\n\r\n      return result;\r\n    });\r\n\r\n    return { status };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentsearchstatusrow {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>","import { render } from \"./DocumentSearchStatusRow.vue?vue&type=template&id=8c4e4b98&scoped=true\"\nimport script from \"./DocumentSearchStatusRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentSearchStatusRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentSearchStatusRow.vue?vue&type=style&index=0&id=8c4e4b98&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8c4e4b98\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"documentfilesrow\">\r\n    <div\r\n      class=\"documentfilesrow__fileblock\"\r\n      v-for=\"file in files\"\r\n      :key=\"file.id\"\r\n    >\r\n      <file-block\r\n        class=\"documentfilesrow__file\"\r\n        :file=\"file\"\r\n        :can_be_deleted=\"can_be_deleted\"\r\n        :can_be_dragged=\"can_be_dragged\"\r\n        @delete:file=\"$emit('delete:file', file.id)\"\r\n        @download:file=\"$emit('download:file', [file, $event])\"\r\n        @copy_link_to:file=\"$emit('copy_link_to:file', file)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FileBlock from \"../file/FileBlock.vue\";\r\n\r\nexport default {\r\n  components: { FileBlock },\r\n  name: \"DocumentFilesRow\",\r\n  props: {\r\n    files: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    can_be_deleted: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    can_be_dragged: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  emits: [\"delete:file\", \"download:file\", \"copy_link_to:file\"],\r\n};\r\n</script>\r\n<style scoped>\r\n.documentfilesrow {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.documentfilesrow__fileblock {\r\n  padding: 5px;\r\n}\r\n</style>","import { render } from \"./DocumentFilesRow.vue?vue&type=template&id=7c3004b6&scoped=true\"\nimport script from \"./DocumentFilesRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentFilesRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentFilesRow.vue?vue&type=style&index=0&id=7c3004b6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c3004b6\"]])\n\nexport default __exports__","import { render } from \"./SearchComponent.vue?vue&type=template&id=1a8d1a54&scoped=true\"\nimport script from \"./SearchComponent.vue?vue&type=script&lang=js\"\nexport * from \"./SearchComponent.vue?vue&type=script&lang=js\"\n\nimport \"./SearchComponent.vue?vue&type=style&index=0&id=1a8d1a54&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a8d1a54\"]])\n\nexport default __exports__","import { render } from \"./ServersPage.vue?vue&type=template&id=0b134db0&scoped=true\"\nimport script from \"./ServersPage.vue?vue&type=script&lang=js\"\nexport * from \"./ServersPage.vue?vue&type=script&lang=js\"\n\nimport \"./ServersPage.vue?vue&type=style&index=0&id=0b134db0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b134db0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"message\">\r\n    <div class=\"message__text\">{{ text }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MessagePage\",\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.message {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 200px;\r\n}\r\n\r\n.message__text {\r\n  font-size: 24px;\r\n}\r\n</style>\r\n","import { render } from \"./MessagePage.vue?vue&type=template&id=78023fef\"\nimport script from \"./MessagePage.vue?vue&type=script&lang=js\"\nexport * from \"./MessagePage.vue?vue&type=script&lang=js\"\n\nimport \"./MessagePage.vue?vue&type=style&index=0&id=78023fef&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__",".<template>\r\n  <div class=\"page\">\r\n    <document-page-download-progress-row\r\n      class=\"page__downloadprogress\"\r\n      :files=\"downloading_files\"\r\n      :full_format=\"true\"\r\n    />\r\n    <div class=\"page__form-backdrop\" v-if=\"is_form_opened\">\r\n      <base-form\r\n        class=\"page__form\"\r\n        :attributes=\"form_attributes\"\r\n        :settings=\"form_pages\"\r\n        @update=\"handle_update_form_attribute($event.name, $event.value)\"\r\n        @close=\"handle_form_close()\"\r\n        @apply=\"handle_form_apply()\"\r\n      >\r\n      </base-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRoute } from \"vue-router\";\r\nimport { onMounted, computed, ref, reactive } from \"vue\";\r\nimport { VueUnitOfWork } from \"../../logic/service_layer/uow\";\r\nimport {\r\n  GetFileShareLink,\r\n  DownloadFileByFileShareLink,\r\n  Notify\r\n} from \"../../logic/domain/command\";\r\nimport { MessageBus } from \"../../logic/service_layer/message_bus\";\r\nimport DocumentPageDownloadProgressRow from \"../../components/document/DocumentPageDownloadProgressRow.vue\";\r\nimport BaseForm from \"../../components/forms/BaseForm.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    DocumentPageDownloadProgressRow,\r\n    BaseForm,\r\n  },\r\n  name: \"DownloadFilePage\",\r\n\r\n  setup() {\r\n    const uow = new VueUnitOfWork();\r\n\r\n    const route = useRoute();\r\n    const file_id = route.params.file_id;\r\n    const link_id = route.params.link_id;\r\n\r\n    const downloading_files = computed(() =>\r\n      uow.download_progress.values().map((obj) => obj.value)\r\n    );\r\n\r\n    const download_file = async () => {\r\n      const results = await MessageBus.handle(\r\n        new GetFileShareLink(file_id, link_id),\r\n        uow\r\n      );\r\n      const link = results[0];\r\n      console.log(link);\r\n      if (link)\r\n        if (!link.is_secured)\r\n        await MessageBus.handle(\r\n          new DownloadFileByFileShareLink(file_id, link_id, null),\r\n          uow\r\n        )\r\n        else is_form_opened.value = true;\r\n    };\r\n\r\n    // FORM\r\n    const is_form_opened = ref(false);\r\n    const form_attributes = reactive({\r\n      PASSWORD: \"\",\r\n    });\r\n\r\n    const handle_form_close = () => {\r\n      is_form_opened.value = false;\r\n    };\r\n\r\n    const handle_form_apply = async () => {\r\n      const password = form_attributes[\"PASSWORD\"];\r\n\r\n      if (!password) {\r\n        await MessageBus.handle(new Notify(\"error\", \" \"), uow);\r\n        return;\r\n      }\r\n\r\n      is_form_opened.value = false;\r\n      await MessageBus.handle(\r\n        new DownloadFileByFileShareLink(file_id, link_id, password),\r\n        uow\r\n      );\r\n    };\r\n\r\n    const handle_update_form_attribute = (name, value) =>\r\n      (form_attributes[name] = value);\r\n\r\n    const form_pages = [\r\n      {\r\n        size: 400,\r\n        name: \" \",\r\n        fields: [\r\n          {\r\n            type: \"FormTextField\",\r\n            parameters: {\r\n              font_weight: \"bold\",\r\n            },\r\n            value: \" :\",\r\n          },\r\n          {\r\n            type: \"FormTextInput\",\r\n            bind: \"PASSWORD\",\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    onMounted(async () => {\r\n      await download_file();\r\n    });\r\n\r\n    return {\r\n      downloading_files,\r\n\r\n      // FORM\r\n      is_form_opened,\r\n      form_pages,\r\n      form_attributes,\r\n      handle_update_form_attribute,\r\n      handle_form_apply,\r\n      handle_form_close,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 60px;\r\n  padding-right: 60px;\r\n}\r\n\r\n.page__downloadprogress {\r\n  margin-top: 20px;\r\n  min-height: 20px;\r\n}\r\n\r\n.page__form-backdrop {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.page__form {\r\n  background: #ffffff;\r\n  box-shadow: 2px 2px 20px 1px;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"documentpagedownloadprogressrow\">\r\n    <div\r\n      class=\"documentpagedownloadprogressrow__container\"\r\n      v-for=\"file in files\"\r\n      :key=\"file.id\"\r\n    >\r\n      <span\r\n        class=\"documentpagedownloadprogressrow__item\"\r\n        v-if=\"full_format\"\r\n        >   \"{{file.name}}\"  {{ file.formatted_size() }} - {{ file.progress }}%</span\r\n      >\r\n      <span\r\n        class=\"documentpagedownloadprogressrow__item\"\r\n        v-if=\"!full_format && file.progress < 100\"\r\n        >({{ file.formatted_size() }} - {{ file.progress }}%)</span\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DocumentPageDownloadProgressRow\",\r\n  props: {\r\n    files: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    full_format: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.documentpagedownloadprogressrow {\r\n  display: flex;\r\n}\r\n.documentpagedownloadprogressrow__item {\r\n  padding: 3px;\r\n}\r\n</style>","import { render } from \"./DocumentPageDownloadProgressRow.vue?vue&type=template&id=30857a85&scoped=true\"\nimport script from \"./DocumentPageDownloadProgressRow.vue?vue&type=script&lang=js\"\nexport * from \"./DocumentPageDownloadProgressRow.vue?vue&type=script&lang=js\"\n\nimport \"./DocumentPageDownloadProgressRow.vue?vue&type=style&index=0&id=30857a85&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-30857a85\"]])\n\nexport default __exports__","import { render } from \"./DownloadFilePage.vue?vue&type=template&id=c9fe0e18&scoped=true\"\nimport script from \"./DownloadFilePage.vue?vue&type=script&lang=js\"\nexport * from \"./DownloadFilePage.vue?vue&type=script&lang=js\"\n\nimport \"./DownloadFilePage.vue?vue&type=style&index=0&id=c9fe0e18&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anoskov/code/graduate_work/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9fe0e18\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\r\n\r\nimport LoginPage from '../views/LoginPage.vue'\r\nimport MainPage from '../views/MainPage.vue'\r\nimport ServersPage from '../views/ServersPage.vue'\r\nimport MessagePage from '../views/service/MessagePage.vue'\r\nimport DownloadFilePage from '../views/download/DownloadFilePage'\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: '/files/:file_id/links/:link_id',\r\n    name: 'DownloadFilePage',\r\n    component: DownloadFilePage\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'LoginPage',\r\n    component: LoginPage\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'MainPage',\r\n    component: MainPage\r\n  },\r\n  {\r\n    path: '/servers',\r\n    name: 'ServersPage',\r\n    component: ServersPage\r\n  },\r\n  {\r\n    path: '/:pathMatch(.*)*',\r\n    name: 'PageNotFound',\r\n    component: MessagePage,\r\n    props: {text: \"  \"}\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","//   \r\nimport \"noty/lib/noty.css\";\r\nimport \"noty/lib/themes/relax.css\";\r\n\r\nimport { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\n\r\ncreateApp(App)\r\n  .use(router)\r\n  .mount(\".app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_project\"] = self[\"webpackChunkvue_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4166); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_base_page","class","_createElementBlock","_hoisted_1","_createVNode","_component_navigation_component","links","$setup","navigation_links","_component_router_view","Component","route","_Transition","name","meta","transitionName","_resolveDynamicComponent","key","path","_createElementVNode","_Fragment","_renderList","$props","item","route_name","_component_router_link","to","title","_hoisted_2","NotImplementedError","Error","AbstractBaseRepository","_deep_copy","obj","JSON","parse","stringify","_create_name","_name","Array","isArray","join","_set","_get","_delete","_add_key","_remove_key","_keys","_values","_pure_keys","_keys_box","_values_box","_pure_keys_box","_set_box","_get_box","_delete_box","_add_box_key","_remove_box_key","VueBaseRepository","constructor","super","this","_properties","inject","_reset","Object","keys","forEach","value","add_key","toString","prototype","hasOwnProperty","call","ref","empty","indexOf","push","filter","e","isRef","map","box_id","_keys_name","FlatMixin","reset","reset_keeping_refs","delete","get","set","pure_keys","values","VueFlatRepository","assign","CurrentMixin","set_current","get_current","is_current_settled","AuthenticatedMixin","is_authenticated","VueUserRepository","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","window","atob","c","charCodeAt","slice","get_exp_time_from_token","encoded_token","payload","getCookie","matches","document","cookie","match","RegExp","undefined","deleteCookie","setCookie","options","expires","Date","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","VueTokenMixin","get_access_token","get_refresh_token","_set_token","exp","date","sameSite","set_access_token","set_refresh_token","VueResetMixin","VueTokenRepository","VueFileMixin","set_size","file_id","size","set_total_size","set_size_complete","get_file","get_name","file","set_servers","servers","VueFileFlatRepository","DataClass","_data","_validate_using_schema","schema","data","ajv","Ajv","allErrors","allowUnionTypes","AjvErrors","validate","compile","errors","err","console","log","Tokens","type","properties","access_token","refresh_token","required","additionalProperties","Single","username","email","first_name","last_name","is_superuser","permissions","items","id","host","port","location","zone","latitude","longitude","is_on","is_active","created","updated","List","FileSingle","link","event","is_secured","expire_at","Request","Response","NegativeResponse","code","EmptyPositiveResponse","PositiveFileResponse","LoginCredentialsRequest","password","LoginCredentialsResponse","LogoutRequest","LogoutResponse","MyCredentialsRequest","MyCredentialsResponse","UserSingle","RefreshTokensRequest","RefreshTokensResponse","GetFilesRequest","GetFilesResponse","FileList","GetFileServersRequest","GetFileServersResponse","CdnServerList","DeleteFileRequest","DeleteFileResponse","RenameFileRequest","RenameFileResponse","GetCdnServersRequest","GetCdnServersResponse","AddCdnServerRequest","AddCdnServerResponse","CdnServerSingle","UpdateCdnServerRequest","UpdateCdnServerResponse","DeleteCdnServerRequest","DeleteCdnServerResponse","GetUploadLinkRequest","GetUploadLinkResponse","LinkSingle","GetDownloadLinkRequest","GetDownloadLinkResponse","GetUserActionsRequest","page_num","page_size","GetUserActionsResponse","count","UserActionList","UploadFileRequest","original_file","UploadFileResponse","DownloadFileRequest","DownloadFileResponse","AddFileShareLinkRequest","lifetime","AddFileShareLinkResponse","ShareLinkSingle","GetFileShareLinksRequest","GetFileShareLinksResponse","ShareLinkList","GetFileShareLinkRequest","link_id","GetFileShareLinkResponse","DeleteFileShareLinkRequest","DeleteFileShareLinkResponse","GetDownloadLinkByFileShareLinkRequest","GetDownloadLinkByFileShareLinkResponse","AbstractApi","_defineProperty","request","REQUEST_HANDLERS","func","_auth_token","get_auth_token","set_auth_token","HttpApiError","HttpApi","api_url","async","perform_request","method","parameters","content_type","set_upload_size_method","on_progress","response_type","set_download_size_method","set_size_method","login_with_credentials","logout","my_credentials","refresh_tokens","get_user_actions","get_cdn_servers","add_cdn_server","update_cdn_server","delete_cdn_server","get_files","get_file_servers","delete_file","rename_file","get_upload_link","upload_file","get_download_link","download_file","add_file_share_link","get_file_share_links","get_file_share_link","delete_file_share_link","get_download_link_by_file_share_link","positive_response_class","headers","result","http_call","message","operation_by_link","startsWith","url","URL","search","URLSearchParams","response","Promise","resolve","reject","xhr","XMLHttpRequest","open","responseType","setRequestHeader","length","onprogress","loaded","upload","onerror","onload","getResponseHeader","content_length","Number","parseInt","content_disposition","libmime","status_code","status","send","json_data","Blob","text","error","AbstractApiProvider","HttpApiProvider","args","origin","AbstractNotificator","NotyNotificator","Noty","default","show","do","layout","theme","timeout","progressBar","AbstractTimer","period","f","_callback","_timer","setInterval","_period","clearInterval","CountMixin","set_count","get_count","is_count_settled","VueCountableFlatRepository","token_timer","get_files_timer","AbstractUnitOfWork","messages","VueUnitOfWork","api","notificator","user_repository","action_repository","cdn_server_repository","token_repository","link_repository","file_repository","download_progress","props","setup","uow","user","__exports__","components","NavigationComponent","BasePage","provide","render","_component_heading_component","_component_form_text_input","credentials","onUpdate","_cache","$event","onKeyup","_withKeys","login_action","placeholder","autocomplete","secure","_hoisted_3","_component_btn_component","onClick","caption","logout_action","Command","Notify","level","NotifyApiError","LoginWithCredentials","Logout","MyCredentials","RefreshTokens","GetCdnServers","AddCdnServer","UpdateCdnServer","DeleteCdnServer","GetUserActions","GetFiles","GetFileServers","DeleteFile","RenameFile","DownloadFile","UploadFile","UploadFileByLink","DownloadFileByLink","AddFileShareLink","GetFileShareLinks","FlushFileShareLinks","GetFileShareLink","DeleteFileShareLink","DownloadFileByFileShareLink","Event","ApiError","UserLoginSuccess","RefreshTokenOutdated","UserLogoutSuccess","UploadFileError","filename","UploadFileTooBigError","UploadFileSuccess","DownloadFileSuccess","RenameFileSuccess","DeleteFileSuccess","FileShareLinkCopied","FileShareLinkDeleted","CdnServerAdded","CdnServerUpdated","CdnServerDeleted","WrongErrorType","notify","actions","success","warning","info","notify_api_error","push_message","User","_username","_email","_first_name","_last_name","_is_superuser","_permissions","CdnServer","_id","_host","_port","_location","_zone","_latitude","_longitude","_is_on","_is_active","_created","_updated","to_dict","UserAction","_event","_file_uploaded_text","_file_downloaded_text","_file_renamed_text","_file_deleted_text","_file_share_link_created_text","_file_share_link_deleted_text","toLocaleString","timeZone","ShareLink","_file","_is_secured","_expire_at","is_expired","now","expire_text","File","total_size","_total_size","_servers","_uploaded_size","names_of_servers","x","new_servers","_formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","parseFloat","pow","toFixed","formatted_size","progress","uploaded","WrongResponseError","convert_user_response_obj_to_model","start","convert_user_action_response_obj_to_model","convert_cdn_server_response_obj_to_model","get_extension_of_file","pop","js_download_file","mime","bom","inline","is_pdf","toLowerCase","is_html","blobData","blob","navigator","msSaveBlob","blobURL","createObjectURL","webkitURL","tempLink","createElement","style","display","href","innerText","download","setAttribute","addEventListener","preventDefault","new_window","head","appendChild","body","click","setTimeout","removeChild","revokeObjectURL","convert_file_response_obj_to_model","upload_file_by_link","download_file_by_link","uuidv4","convert_file_link_response_obj_to_model","flush_file_share_links","download_file_by_file_share_link","handle_api_error","user_login_success","access_token_outdated","refresh_token_outdated","router","user_logout_success","upload_file_error","upload_file_success","download_file_success","rename_file_success","delete_file_success","file_share_link_copied","file_share_link_deleted","cdn_server_added","cdn_server_updated","cdn_server_deleted","COMMAND_HANDLERS","EVENT_HANDLERS","AccessTokenOutdated","MessageBus","static","quenue","handle_function","current_message","new_messages","handle_command","concat","handle_event","promises","all","handlers","command_result","handler","events","collect_new_messages","_normalizeClass","disabled","String","Boolean","_normalizeStyle","is_disabled","onInput","_ctx","$emit","target","emits","emit","default_value","height","computed","color","BtnComponent","HeadingComponent","FormTextInput","reactive","useRouter","useRoute","handle","query","stop","is_form_opened","_component_base_form","attributes","form_attributes","settings","form_pages","handle_update_form_attribute","onClose","handle_form_close","onApply","handle_form_apply","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","perm","selected_file_id","_hoisted_25","_component_form_text_field","font_weight","selected_file_name","handle_rename_file","_hoisted_26","_component_file_list","files","downloading_files","can_be_deleted","can_be_dragged","_component_file_drop_zone","page__filedropzone_dragging","is_drag_above_file_zone","handle_new_file_drop","_hoisted_27","max_file_size","multiple","onChange","_hoisted_28","_component_document_pagination_row","total_count","ua_total_count","count_per_page","ua_count_per_page","current_page","ua_current_page","variants","ua_variants","ua_select_count_per_page","ua_select_page","user_actions","action","_hoisted_29","_hoisted_30","_hoisted_31","share_links","handle_delete_link","_hoisted_33","_hoisted_34","_hoisted_35","make_share_link_for_selected_file","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","server","can_change_server","_component_form_boolean_input","hint","handle_activate_server","filerow_selected","_hoisted_43","handle_select_file","_hoisted_44","handle_delete","_hoisted_46","_component_file_block","handle_download","handle_copy_link","_hoisted_47","_hoisted_48","includes","_component_text_button","is_intermediate_part_shown","has_intermediate_part","pages_before","page","index","pages_after","pages","textbutton_disabled","TextButton","max_count_of_pages","count_before","count_after","from","ceil","num","min","max","find","watch","newValue","onMounted","onDrop","_withModifiers","handleDrop","onDragover","onDragenter","is_dragging","onDragleave","_renderSlot","$slots","filename_pattern","regexp","dataTransfer","oldValue","is_rename_active","draggable","onDragstart","handle_drag_start","onDragend","is_uploaded","can_be_renamed","_component_toggle_text_button","fileblock__renamebutton_red","activeTitle","passiveTitle","isActive","handle_click_on_rename_button","progress_str","ToggleTextButton","evt","setData","ext","basename","substring","FileBlock","width","form_width","is_header_required","page_index","page_name","page_count","page_fields","field","context","make_field_context","bind","align","srcdoc","checked","resize","rows","date_str","handle_update_date","toISOString","valueAsNumber","convert","cc","bcc","FormTextField","address","TO","CC","BCC","variant_idx","variant_count","goto_next_letter","formemailaddressinput__button_inactive","goto_previous_letter","search_field_parameters","search_query","validate_email","add_email","use_the_letter_as_current","sorted_current_variant","row","designation","full_email","get_row_title","change_designation","description","domain","addresses","known_emails","address_decode_str","address_decode","entries","a","b","address_encode","obj_with_all_NA_addresses","NA","arr","current_variant","test","modified_current_variant","structuredClone","next_designation","filtered_current_variant","sort","cmp","localeCompare","_component_ckeditor","body_html","config","editor_config","onNamespaceloaded","onNamespaceLoaded","height_in_px","fullPage","allowedContent","extraPlugins","resize_enabled","autoGrow_minHeight","autoGrow_maxHeight","toolbar","colorButton_colors","removePlugins","CKEDITOR","plugins","addExternal","handle_choose_value","option","selected","str_index","_component_form_select_input","onMousedown","handle_click_on_target","is_selected","filtered_options","FormSelectInput","toUpperCase","FormHtmlField","FormBooleanInput","FormMultilineTextInput","FormEmailToAddressField","FormEmailToAddressInput","FormDateInput","FormHtmlInput","FormFilteredSelectInput","page_settings","bind_context","filterArrayOfObjectsByQuery","arrOfObjects","queryObject","to_be_taken","needle","key_names","rule","haystack","useBeforeEnterPage","auto_login_action","fullPath","convertStringToDate","parts","NaN","useDataEncode","converter","converters","date_to_timestamp","convertDateToTimestamp","date_to_iso_string","convertDateToIsoString","date_to_date_object","convertDateToDateObject","converter_func","useCurrentMixin","init_obj","repository","from_repository_convertion","current_id","current","convertObject","handle_update_attribute","useSelectionMixin","all_items","items_seen_on_page","selected_item_ids","count_of_selected_items","handle_select_item","reset_selection","is_all_selected","handle_select_all_items","selected_items","usePaginationMixin","pagination_variants","pagination_count_per_page","pagination_current_page","pagination_min_index","pagination_max_index","handle_set_page_range","paginated_items","convert_functions","exclude_keys","isNaN","getTime","convertDateToDateTimeString","useGetSortFunction","sort_default","sort_numbers","sort_strings","sort_change_order_number","id_a","year_a","id_b","year_b","compare_years","compare_ids","rules","DEFAULT","INTEGER","STRING","BOOL","DATE","CHANGE_ORDER_NUMBER","FileDropZone","DocumentPaginationRow","BaseForm","toSorted","refresh_actions","make_share_link","params","handle_copy_link_into_clipboard","clipboard","writeText","then","FILE_ID","LIFETIME","PASSWORD","results","fields","set_callback","is_edit_mode","can_add","add_action","is_edit_block_valid","can_change","update_action","can_delete","delete_action","_component_search_component","search_schema","model_objects","convert_obj_to_item","convert_model_to_item","sort_by","sort_asc","search_time","is_searching","should_emit_search_event_on_any_keypress","onChoose","onSearch","search_action","_component_document_page_search_row","required_space_for_link","has_link","is_selection_required","_component_document_search_status_row","time","min_index","max_index","_component_document_page_sort_row","var_sort_asc","var_sort_by","var_sort_rule","searchcomponent__row_selected","_component_document_attribute_row","link_route_obj","link_to_single_page","is_files_shown","_component_document_files_row","attachments","_component_sized_div","block","grow","get_component_name","get_query_value","get_parameters","emit_search_event","set_query_value","is_tuning_mode","_component_tuning_item","_component_icon_button","icon_on","prev_size","next_size","icon_off","IconButton","size_variants","idx","SizedDiv","TuningItem","is_clean_required","get_query_key","encoded_query","property","re","is_pattern_valid","get_initial_value","reset_query","regexp_str","str","get_query_item","boolean_input_parameters","select_input_parameters","text_input_parameters","documentattributerow_modified","is_highlighted","get_bool_attribute","_component_form_date_input","round","_component_arrow_switch","is_checked","getSortNameAndFunction","sort_rule","ArrowSwitch","block_name","sort_rule_name","count_of_selected","DocumentPageSearchRow","DocumentAttributeRow","DocumentPageSortRow","DocumentSearchStatusRow","DocumentFilesRow","Function","var_sort_func","SearchComponent","query_for_internal_search","to_repository_convertion","_component_document_page_download_progress_row","full_format","DocumentPageDownloadProgressRow","routes","component","DownloadFilePage","LoginPage","MainPage","ServersPage","MessagePage","createRouter","history","createWebHistory","process","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}